!function(t,e,n,o,r,a,i){t.GoogleAnalyticsObject=r,t[r]=t[r]||function(){(t[r].q=t[r].q||[]).push(arguments)},t[r].l=1*new Date,a=e.createElement(n),i=e.getElementsByTagName(n)[0],a.async=1,a.src=o,i.parentNode.insertBefore(a,i)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),function(){var t,e={}.hasOwnProperty,n=[].slice;t=function(){function t(t){n=t}var n,o,r,a,i,s,u,c;return t.contextAddress="https://www.sizeme.com",t.gaTrackingID="UA-40735596-1",u=!1,ga(function(){return u=null!=t.gaTrackingID}),t.version="2.0",n=void 0,o=!("withCredentials"in new XMLHttpRequest),r=function(t){return null!=window.attachEvent?window.attachEvent("onmessage",t):window.addEventListener("message",t)},c=function(t){return null!=window.detachEvent?window.detachEvent("onmessage",t):window.removeEventListener("message",t)},a=function(e,r,a,i){var s,c;return c=void 0,s=""+t.contextAddress+r,o?"undefined"!=typeof XDomainRequest&&null!==XDomainRequest?(c=new XDomainRequest,s=s+"?_tm="+(new Date).getTime(),null!=n&&(s=s+"&authToken="+n),u||(s+="&analyticsDisabled=true"),c.onload=function(){return a(c)},c.onerror=function(){return i(c)},c.open(e,s,!0)):console.error("Unsupported browser"):(c=new XMLHttpRequest,c.onreadystatechange=function(){return 4===c.readyState?c.status>=200&&c.status<300?a(c):i(c):void 0},c.open(e,s,!0),null!=n&&c.setRequestHeader("Authorization","Bearer "+n),u||c.setRequestHeader("X-Analytics-Disabled","true")),c},s=function(t,e,n){return window.console&&console.log?console.log("Error: "+n+" ("+e+")"):void 0},t.trackEvent=function(e,n){return u?(ga("create",t.gaTrackingID,"auto",{name:"sizemeTracker"}),this.trackEvent=function(t,e){return ga("sizemeTracker.send",{hitType:"event",eventCategory:window.location.hostname,eventAction:t,eventLabel:e})},this.trackEvent(e,n)):void 0},t.getAuthToken=function(e,n){var i,u,l;null==n&&(n=s),o?(u=document.createElement("iframe"),i=function(n){var o;n.origin===t.contextAddress&&(o=n.data,c(i),document.body.removeChild(u),t.trackEvent("authToken","API: getAuthToken"),null!=e&&"function"==typeof e&&e(o))},r(i),u.setAttribute("src",t.contextAddress+"/api/authToken.html"),u.setAttribute("style","display:none"),document.body.appendChild(u)):(l=a("GET","/api/authToken",function(n){return t.trackEvent("authToken","API: getAuthToken"),e(JSON.parse(n.responseText))},function(t){return n(t,t.status,t.statusText)}),l.withCredentials=!0,l.send())},i=function(n){var o,r,a,i;r=JSON.parse(n.responseText),a=new t.Map;for(i in r)e.call(r,i)&&(o=r[i],o.matchMap=t.Map.fromObject(o.matchMap),a.addItem(i,o));return a},t.prototype.fetchProfilesForAccount=function(e,n){null==n&&(n=s),a("GET","/api/profiles",function(n){return t.trackEvent("fetchProfiles","API: fetchProfiles"),e(JSON.parse(n.responseText))},function(t){return n(t,t.status,t.statusText)}).send()},t.prototype.match=function(e,n,o){var r,u;null==o&&(o=s),r=JSON.stringify(e),u=a("POST","/api/compareSizes",function(e){return t.trackEvent("match","API: match"),n(i(e))},function(t){return o(t,t.status,t.statusText)}),null!=u.setRequestHeader&&u.setRequestHeader("Content-Type","application/json"),u.send(r)},t.prototype.getItemTypes=function(e,n){null==n&&(n=s),a("GET","/api/itemTypes",function(n){return t.trackEvent("getItemTypes","API: getItemTypes"),e(JSON.parse(n.responseText))},function(t){return n(t,t.status,t.statusText)}).send()},t.loginFrame=function(e){var n,o,a;a=t.contextAddress+"/remote-login.html",o="height=375,width=349,left=200,top=200,location=no,menubar=no, resizable=no,scrollbars=no,toolbar=no",n=function(o){return o.origin===t.contextAddress&&(c(n),o.data)?(t.trackEvent("apiLogin","API: login"),e()):void 0},r(n),window.open(a,"loginframe",o),t.trackEvent("loginFrame","API: loginFrame")},t.logout=function(e){var n,o;return o=document.createElement("iframe"),n=function(r){r.origin===t.contextAddress&&"logout"===r.data&&(c(n),document.body.removeChild(o),t.trackEvent("apiLogout","API: logout"),null!=e&&e())},r(n),o.setAttribute("src",t.contextAddress+"/remote-logout"),o.setAttribute("style","display:none"),document.body.appendChild(o)},t}(),t.Map=function(){function o(){}return o.prototype.keys=function(){var t,n;n=[];for(t in this)e.call(this,t)&&n.push(t);return n},o.prototype.each=function(t){var n,o;for(n in this)e.call(this,n)&&(o=this[n],t(n,o))},o.prototype.addItem=function(t,e){return this[t]=e,this},o.prototype.addItems=function(){var t,e,o,r;if(e=1<=arguments.length?n.call(arguments,0):[],e.length%2!==0)throw new Error('Arguments must be "tuples" (example: (key1, value1, key2, value2, ...)');for(t=o=0,r=e.length;r>o;t=o+=2)this.addItem(e[t],e[t+1]);return this},o.fromObject=function(n){var o,r,a;r=new t.Map;for(o in n)e.call(n,o)&&(a=n[o],r.addItem(o,a));return r},o}(),t.FitRequest=function(){function t(t,e){this.profileId=t,this.item=e}return t}(),t.Item=function(){function e(e,n,o,r){this.itemType=e,this.itemLayer=null!=n?n:0,this.itemThickness=null!=o?o:0,this.itemStretch=null!=r?r:0,this.measurements=new t.Map}return e.prototype.addSize=function(t,e){return this.measurements.addItem(t,e),this},e}(),t.FitRange=function(){function t(){}var n;return n={too_small:{start:0,end:1e3},slim:{start:1e3,end:1050},regular:{start:1050,end:1110},loose:{start:1110,end:1170},too_big:{start:1170,end:99990}},t.getFitRangeLabels=function(){return n},t.getFitRangeLabel=function(t){var o,r,a;return a=function(){var a;a=[];for(o in n)e.call(n,o)&&(r=n[o],r.start<=t&&r.end>t&&a.push(o));return a}()},t}(),window.SizeMe=t}.call(this);