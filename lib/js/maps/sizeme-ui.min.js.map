{"version":3,"sources":["sizeme-ui.js"],"names":["window","SizeMeI18N","defaultLang","defLang","languages","this","add","lang","langObj","get","SizeMe","I18N","undefined","FIT_VERDICT","not_fitted","too_small","slim","regular","loose","very_loose","huge","too_big","FIT_VERDICT_LONG","MEASUREMENT","chest","waist","sleeve","sleeve_top_width","sleeve_top_opening","wrist_width","underbust","neck_opening_width","shoulder_width","front_height","pant_waist","hips","inseam","outseam","thigh_width","knee_width","calf_width","pant_sleeve_width","shoe_inside_length","shoe_inside_width","hat_width","hood_height","hem","sleeve_opening","COMMON","shopping_for","selected_size","is","add_to_profile","size","fetching_profiles","close_text","go_to","my_profiles","and_create_one","MESSAGE","add_profiles","missing_measurements","no_measurements","add_this_measurement","no_profiles","no_top_button","DETAILED","window_title","button_text","table_title","SIZE_GUIDE","measurement_disclaimer","measurement_disclaimer_collar","measurement_disclaimer_inside","advertisement","FIT_INFO","when_pinched","stretched_little","stretched_somewhat","stretched_much","stretched_max","the_item","the_measurement","no_overlap","is_smaller","overlaps_you","arm_sleeve_straight","sm_considers_fit","overall_fit","overall_fit_for_size","SPLASH","detailed_text","btn_sign_up_title","btn_sign_up_label","btn_log_in_title","btn_log_in_label","btn_no_thanks_title","btn_no_thanks_label","product_page_splashes","product_page_splash_title","UI","$","createCookie","name","value","days","expires","date","Date","setTime","getTime","toGMTString","document","cookie","readCookie","c","ca","split","i","length","trim","eraseCookie","sizeText","txt","retStr","getFit","fitValue","importance","returnFit","singleFit","ranges","FIT_RANGES_LESS_IMPORTANCE","FIT_RANGES","hasOwnProperty","addIds","selectElement","each","myVal","val","myText","text","addClass","id","sizemeProduct","item","measurements","sizeKeys","push","key","sizeLabel","getItemTypeArr","itemTypeStr","itemType","toString","itemTypeArr","separator","indexOf","itemTypeSplitted","isInside","loadArrows","isSizeGuide","$i","$x","arrowColor","arrowColorGreen","arcStyle","arrowColorBlack","measurement_arrows","mirror","coords","X","Y","style","lift","color","cp1X","cp1Y","cp2X","cp2Y","midCircle","item_drawing","accents","i18n","type","noMirror","R","FIT_ORDER","splice","Math","round","$base_y","getSliderHtml","sliderHtml","basePosX","cellTitle","sizeme_local_options","fitAreaSlider","perc_width","sliderScale","label","sliderPos","offset","returnPos","min","sliderPosXMax","sliderPosXMin","max","killExtraSlider","remove","drawExtraSlider","hide","appendTo","fadeIn","fadeLength","newWidth","width","moveSlider","shouldAnimate","stop","animate","moveAreaSlider","matchMap","endX","startX","newMarginLeft","smallestFit","biggestFit","measurement","isImportant","componentFit","marginLeft","css","goWriteMessages","missingMeasurements","accuracy","totalFit","$message","$message_type","$message_link","empty","selectedProfile","linkToSelectedProfile","accuracyThreshold","overlap","attr","selectToButtons","element","numClass","$content","createElement","thisId","thisLabel","thisClass","thisVal","$div","on","find","removeClass","uiOptions","sizeSelectionElement","trigger","append","after","getMaxY","data","getMaxX","getMinX","getMinY","getArced","p1","p2","dX","arcRadius","liftCoords","nX","nY","dY","angleA","atan2","sin","arrowLift","cos","getMidPoints","mid","plotItem","isArrow","scale","offsetX","offsetY","highlighted","pX","coord","pY","j","lcp","beginPath","lineWidth","arrowLineWidth","moveTo","bezierCurveTo","lineTo","stroke","arc","arrowEndRadius","PI","fill","rad","arrowNumberRadius","fillStyle","font","arrowNumberFont","textAlign","textBaseline","arrowNumberHighlightFont","fillText","num","fillColor","strokeStyle","drawColor","itemLineWidth","lineCap","lineJoin","miterLimit","realCanvasWidth","writeItemCanvas","canvas_id","highlight","getElementById","getContext","realCanvasHeight","canvasWidth","padding","canvasHeight","maxX","maxY","inputKey","draw","Object","keys","initOpentip","Opentip","lastZIndex","styles","myDefaultStyle","group","defaultStyle","hasNeckOpening","retval","noThanks","noProductSplash","writeDetailedWindow","itemName","txts","linkTarget","appendContentTo","$dialog","dialog","position","my","at","of","autoOpen","dialogClass","minHeight","minWidth","scaleH","scaleW","closeText","title","click","trackEvent","$clone","clone","addBack","change","$slider_clone","end","$matchMap","$txt","sizeme_options","service_status","contextAddress","clearAuthToken","colorCell","$cell","arrow","arrowColorInfo","selectedFit","getMissingMeasurement","isPinched","PINCHED_FITS","isLongFit","LONG_FITS","isPinchedTxt","getStretchedTxt","stretch_value","updateDetailedTable","$row","$tip","$table","html","$tip_txts","$tip_classes","writeOverlaps","drawReason","matchItem","$meas_top","toLowerCase","toFixed","$sleeve_txt","$sleeve_height","percentage","$front_height_txt","$front_height_height","componentStretch","replace","$fitVerdict","className","missing","$class","$j","$first","updateDetailedSliderTip","thisSize","thisFit","$trigger","$tip_txt","updateSlider","thisData","isRecommended","detailedContainer","animateSlider","fitRangeLabel","writeMessages","getStandardHeader","headerHtml","getSplashDetailed","getProductSplash","splashHtml","findMaxMeasurement","product","maxVal","_","buttonize","setProfileLink","doProfileChange","newValue","matchFn","cookieLifetime","recommendedId","options",1,940,1000,1055,1110,1165,1225,"OPTIMAL_FIT","recommendedLabel","checkSystems","sizeSelectionContainer","init","logoutFn","isLoggedIn","sizemeLang","addToCartEvent","addToCartElement","matchResponseHandler","responseMap","smallestOffset","result","classKey","fitOffset","abs","show","detailedViewContainer","firstRecommendation","recommendedInput","profileListHandler","profileList","cookieProfile","$new","toggleClass","select","profileName","login","logout","loginFn","splashContent","loginFrame","appendSplashTo","slideUp","matchErrorHandler","console","error","sizemeInit","sizeme","dataStorage","DataStorage","_tstorage","x","setItem","removeItem","storage","e","prototype","withStorage","callback","getAuthToken","deferred","Deferred","storedToken","storedTokenObj","getItem","JSON","parse","token","resolve","reject","state","authTokenObj","stringify","promise","initSizeme","then","initProduct","productPromise","sizeme_product","getProductInfo","smProduct","Item","itemLayer","itemThickness","itemStretch","addOption","Map","fromObject","setup","sizemeUI","systemsGo","doMatch","extend","join","match","FitRequest","loggedInCb","fetchProfilesForAccount","loggedOutCb","log","sizemeDef","always","when"],"mappings":"CAAA,SAAUA,GACN,YAEA,IAAIC,GAAa,SAAUC,GAEvB,GAAIC,GAAUD,GAAe,KAEzBE,IACJA,GAAUD,MAEVE,KAAKC,IAAM,SAAUC,EAAMC,GACvBJ,EAAUG,GAAQC,GAGtBH,KAAKI,IAAM,SAAUF,GACjB,MAAOH,GAAUG,IAASH,EAAUD,IAI5CO,QAAOC,KAAO,GAAIV,GAAW,OAE9BD,QACH,SAAWY,GACP,YAEAF,QAAOC,KAAKL,IAAI,MAERO,aACIC,WAAY,YACZC,UAAW,YACXC,KAAM,OACNC,QAAS,UACTC,MAAO,QACPC,WAAY,aACZC,KAAM,OACNC,QAAS,WAEbC,kBACIR,WAAY,YACZC,UAAW,YACXC,KAAM,QACNC,QAAS,UACTC,MAAO,OACPC,WAAY,YACZC,KAAM,OACNC,QAAS,YAEtBE,aACaC,MAAO,QACPC,MAAO,QACPC,OAAQ,SACRC,iBAAkB,aAClBC,mBAAoB,qBACpBC,YAAa,QACbC,UAAW,YACXC,mBAAoB,SACpBC,eAAgB,WAChBC,aAAc,eACdC,WAAY,aACZC,KAAM,OACNC,OAAQ,SACRC,QAAS,UACTC,YAAa,QACbC,WAAY,OACZC,WAAY,OACZC,kBAAmB,cACnBC,mBAAoB,cACpBC,kBAAmB,aACnBC,UAAW,oBACXC,YAAa,cACzBC,IAAK,MACLC,eAAgB,kBAEjBC,QACCC,aAAc,eACdC,cAAe,gBACfC,GAAI,KACJC,eAAgB,iBAChBC,KAAM,OACNC,kBAAmB,uBACnBC,WAAY,QACZC,MAAO,QACPC,YAAa,cACbC,eAAgB,mBAEjBC,SACCC,aAAc,0DACdC,qBAAsB,+DACtBC,gBAAiB,8DACjBC,qBAAsB,6EACtBC,YAAa,wCACbC,cAAe,qDAEhBC,UACCC,aAAc,oBACdC,YAAa,uBACbC,YAAa,2BAEdC,YACCH,aAAc,iBACdC,YAAa,aACbC,YAAa,2BACbE,uBAAwB,8EACxBC,8BAA+B,wFAC/BC,8BAA+B,0DAC/BC,cAAe,wCAEhBC,UACCC,aAAc,gBACdC,iBAAkB,kCAClBC,mBAAoB,yBACpBC,eAAgB,+BAChBC,cAAe,oCACfC,SAAU,aACVC,gBAAiB,cACjBC,WAAY,sCACZC,WAAY,sDACZC,aAAc,kBACdC,oBAAqB,qEACrBC,iBAAkB,uCAClBC,YAAa,cACbC,qBAAsB,+BAEvBC,QACCC,cAAe,0KACfC,kBAAmB,UACnBC,kBAAmB,yCACnBC,iBAAkB,SAClBC,iBAAkB,4BAClBC,oBAAqB,YACrBC,oBAAqB,cACrBC,uBAAwB,oCACxBC,0BAA2B,+EAM/B,SAAWvF,GACP,YAEAF,QAAOC,KAAKL,IAAI,MAERO,aACIC,WAAY,QACZC,UAAW,QACXC,KAAM,QACNC,QAAS,WACTC,MAAO,QACPC,WAAY,iBACZC,KAAM,UACNC,QAAS,aAEbC,kBACIR,WAAY,cACZC,UAAW,cACXC,KAAM,WACNC,QAAS,WACTC,MAAO,WACPC,WAAY,QACZC,KAAM,UACNC,QAAS,eAEtBE,aACaC,MAAO,QACPC,MAAO,UACPC,OAAQ,OACRC,iBAAkB,eAClBC,mBAAoB,eACpBC,YAAa,QACbC,UAAW,cACXC,mBAAoB,SACpBC,eAAgB,SAChBC,aAAc,YACdC,WAAY,iBACZC,KAAM,SACNC,OAAQ,YACRC,QAAS,YACTC,YAAa,QACbC,WAAY,QACZC,WAAY,QACZC,kBAAmB,QACnBC,mBAAoB,aACpBC,kBAAmB,aACnBC,UAAW,eACXC,YAAa,gBACzBC,IAAK,QACLC,eAAgB,aAEjBC,QACCC,aAAc,sBACdC,cAAe,eACfC,GAAI,KACJC,eAAgB,mBAChBC,KAAM,OACNC,kBAAmB,wBACnBC,WAAY,QACZC,MAAO,OACPC,YAAa,qBACbC,eAAgB,oBAEjBC,SACCC,aAAc,6CACdC,qBAAsB,qDACtBC,gBAAiB,mDACjBC,qBAAsB,wDACtBC,YAAa,0CACbC,cAAe,kDAEhBC,UACCC,aAAc,4BACdC,YAAa,iBACbC,YAAa,kBAEdC,YACCH,aAAc,0BACdC,YAAa,eACbC,YAAa,iBACbE,uBAAwB,oEACxBC,8BAA+B,8DAC/BC,8BAA+B,gDAC/BC,cAAe,gCAEhBC,UACCC,aAAc,+BACdC,iBAAkB,qBAClBC,mBAAoB,eACpBC,eAAgB,wBAChBC,cAAe,wBACfC,SAAU,WACVC,gBAAiB,SACjBC,WAAY,2BACZC,WAAY,yCACZC,aAAc,kBACdC,oBAAqB,yDACrBC,iBAAkB,qCAClBC,YAAa,WACbC,qBAAsB,sBAEvBC,QACCC,cAAe,yIACfC,kBAAmB,gBACnBC,kBAAmB,mCACnBC,iBAAkB,WAClBC,iBAAkB,2BAClBC,oBAAqB,YACrBC,oBAAqB,iBACrBC,uBAAwB,qDACxBC,0BAA2B,qEAM/B,SAAWvF,GACV,YAEAF,QAAOC,KAAKL,IAAI,MAEdO,aACCC,WAAY,YACZC,UAAW,YACXC,KAAM,OACNC,QAAS,SACTC,MAAO,MACPC,WAAY,aACZC,KAAM,MACNC,QAAS,YAEVC,kBACCR,WAAY,WACZC,UAAW,WACXC,KAAM,OACNC,QAAS,SACTC,MAAO,OACPC,WAAY,cACZC,KAAM,MACNC,QAAS,YAEVE,aACCC,MAAO,QACPC,MAAO,QACPC,OAAQ,MACRC,iBAAkB,kBAClBC,mBAAoB,sBACpBC,YAAa,UACbC,UAAW,gBACXC,mBAAoB,QACpBC,eAAgB,UAChBC,aAAc,cACdC,WAAY,eACZC,KAAM,SACNC,OAAQ,WACRC,QAAS,YACTC,YAAa,MACbC,WAAY,MACZC,WAAY,MACZC,kBAAmB,cACnBC,mBAAoB,YACpBC,kBAAmB,YACnBC,UAAW,eACXC,YAAa,cACbC,IAAK,OACLC,eAAgB,eAEjBC,QACCC,aAAc,aACdC,cAAe,eACfC,GAAI,KACJC,eAAgB,qBAChBC,KAAM,UACNC,kBAAmB,oBACnBC,WAAY,QACZC,MAAO,UACPC,YAAa,gBACbC,eAAgB,iBAEjBC,SACCC,aAAc,6DACdC,qBAAsB,uDACtBC,gBAAiB,4DACjBC,qBAAsB,gFACtBC,YAAa,qCACbC,cAAe,6DAEhBC,UACCC,aAAc,sBACdC,YAAa,kBACbC,YAAa,8BAEdC,YACCH,aAAc,qBACdC,YAAa,iBACbC,YAAa,wBACbE,uBAAwB,uEACxBC,8BAA+B,gEAC/BC,8BAA+B,wDAC/BC,cAAe,6CAEhBC,UACCC,aAAc,gBACdC,iBAAkB,0BAClBC,mBAAoB,oBACpBC,eAAgB,2BAChBC,cAAe,iCACfC,SAAU,YACVC,gBAAiB,OACjBC,WAAY,qBACZC,WAAY,yCACZC,aAAc,mBACdC,oBAAqB,oDACrBC,iBAAkB,mCAClBC,YAAa,iBACbC,qBAAsB,gCAEvBC,QACCC,cAAe,+JACfC,kBAAmB,UACnBC,kBAAmB,sCACnBC,iBAAkB,WAClBC,iBAAkB,0BAClBC,oBAAqB,WACrBC,oBAAqB,gBACrBC,uBAAwB,wCACxBC,0BAA2B,oFAc/B,SAAWnG,EAAQY,GAEfF,OAAO0F,GAAK,SAAUC,GA8HlB,QAASC,GAAaC,EAAMC,EAAOC,GAC/B,GAAIC,EACJ,IAAID,EAAM,CACN,GAAIE,GAAO,GAAIC,KACfD,GAAKE,QAAQF,EAAKG,UAAoB,GAAPL,EAAY,GAAK,GAAK,KACrDC,EAAU,aAAeC,EAAKI,kBAG9BL,GAAU,EAEdM,UAASC,OAASV,EAAO,IAAMC,EAAQE,EAAU,WAGrD,QAASQ,GAAWX,GAEhB,IAAK,GADgCY,GAAjCC,EAAKJ,SAASC,OAAOI,MAAM,KACtBC,EAAI,EAAGA,EAAIF,EAAGG,OAAQD,IAE3B,GADAH,EAAIC,EAAGE,GAAGE,OAAOH,MAAM,KACnBF,EAAE,KAAOZ,EACT,MAAOY,GAAE,EAGjB,OAAO,MAGX,QAASM,GAAYlB,GACjBD,EAAaC,EAAM,GAAI,IAG3B,QAASmB,GAASC,GACd,GAAIC,GAASD,CAGb,OAFAC,GAASA,EAAOP,MAAM,MAAM,GAC5BO,EAASA,EAAOP,MAAM,MAAM,GAIhC,QAASQ,GAAOC,EAAUC,GACtB,GAAIC,GAAWC,EACXC,CACJA,GAASC,GACS,GAAdJ,IAAiBG,EAASE,GAC9B,KAAKH,IAAaC,GACd,GAAIA,EAAOG,eAAeJ,GAAY,CAClC,GAAeA,EAAXH,EACA,MAAIE,GACOA,EAEJE,EAAOD,EAElBD,GAAYE,EAAOD,GAG3B,MAAOD,GAGX,QAASM,GAAOC,GAEZlC,EAAEkC,EAAgB,WAAWC,KAAK,WAC9B,GAAIC,GAAQpC,EAAEhG,MAAMqI,MAChBC,EAAStC,EAAEhG,MAAMuI,MACrBvC,GAAEhG,MAAMwI,SAAS,6BAA+BJ,GAChDpI,KAAKyI,GAAML,EAAQ,SAAWA,EAAQ,SAClCA,GACIM,EAAcC,KAAKC,aAAaR,IAChCS,GAASC,MAAMC,IAAKX,EAAOY,UAAWV,MAKlDtC,EAAEkC,GAAeM,SAAS,wBAG9B,QAASS,KACL,GAAIC,GAAcR,EAAcC,KAAKQ,SAASC,WAC1CC,GAAe,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACjCC,EAAY,EACZJ,GAAYK,QAAQ,KAAO,KAAID,EAAY,IAE/C,KAAK,GADDE,GAAmBN,EAAYlC,MAAMsC,EAAW,GAC3CrC,EAAI,EAAGA,EAAIuC,EAAiBtC,OAAQD,IAAKoC,EAAYpC,IAAMuC,EAAiBvC,EACrF,OAAOoC,GAGX,QAASI,KACL,GAAIJ,GAAcJ,GAClB,OAA6B,KAAnBI,EAAY,IAAiC,IAAnBA,EAAY,GAGpD,QAASK,GAAWC,GAChB,GAAIC,GAAIC,EACJR,EAAcJ,GAGlBa,GAAaC,EACb,IAAIC,GAAW,KA4If,QA1IIL,IACAG,EAAaG,GACbD,EAAW,QAGfE,GAAmB/I,OACfgJ,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACxCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,GAEXI,GAAmB9I,OACf+I,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACxCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,GAEXI,GAAmBtI,cACfuI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,IAAKD,EAAG,KAAMC,EAAG,MACvCC,MAAO,OACPC,MAAM,EACNC,MAAOX,GAEXI,GAAmBxI,oBACfyI,QAAQ,EACRC,SAAUC,EAAG,EAAGC,EAAG,KAAMD,EAAG,IAAKC,EAAG,EAAGI,KAAM,GAAIC,KAAM,GAAIC,KAAM,IAAKC,KAAM,KACxER,EAAG,EACHC,EAAG,IACHI,KAAM,IACNC,KAAM,GACNC,KAAM,GACNC,KAAM,KAELR,EAAG,KAAMC,EAAG,EAAGI,KAAM,IAAKC,KAAM,GAAIC,KAAM,KAAMC,KAAM,KACnDR,EAAG,EACHC,EAAG,GACHI,KAAM,KACNC,KAAM,GACNC,KAAM,IACNC,KAAM,KAEdN,MAAO,OACPC,MAAM,EACNC,MAAOX,GAGXI,GAAmB1H,aACf2H,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,KAAMD,EAAG,IAAKC,EAAG,OACtCC,MAAO,OACPC,MAAM,EACNC,MAAOX,GAEXI,GAAmBvI,gBACfwI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,KAAMD,EAAG,KAAMC,EAAG,KACxCC,MAAO,OACPC,MAAM,EACNC,MAAOX,GAGXI,GAAmBrI,YACfsI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,IAAKD,EAAG,IAAKC,EAAG,IACtCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,GAEXI,GAAmBpI,MACfqI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACxCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,GAEXI,GAAmBlI,SACfmI,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,IAAKD,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,OACvDC,MAAO,OACPC,MAAM,EACNC,MAAOX,GAEXI,GAAmBnI,QACfoI,QAAQ,EACRC,SAAUC,EAAG,EAAGC,EAAG,MAAOD,EAAG,IAAKC,EAAG,OACrCC,MAAO,OACPC,MAAM,EACNC,MAAOX,GAEXI,GAAmBjI,aACfkI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACxCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,GAEXI,GAAmBhI,YACfiI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACxCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,GAEXI,GAAmB9H,mBACf+H,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,OAAQD,EAAG,KAAMC,EAAG,OAC1CC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,GAGXI,GAAmB7H,oBACf8H,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,KACvCC,MAAO,OACPC,MAAM,EACNC,MAAOX,GAGXI,GAAmB3H,WACf4H,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAChBD,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,IAAKC,KAAM,IAAKC,KAAM,MACvDR,EAAG,GAAIC,EAAG,IAAKI,KAAM,IAAKC,KAAM,IAAKC,KAAM,IAAKC,KAAM,MACtDR,EAAG,GAAIC,EAAG,IAAKI,KAAM,GAAIC,KAAM,IAAKC,KAAM,GAAIC,KAAM,MACzDC,WAAYT,EAAG,IAAKC,EAAG,KACvBC,MAAO,OACPC,MAAM,EACNC,MAAOX,GAGXiB,GAAaZ,QAAS,EACtBY,GAAaX,UACbW,GAAaC,WAEL3B,EAAY,IAEhB,IAAK,GAID,OAHA4B,GAAK/J,YAAYY,KAAOmJ,GAAK/J,YAAYuB,IACzCwI,GAAK/J,YAAYW,WAAaoJ,GAAK/J,YAAYuB,IAEvC4G,EAAY,IAChB,IAAK,GACD0B,GAAaX,OAAOtB,MAAMuB,EAAG,EAAGC,EAAG,MAC/BD,EAAG,IACHC,EAAG,IACHI,KAAM,GACNC,KAAM,IACNC,KAAM,IACNC,KAAM,MACNR,EAAG,IAAKC,EAAG,IACfS,GAAaC,QAAQlC,MACjBoC,KAAM,OAAQd,SAAUC,EAAG,EAAGC,EAAG,MAC5BD,EAAG,IAAKC,EAAG,IAAKI,KAAM,GAAIC,KAAM,IAAKC,KAAM,IAAKC,KAAM,MACtDR,EAAG,GAAIC,EAAG,GAAII,KAAM,GAAIC,KAAM,EAAGC,KAAM,EAAGC,KAAM,KAChDR,EAAG,KAAMC,EAAG,IAAKI,KAAM,IAAKC,KAAM,GAAIC,KAAM,IAAKC,KAAM,MACvDR,EAAG,EAAGC,EAAG,IAAKI,KAAM,KAAMC,KAAM,IAAKC,KAAM,IAAKC,KAAM,MACxDM,UAAU,IAEjBJ,GAAaC,QAAQlC,MACjBoC,KAAM,OAAQd,SAAUC,EAAG,IAAKC,EAAG,IAC9BD,EAAG,IAAKC,EAAG,GAAII,KAAM,IAAKC,KAAM,GAAIC,KAAM,IAAKC,KAAM,KACrDR,EAAG,GAAIC,EAAG,IAAKI,KAAM,IAAKC,KAAM,GAAIC,KAAM,IAAKC,KAAM,KACrDR,EAAG,GAAIC,EAAG,GAAII,KAAM,GAAIC,KAAM,IAAKC,KAAM,GAAIC,KAAM,MACnDR,EAAG,IAAKC,EAAG,IAAKI,KAAM,GAAIC,KAAM,EAAGC,KAAM,IAAKC,KAAM,KACtDM,UAAU,IAEjBJ,GAAaC,QAAQlC,MACjBoC,KAAM,OAAQd,SAAUC,EAAG,KAAMC,EAAG,IAC/BD,EAAG,KAAMC,EAAG,GAAII,KAAM,KAAMC,KAAM,GAAIC,KAAM,KAAMC,KAAM,KACxDR,EAAG,IAAKC,EAAG,IAAKI,KAAM,KAAMC,KAAM,GAAIC,KAAM,KAAMC,KAAM,MACxDR,EAAG,GAAIC,EAAG,GAAII,KAAM,IAAKC,KAAM,GAAIC,KAAM,IAAKC,KAAM,KACtDM,UAAU,IAEjBJ,GAAaC,QAAQlC,MAAMoC,KAAM,SAAUd,SAAUC,EAAG,EAAGC,EAAG,IAAKc,EAAG,MACtElB,GAAmBxI,oBACfyI,QAAQ,EACRC,SAAUC,EAAG,EAAGC,EAAG,MAAOD,EAAG,IAAKC,EAAG,IAAKI,KAAM,GAAIC,KAAM,IAAKC,KAAM,IAAKC,KAAM,MAC3ER,EAAG,GAAIC,EAAG,GAAII,KAAM,GAAIC,KAAM,EAAGC,KAAM,EAAGC,KAAM,KAC7CR,EAAG,KACHC,EAAG,IACHI,KAAM,IACNC,KAAM,GACNC,KAAM,IACNC,KAAM,MAETR,EAAG,EAAGC,EAAG,IAAKI,KAAM,KAAMC,KAAM,IAAKC,KAAM,IAAKC,KAAM,MAC3DN,MAAO,OACPC,MAAM,EACNM,WAAYT,EAAG,EAAGC,EAAG,KACrBG,MAAOX,GAEXI,GAAmBvI,gBACfwI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,KAAMD,EAAG,KAAMC,EAAG,KACxCC,MAAO,OACPC,MAAM,EACNC,MAAOX,GAEXI,GAAmBtI,cACfuI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,KAAMD,EAAG,KAAMC,EAAG,MACxCC,MAAO,OACPC,MAAM,EACNC,MAAOX,EAGX,MACJ,KAAK,GACDiB,GAAaX,OAAOtB,MAAMuB,EAAG,EAAGC,EAAG,OAC/BD,EAAG,IACHC,EAAG,EACHI,KAAM,IACNC,KAAM,KACNC,KAAM,IACNC,KAAM,MAEVE,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,IAAKD,EAAG,EAAGC,EAAG,IAAKI,KAAM,IAAKC,KAAM,GAAIC,KAAM,GAAIC,KAAM,QAEjFE,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,EAAGC,EAAG,OACfD,EAAG,IACHC,EAAG,EACHI,KAAM,IACNC,KAAM,KACNC,KAAM,IACNC,KAAM,MACNR,EAAG,EAAGC,EAAG,IAAKI,KAAM,IAAKC,KAAM,GAAIC,KAAM,GAAIC,KAAM,OAE3DX,GAAmBvI,gBACfwI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,KAAMD,EAAG,KAAMC,EAAG,KACxCC,MAAO,OACPC,MAAM,EACNC,MAAOX,EAEX,MACJ,KAAK,GACDiB,GAAaX,OAAOtB,MAAMuB,EAAG,EAAGC,EAAG,KAAMD,EAAG,IAAKC,EAAG,IACpDS,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,IAAKD,EAAG,EAAGC,EAAG,IAAKI,KAAM,IAAKC,KAAM,GAAIC,KAAM,IAAKC,KAAM,QAElFE,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,EAAGC,EAAG,KAAMD,EAAG,IAAKC,EAAG,EAAGI,KAAM,IAAKC,KAAM,GAAIC,KAAM,IAAKC,KAAM,KACzER,EAAG,EACHC,EAAG,IACHI,KAAM,IACNC,KAAM,GACNC,KAAM,GACNC,KAAM,OAGd,MACJ,KAAK,GACDE,GAAaX,OAAOtB,MAAMuB,EAAG,EAAGC,EAAG,MAAOD,EAAG,IAAKC,EAAG,IACrDS,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,IAAKD,EAAG,EAAGC,EAAG,IAAKI,KAAM,IAAKC,KAAM,IAAKC,KAAM,GAAIC,KAAM,QAElFE,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,EAAGC,EAAG,KAAMD,EAAG,IAAKC,EAAG,EAAGI,KAAM,GAAIC,KAAM,GAAIC,KAAM,IAAKC,KAAM,KACxER,EAAG,EACHC,EAAG,IACHI,KAAM,IACNC,KAAM,IACNC,KAAM,GACNC,KAAM,OAGd,MACJ,KAAK,GACDE,GAAaX,OAAOtB,MAAMuB,EAAG,EAAGC,EAAG,KAAMD,EAAG,IAAKC,EAAG,IACpDS,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,IAAKD,EAAG,EAAGC,EAAG,IAAKI,KAAM,IAAKC,KAAM,GAAIC,KAAM,GAAIC,KAAM,QAEjFE,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,EAAGC,EAAG,KAAMD,EAAG,IAAKC,EAAG,EAAGI,KAAM,GAAIC,KAAM,GAAIC,KAAM,IAAKC,KAAM,KACxER,EAAG,EACHC,EAAG,IACHI,KAAM,IACNC,KAAM,GACNC,KAAM,GACNC,KAAM,MAGd,MACJ,KAAK,GACDE,GAAaX,OAAOtB,MAAMuB,EAAG,EAAGC,EAAG,KAAMD,EAAG,IAAKC,EAAG,IACpDS,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,IAAKD,EAAG,EAAGC,EAAG,IAAKI,KAAM,IAAKC,KAAM,GAAIC,KAAM,GAAIC,KAAM,QAEjFE,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,EAAGC,EAAG,KAAMD,EAAG,IAAKC,EAAG,EAAGI,KAAM,GAAIC,KAAM,GAAIC,KAAM,IAAKC,KAAM,KACxER,EAAG,EACHC,EAAG,IACHI,KAAM,IACNC,KAAM,GACNC,KAAM,GACNC,KAAM,MAGd,MACJ,SACIE,GAAaX,OAAOtB,MAAMuB,EAAG,EAAGC,EAAG,KAAMD,EAAG,IAAKC,EAAG,IACpDS,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,IAAKD,EAAG,EAAGC,EAAG,IAAKI,KAAM,IAAKC,KAAM,GAAIC,KAAM,GAAIC,KAAM,QAEjFE,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,EAAGC,EAAG,KAAMD,EAAG,IAAKC,EAAG,EAAGI,KAAM,GAAIC,KAAM,GAAIC,KAAM,IAAKC,KAAM,KACxER,EAAG,EACHC,EAAG,GACHI,KAAM,IACNC,KAAM,GACNC,KAAM,GACNC,KAAM,OAMtB,OAAQxB,EAAY,IAChB,IAAK,GACL,IAAK,GACD0B,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,KACrCS,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,GAAIC,KAAM,IAAKC,KAAM,MAChFX,GAAmBvI,gBACfwI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,KAAMD,EAAG,KAAMC,EAAG,KACxCC,MAAO,OACPC,MAAM,EACNC,MAAOX,GAEXI,GAAmB5I,kBACf6I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,KACvCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,GAGY,IAAnBT,EAAY,KAEZ0B,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,GAAIC,KAAM,IAAKC,KAAM,MAChFQ,GAAUC,OAAO,GAAI,GACrBpB,GAAmB5I,kBAAmB,EAE1C,MACJ,KAAK,GACL,IAAK,GAsBD,OArBAyJ,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,KACrCS,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACvDS,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,MAErCJ,GAAmB5I,kBACf6I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACvCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,GAEXI,GAAmB1I,aACf2I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACvCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,GAGXmB,GAAK/J,YAAYM,YAAcyJ,GAAK/J,YAAYwB,eAExC2G,EAAY,IAChB,IAAK,GACD0B,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,QAE3CJ,GAAmB7I,QACf8I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,KAAMD,EAAG,IAAKC,EAAG,MACxDC,MAAO,OACPC,MAAM,EACNM,WAAYT,EAAG,IAAKC,EAAG,KACvBG,MAAOX,EAEX,MACJ,KAAK,GACDiB,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MACjBD,EAAG,IACHC,EAAG,EACHI,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,MAGdX,GAAmB7I,QACf8I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,KAAMD,EAAG,IAAKC,EAAG,MACxDC,MAAO,OACPC,MAAM,EACNM,WAAYT,EAAG,IAAKC,EAAG,KACvBG,MAAOX,EAEX,MACJ,KAAK,GACDI,GAAmB7I,QACf8I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,KAAMD,EAAG,IAAKC,EAAG,MACtCC,MAAO,OACPC,MAAM,EACNC,MAAOX,GAEXiB,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MACjBD,EAAG,IACHC,EAAG,GACHI,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,OAKtB,KACJ,KAAK,GACL,IAAK,GAsBD,OArBAE,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,KACrCS,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACvDS,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,MAErCJ,GAAmB5I,kBACf6I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACvCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,GAEXI,GAAmB1I,aACf2I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACvCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,GAGXmB,GAAK/J,YAAYM,YAAcyJ,GAAK/J,YAAYwB,eAExC2G,EAAY,IAChB,IAAK,GACD0B,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,QAE3CJ,GAAmB7I,QACf8I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,KAAMD,EAAG,IAAKC,EAAG,MACxDC,MAAO,OACPC,MAAM,EACNM,WAAYT,EAAG,IAAKC,EAAG,KACvBG,MAAOX,EAEX,MACJ,KAAK,GACDiB,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MACjBD,EAAG,IACHC,EAAG,EACHI,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,MAGdX,GAAmB7I,QACf8I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,KAAMD,EAAG,IAAKC,EAAG,MACxDC,MAAO,OACPC,MAAM,EACNM,WAAYT,EAAG,IAAKC,EAAG,KACvBG,MAAOX,EAEX,MACJ,KAAK,GACDI,GAAmB7I,QACf8I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,KAAMD,EAAG,IAAKC,EAAG,MACtCC,MAAO,OACPC,MAAM,EACNC,MAAOX,GAEXiB,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MACjBD,EAAG,IACHC,EAAG,GACHI,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,OAKtB,KACJ,KAAK,GACL,IAAK,GACL,IAAK,GA0CD,OAzCAE,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,KACrCJ,GAAmB5I,kBACf6I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACvCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,GAGY,IAAnBT,EAAY,IACZ0B,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACrED,EAAG,IACHC,EAAG,MACHD,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACjCS,GAAaC,QAAQlC,MAAMoC,KAAM,OAAQd,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,QAC3EY,KAAM,OAAQd,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,QACrDY,KAAM,OAAQd,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,QACrDY,KAAM,OAAQd,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,QACrDY,KAAM,OAAQd,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,QACrDY,KAAM,OAAQd,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,QACrDY,KAAM,OAAQd,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,QAC1DS,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,MACrCJ,GAAmB1I,aACf2I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACvCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,KAGXiB,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,OACvDS,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,MACrCJ,GAAmB1I,aACf2I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,OACvCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,IAIPT,EAAY,IAChB,IAAK,GACD0B,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,QAE3CJ,GAAmB7I,QACf8I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,KAAMD,EAAG,IAAKC,EAAG,MACxDC,MAAO,OACPC,MAAM,EACNM,WAAYT,EAAG,IAAKC,EAAG,KACvBG,MAAOX,EAEX,MACJ,KAAK,GACDiB,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MACjBD,EAAG,IACHC,EAAG,EACHI,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,MAGdX,GAAmB7I,QACf8I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,KAAMD,EAAG,IAAKC,EAAG,MACxDC,MAAO,OACPC,MAAM,EACNM,WAAYT,EAAG,IAAKC,EAAG,KACvBG,MAAOX,EAEX,MACJ,KAAK,GACDI,GAAmB7I,QACf8I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,KAAMD,EAAG,IAAKC,EAAG,MACtCC,MAAO,OACPC,MAAM,EACNC,MAAOX,GAEXiB,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MACjBD,EAAG,IACHC,EAAG,GACHI,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,QAQ9B,OAAQxB,EAAY,IAChB,IAAK,GACD0B,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,GAAIC,KAAM,IAAKC,KAAM,MAChFE,GAAaX,OAAOtB,MAAMuB,EAAG,EAAGC,EAAG,KAAMI,KAAM,IAAKC,KAAM,IAAKC,KAAM,IAAKC,KAAM,OAChFX,GAAmBtI,cACfuI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,IAAKD,EAAG,KAAMC,EAAG,OACvCC,MAAO,OACPC,MAAM,EACNC,MAAOX,GAEXI,GAAmB7I,QACf8I,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,IAAKD,EAAG,IAAKC,EAAG,KAAMD,EAAG,IAAKC,EAAG,MACtDC,MAAO,OACPC,MAAM,EACNM,WAAYT,EAAG,IAAKC,EAAG,KACvBG,MAAOX,EAEX,MACJ,KAAK,GACD,GAAuB,IAAnBT,EAAY,GAAU,CAStB,IARA0B,GAAaX,OAAOtB,MAChBuB,EAAG,IACHC,EAAG,IACHI,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,MACNR,EAAG,IAAKC,EAAG,MAAOD,EAAG,EAAGC,EAAG,MAC1BV,EAAK,EAAQ,GAALA,EAASA,IAClBC,EAAK0B,KAAKC,OAAO5B,EAAK,KAAQ,IAAM,KACpCmB,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAGR,EAAIS,EAAG,MAAOD,EAAGR,EAAIS,EAAG,OAG7CJ,IAAmBrI,YACfsI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACxCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,OAGXiB,IAAaX,OAAOtB,MAChBuB,EAAG,IACHC,EAAG,IACHI,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,MACNR,EAAG,EAAGC,EAAG,MACbJ,GAAmBrI,YACfsI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACxCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,EAGf,MACJ,KAAK,GAEL,IAAK,GAEL,QACI,GAAI2B,GAAU,GAId,IAHuB,IAAnBpC,EAAY,KACZoC,EAAU,MAES,IAAnBpC,EAAY,GAAU,CAStB,IARA0B,GAAaX,OAAOtB,MAChBuB,EAAG,IACHC,EAAGmB,EACHf,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,MACNR,EAAG,IAAKC,EAAImB,EAAU,KAAOpB,EAAG,EAAGC,EAAImB,EAAU,KAChD7B,EAAK,EAAQ,GAALA,EAASA,IAClBC,EAAK0B,KAAKC,OAAO5B,EAAK,KAAQ,IAAM,KACpCmB,GAAaC,QAAQlC,MACjBoC,KAAM,OACNd,SAAUC,EAAGR,EAAIS,EAAImB,EAAU,KAAOpB,EAAGR,EAAIS,EAAImB,EAAU,MAGnEvB,IAAmBtI,aAAawI,OAAO,GAAGE,EAAKmB,EAAU,GACzDvB,GAAmBpI,MACfqI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAGmB,IAAWpB,EAAG,IAAKC,EAAGmB,IAC5ClB,MAAOP,EACPQ,MAAM,EACNC,MAAOX,OAGXiB,IAAaX,OAAOtB,MAChBuB,EAAG,IACHC,EAAImB,EAAU,GACdf,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAMY,IACNpB,EAAG,EAAGC,EAAImB,EAAU,KACxBvB,GAAmBtI,aAAawI,OAAO,GAAGE,EAAKmB,EAAU,GACzDvB,GAAmBpI,MACfqI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAImB,EAAU,KAAOpB,EAAG,IAAKC,EAAImB,EAAU,KAC9DlB,MAAOP,EACPQ,MAAM,EACNC,MAAOX,EAIfI,IAAmBrI,YACfsI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACxCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,GAKnB,KAEJ,KAAK,GAWD,OAVAiB,GAAaZ,QAAS,EACtBY,GAAaX,OAAOtB,MAAMuB,EAAG,KAAMC,EAAG,IAClCD,EAAG,IACHC,EAAG,EACHI,KAAM,KACNC,KAAM,GACNC,KAAM,GACNC,KAAM,KACNR,EAAG,IAAKC,EAAG,MAEPjB,EAAY,IAChB,IAAK,GACL,IAAK,GACL,IAAK,GACD0B,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,MAAOD,EAAG,GAAIC,EAAG,KACtD,MACJ,KAAK,GACDS,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,MAAOD,EAAG,GAAIC,EAAG,KACtD,MACJ,KAAK,GACL,IAAK,GACDS,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,OAAQD,EAAG,IAAKC,EAAG,OAMhE,OAFAS,GAAaX,OAAOtB,MAAMuB,EAAG,EAAGC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MAE7CjB,EAAY,IAChB,IAAK,GACL,IAAK,GACL,IAAK,GACD0B,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,MAAOD,EAAG,KAAMC,EAAG,MACxDJ,GAAmBlI,SACfmI,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,IAAKD,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACvDC,MAAO,OACPC,MAAM,EACNC,MAAOX,GAEXI,GAAmBhI,YACfiI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACxCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,EAEX,MACJ,KAAK,GACDiB,GAAaX,OAAOtB,MAAMuB,EAAG,IAAKC,EAAG,MAAOD,EAAG,KAAMC,EAAG,MACxDJ,GAAmBlI,SACfmI,QAAQ,EACRC,SAAUC,EAAG,IAAKC,EAAG,IAAKD,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACvDC,MAAO,OACPC,MAAM,EACNC,MAAOX,GAEXI,GAAmBhI,YACfiI,QAAQ,EACRC,SAAUC,EAAG,KAAMC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACxCC,MAAOP,EACPQ,MAAM,EACNC,MAAOX,EAEX,MACJ,KAAK,GACL,IAAK,GACDiB,GAAaX,OAAOtB,MAAMuB,EAAG,KAAMC,EAAG,OAAQD,EAAG,KAAMC,EAAG,OAIlES,GAAaX,OAAOtB,MAAMuB,EAAG,KAAMC,EAAG,MACtCS,GAAaC,QAAQlC,MACboC,KAAM,OACNd,SAAUC,EAAG,KAAMC,EAAG,IAAKD,EAAG,IAAKC,EAAG,EAAGI,KAAM,KAAMC,KAAM,GAAIC,KAAM,GAAIC,KAAM,KAC3ER,EAAG,KACHC,EAAG,EACHI,KAAM,IACNC,KAAM,GACNC,KAAM,KACNC,KAAM,OAIVK,KAAM,OACNd,SAAUC,EAAG,KAAMC,EAAG,KAAMD,EAAG,IAAKC,EAAG,GAAII,KAAM,KAAMC,KAAM,GAAIC,KAAM,IAAKC,KAAM,OAGlFK,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,KAAMD,EAAG,GAAIC,EAAG,IAAKI,KAAM,EAAGC,KAAM,IAAKC,KAAM,EAAGC,KAAM,QAG7EK,KAAM,OACNd,SAAUC,EAAG,GAAIC,EAAG,MAAOD,EAAG,GAAIC,EAAG,GAAII,KAAM,GAAIC,KAAM,IAAKC,KAAM,GAAIC,KAAM,QAG9EK,KAAM,OACNd,SAAUC,EAAG,KAAMC,EAAG,MAAOD,EAAG,KAAMC,EAAG,GAAII,KAAM,KAAMC,KAAM,IAAKC,KAAM,KAAMC,KAAM,QAGtFK,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,KAAMD,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,IAAKC,KAAM,IAAKC,KAAM,QAEnE,MAAnBxB,EAAY,GACZ0B,GAAaC,QAAQlC,MACboC,KAAM,OACNd,SAAUC,EAAG,EAAGC,EAAG,KAAMD,EAAG,EAAGC,EAAG,GAAII,KAAM,IAAKC,KAAM,IAAKC,KAAM,IAAKC,KAAM,OAG7EK,KAAM,OACNd,SAAUC,EAAG,EAAGC,EAAG,KAAMD,EAAG,EAAGC,EAAG,GAAII,KAAM,GAAIC,KAAM,IAAKC,KAAM,GAAIC,KAAM,OAG3EK,KAAM,OACNd,SAAUC,EAAG,EAAGC,EAAG,KAAMD,EAAG,GAAIC,EAAG,GAAII,KAAM,GAAIC,KAAM,GAAIC,KAAM,GAAIC,KAAM,OAG3EK,KAAM,OACNd,SAAUC,EAAG,EAAGC,EAAG,KAAMD,EAAG,EAAGC,EAAG,GAAII,KAAM,GAAIC,KAAM,GAAIC,KAAM,GAAIC,KAAM,OAGlFE,GAAaC,QAAQlC,MAAMoC,KAAM,SAAUd,SAAUC,EAAG,EAAGC,EAAG,GAAIc,EAAG,MAGzE,MAEJ,KAAK,GACDL,GAAaZ,QAAS,EACtBY,GAAaX,SAAWC,EAAG,IAAKC,EAAG,IAAKD,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,EAAGC,KAAM,IAAKC,KAAM,MACxFR,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,IAAKC,KAAM,IAAKC,KAAM,MACpDR,EAAG,IACHC,EAAG,IACHI,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,MAETR,EAAG,GAAIC,EAAG,IAAKI,KAAM,EAAGC,KAAM,IAAKC,KAAM,GAAIC,KAAM,MACnDR,EAAG,EAAGC,EAAG,IAAKI,KAAM,GAAIC,KAAM,IAAKC,KAAM,EAAGC,KAAM,MAC/CR,EAAG,IACHC,EAAG,EACHI,KAAM,EACNC,KAAM,IACNC,KAAM,GACNC,KAAM,IAEdE,GAAaC,UACTE,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MACjBD,EAAG,IACHC,EAAG,IACHI,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,MACNR,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,IAAKC,KAAM,IAAKC,KAAM,MACtDR,EAAG,GAAIC,EAAG,IAAKI,KAAM,GAAIC,KAAM,IAAKC,KAAM,GAAIC,KAAM,MACjDR,EAAG,IACHC,EAAG,IACHI,KAAM,GACNC,KAAM,IACNC,KAAM,GACNC,KAAM,QAIVK,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,IAAKC,KAAM,IAAKC,KAAM,QAGnFK,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,IAAKC,KAAM,IAAKC,KAAM,QAGnFK,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,IAAKC,KAAM,IAAKC,KAAM,QAGnFK,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,IAAKC,KAAM,IAAKC,KAAM,QAGnFK,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MACjBD,EAAG,IACHC,EAAG,IACHI,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,MACNR,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,IAAKC,KAAM,IAAKC,KAAM,QAG3DK,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,MACjBD,EAAG,GACHC,EAAG,IACHI,KAAM,IACNC,KAAM,IACNC,KAAM,GACNC,KAAM,MACNR,EAAG,IAAKC,EAAG,IAAKI,KAAM,GAAIC,KAAM,IAAKC,KAAM,IAAKC,KAAM,OAGlE,MAEJ,KAAK,GACD,OAAQxB,EAAY,IAChB,IAAK,GACD0B,GAAaZ,QAAS,EACtBY,GAAaX,SAAWC,EAAG,IAAKC,EAAG,IAC9BD,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,GAAIC,KAAM,IAAKC,KAAM,KACtDR,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,IAAKC,KAAM,IAAKC,KAAM,MACvDR,EAAG,IAAKC,EAAG,IAAKI,KAAM,IAAKC,KAAM,IAAKC,KAAM,IAAKC,KAAM,MACvDR,EAAG,EAAGC,EAAG,IAAKI,KAAM,GAAIC,KAAM,IAAKC,KAAM,EAAGC,KAAM,MAClDR,EAAG,GAAIC,EAAG,IAAKI,KAAM,EAAGC,KAAM,IAAKC,KAAM,GAAIC,KAAM,MACnDR,EAAG,IAAKC,EAAG,EAAGI,KAAM,IAAKC,KAAM,GAAIC,KAAM,IAAKC,KAAM,KACzDE,GAAaC,UAELE,KAAM,OACNd,SAAUC,EAAG,IAAKC,EAAG,KAAMD,EAAG,IAAKC,EAAG,GAAII,KAAM,IAAKC,KAAM,GAAIC,KAAM,IAAKC,KAAM,OAGhFK,KAAM,OAAQd,SAAUC,EAAG,IAAKC,EAAG,MAAOD,EAAG,IAAKC,EAAG,MACpDD,EAAG,GAAIC,EAAG,IAAKI,KAAM,IAAKC,KAAM,IAAKC,KAAM,IAAKC,KAAM,MAAOR,EAAG,GAAIC,EAAG,UAQpG,QAASoB,KACL,GAAIC,GAAa,GACbC,EAAW,EACXC,EAAY,EAChBF,IAAc,8BACdA,GAAc,oDACdA,GAAc,iCACdA,GAAc,2BACdA,GAAc,SACVG,GAAqBC,gBACrBJ,GAAc,mCAElBA,GAAc,kCACd,KAAK,GAAI/D,KAAaG,IAClB,GAAIA,GAAWC,eAAeJ,IACtBA,EAAY,EAAG,CACf,GAAiB,IAAbgE,EAAgB,CAChB,GAAII,GAAaT,KAAKC,OAAO5D,EAAYgE,GAAYK,GACrDN,IAAc,cAAgBE,EAAY,IAC1CF,GAAc,kBAAoBK,EAAa,iBAAmBA,EAAa,OAC/EL,GAAcV,GAAKzK,YAAYqL,GAC/BF,GAAc,QAElBC,GAAahE,EACbiE,EAAY9D,GAAWH,GAAWsE,MAU9C,MANAP,IAAc,gBACdA,GAAc,SACdA,GAAc,oDACdA,GAAc,yDACdA,GAAc,SAKlB,QAASQ,GAAU1E,EAAU2E,GACzB,GAAIC,IAAad,KAAKe,IAAI7E,EAAU8E,IAAiBC,IAAiBP,EAItE,OAHAI,GAAYd,KAAKkB,IAAI,EAAGJ,GACxBA,GAAaD,EAKjB,QAASM,KAEL,MADA1G,GAAE,qBAAqB2G,UAChB,EAGX,QAASC,GAAgBnF,GACrBiF,GACA,IAAIf,GAAa,sDACjB3F,GAAE2F,GAAYkB,OAAOC,SAAS,kDAAkDC,OAAOC,GACvF,IAAIC,GAAWd,EAAU1E,EAAU,EAEnC,OADAzB,GAAE,qBAAqBkH,MAAMD,EAAW,MACjC,EAoBX,QAASE,GAAW1F,EAAU2F,GAC1B,GAAIH,GAAWd,EAAU1E,EAAU,GAAK,GACpC2F,GACApH,EAAE,eAAeqH,OAAOC,SAASJ,MAAOD,IAExCjH,EAAE,eAAekH,MAAMD,GAI/B,QAASM,GAAe9F,EAAU+F,EAAUJ,GACxC,GAEIK,GAAMC,EAAQT,EAAUU,EAFxBC,EAAc,KACdC,EAAa,CAEjB,KAAK,GAAIC,KAAeN,GAChBA,EAASxF,eAAe8F,IACpBC,EAAYP,EAASM,GAAapG,WAAY8F,EAASM,GAAaE,gBAChER,EAASM,GAAaE,aAAe,GAAKR,EAASM,GAAaE,aAAeJ,IAC/EA,EAAcJ,EAASM,GAAaE,cAEpCR,EAASM,GAAaE,aAAe,GAAKR,EAASM,GAAaE,aAAeH,IAC/EA,EAAaL,EAASM,GAAaE,cAM/CvG,GAAWmG,GACXH,EAAOtB,EAAU1E,EAAU,GAC3BiG,EAASvB,EAAUyB,EAAa,GAChCX,EAAYQ,EAAOC,EACnBC,EAAgBD,IAEhBD,EAAOtB,EAAU0B,EAAY,GAC7BH,EAASvB,EAAU1E,EAAU,GAC7BwF,EAAYQ,EAAOC,EACnBC,EAAgBD,GAGhBN,EACApH,EAAE,gBAAgBqH,OAAOC,SAASJ,MAAOD,EAAW,IAAKgB,WAAYN,EAAgB,MAErF3H,EAAE,gBAAgBkH,MAAMD,EAAW,KAAKiB,IAAI,aAAcP,EAAgB,KAIlF,QAASQ,GAAgBX,EAAUY,EAAqBC,EAAUC,GAC9D,GAAIC,GAAW,GACXC,EAAgB,GAChBC,EAAgB,EAEpBzI,GAAE,0CAA0C0I,QAEvCC,GAKGP,EAAoB,IAChBA,EAAoB,GAAGlH,OAAS,IAChCsH,EAAgB,sBAChBC,EAAgBG,GAChBL,EAAWtD,GAAK3H,QAAQE,sBAIjBqL,GAAXR,IACAG,EAAgB,iBAChBC,EAAgBG,GAChBL,EAAWtD,GAAK3H,QAAQG,iBAGtB+K,GAA0D,mBAAhChB,GAAS9L,oBAChC4M,GAAY,KAAUd,EAAS9L,mBAAmBoN,QAAU,IAC7DN,EAAgB,OAChBD,EAAWtD,GAAK3H,QAAQM,iBArBhC4K,EAAgB,iBAChBC,EAAgBG,GAChBL,EAAWtD,GAAK3H,QAAQC,cAwBxBiL,IACIC,EACAzI,EAAE,WACGwC,SAAS,qBAAuBgG,GAChCjG,KAAKgG,GACLQ,KAAK,OAAQH,IACbG,KAAK,SAAU,UACfjC,SAAS,0CAEd9G,EAAE,eACGwC,SAAS,qBAAuBgG,GAChCjG,KAAKgG,GACLzB,SAAS,2CAK1B,QAASkC,GAAgBC,GACrBjJ,EAAEiJ,GAASpC,MACX,IAAIqC,GAAW,OAASlJ,EAAEiJ,EAAU,WAAW/H,OAC3CiI,EAAWnJ,EAAEW,SAASyI,cAAc,QAAQ5G,SAAS,gBAAkB0G,EAC3ElJ,GAAEiJ,EAAU,WAAW9G,KAAK,WACxB,GAAIkH,GAASrP,KAAKyI,GACd6G,EAAYjI,EAASrB,EAAEhG,MAAMuI,QAC7BgH,EAAYvJ,EAAEhG,MAAM+O,KAAK,SACzBS,EAAUxJ,EAAEhG,MAAMqI,MAClBoH,EAAOzJ,EAAE,SACRwC,SAAS,aAAe+G,GACxBR,KAAK,KAAM,UAAYM,GACvB9G,KAAK+G,GACLI,GAAG,QAAS,WACT1J,EAAE,iBAAiB2J,KAAK,kBAAkBC,YAAY,mBACtD5J,EAAE,gBAAkBwJ,GAAShH,SAAS,mBACtCxC,EAAE6J,GAAUC,qBAAuB,mBAAmBzH,IAAImH,GAC1DxJ,EAAE6J,GAAUC,qBAAuB,mBAAmBC,QAAQ,WAEtEZ,GAASa,OAAOP,KAEpBzJ,EAAEiJ,GAASgB,MAAMd,GAGrB,QAASe,GAAQC,GAEb,IAAK,GADD1D,GAAM,EACDxF,EAAI,EAAGA,EAAIkJ,EAAK/F,OAAOlD,OAAQD,IACpCwF,EAAMlB,KAAKkB,IAAIA,EAAK0D,EAAK/F,OAAOnD,GAAGqD,EAEvC,OAAOmC,GAGX,QAAS2D,GAAQD,GAEb,IAAK,GADD1D,GAAM,EACDxF,EAAI,EAAGA,EAAIkJ,EAAK/F,OAAOlD,OAAQD,IACpCwF,EAAMlB,KAAKkB,IAAIA,EAAK0D,EAAK/F,OAAOnD,GAAGoD,EAEvC,OAAOoC,GAGX,QAAS4D,GAAQF,GAEb,IAAK,GADD7D,GAAM,MACDrF,EAAI,EAAGA,EAAIkJ,EAAK/F,OAAOlD,OAAQD,IACpCqF,EAAMf,KAAKe,IAAIA,EAAK6D,EAAK/F,OAAOnD,GAAGoD,EAEvC,OAAOiC,GAGX,QAASgE,GAAQH,GAEb,IAAK,GADD7D,GAAM,MACDrF,EAAI,EAAGA,EAAIkJ,EAAK/F,OAAOlD,OAAQD,IACpCqF,EAAMf,KAAKe,IAAIA,EAAK6D,EAAK/F,OAAOnD,GAAGqD,EAEvC,OAAOgC,GAGX,QAASiE,GAASC,EAAIC,GAClB,GAAIC,GAAKD,EAAGpG,EAAImG,EAAGnG,CAKnB,OAJAoG,GAAG/F,KAAO8F,EAAGnG,EAAIkB,KAAKC,MAAMkF,EAAKC,IACjCF,EAAG9F,KAAO6F,EAAGlG,EAAIiB,KAAKC,MAAMkF,EAAKC,IACjCF,EAAG7F,KAAO6F,EAAGpG,EAAIkB,KAAKC,MAAMkF,EAAKC,IACjCF,EAAG5F,KAAO4F,EAAGnG,EAAIiB,KAAKC,MAAMkF,EAAKC,KAC1B,EAGX,QAASC,GAAWT,GAGhB,GAFAA,EAAKU,GAAK,EACVV,EAAKW,GAAK,EACNX,EAAK3F,KACL,IAAK,GAAIvD,GAAI,EAAGA,EAAIkJ,EAAK/F,OAAOlD,OAAQD,IAAK,CACzC,GAAIyJ,GAAKP,EAAK/F,OAAOnD,GAAGoD,EAAI8F,EAAK/F,OAAOnD,EAAI,GAAGoD,EAC3C0G,EAAKZ,EAAK/F,OAAOnD,GAAGqD,EAAI6F,EAAK/F,OAAOnD,EAAI,GAAGqD,EAC3C0G,EAASzF,KAAK0F,MAAMF,EAAIL,EAC5BP,GAAKU,GAAKtF,KAAK2F,IAAIF,GAAUG,GAC7BhB,EAAKW,IAAMvF,KAAK6F,IAAIJ,GAAUG,GAGtC,OAAO,EAGX,QAASE,GAAalB,GAClB,GAAIO,GAAKP,EAAK/F,OAAO,GAAGC,EAAI8F,EAAK/F,OAAO,GAAGC,EACvC0G,EAAKZ,EAAK/F,OAAO,GAAGE,EAAI6F,EAAK/F,OAAO,GAAGE,CAC3C6F,GAAKmB,KAAOjH,EAAGkB,KAAKC,MAAMkF,EAAK,GAAKP,EAAK/F,OAAO,GAAGC,EAAGC,EAAGiB,KAAKC,MAAMuF,EAAK,GAAKZ,EAAK/F,OAAO,GAAGE,GAC1E,QAAf6F,EAAK5F,QACL4F,EAAKmB,IAAIhH,GAAKiB,KAAKC,MAAMkF,EAAKC,GAAY,KAIlD,QAASY,GAASzK,EAAGqJ,EAAMqB,EAASC,EAAOC,EAASC,EAASC,GACzD,QAASC,GAAGC,GACR,MAAQA,GAAQL,EAASC,EAG7B,QAASK,GAAGD,GACR,MAAQA,GAAQL,EAASE,EAG7B,GAAI1K,GAAG+K,EAAGC,CAIV,IAFAnL,EAAEoL,YAEEV,EAAS,CAOT,IANA1K,EAAEqL,UAAYC,GACVR,IACA9K,EAAEqL,UAAYC,GAAiB,GAEnCxB,EAAWT,GACXrJ,EAAEuL,OAAOR,EAAG1B,EAAK/F,OAAO,GAAGC,EAAI8F,EAAKU,IAAKkB,EAAG5B,EAAK/F,OAAO,GAAGE,EAAI6F,EAAKW,KAC/D7J,EAAI,EAAGA,EAAIkJ,EAAK/F,OAAOlD,OAAQD,IAChC,OAAQkJ,EAAK5F,OACT,IAAK,SACDgG,EAASJ,EAAK/F,OAAOnD,EAAI,GAAIkJ,EAAK/F,OAAOnD,IACzCH,EAAEwL,cAAcT,EAAG1B,EAAK/F,OAAOnD,GAAGyD,KAAOyF,EAAKU,IAAKkB,EAAG5B,EAAK/F,OAAOnD,GAAG0D,KAAOwF,EAAKW,IAC7Ee,EAAG1B,EAAK/F,OAAOnD,GAAG2D,KAAOuF,EAAKU,IAAKkB,EAAG5B,EAAK/F,OAAOnD,GAAG4D,KAAOsF,EAAKW,IACjEe,EAAG1B,EAAK/F,OAAOnD,GAAGoD,EAAI8F,EAAKU,IAAKkB,EAAG5B,EAAK/F,OAAOnD,GAAGqD,EAAI6F,EAAKW,KAC/DhK,EAAEwL,cAAcT,GAAI1B,EAAK/F,OAAOnD,GAAGyD,KAAOyF,EAAKU,IAAKkB,GAAI5B,EAAK/F,OAAOnD,GAAG0D,KAAOwF,EAAKW,IAC/Ee,GAAI1B,EAAK/F,OAAOnD,GAAG2D,KAAOuF,EAAKU,IAAKkB,GAAI5B,EAAK/F,OAAOnD,GAAG4D,KAAOsF,EAAKW,IACnEe,EAAG1B,EAAK/F,OAAO,GAAGC,EAAI8F,EAAKU,IAAKkB,EAAG5B,EAAK/F,OAAO,GAAGE,EAAI6F,EAAKW,IAC/D,MACJ,KAAK,MACDP,EAASJ,EAAK/F,OAAOnD,EAAI,GAAIkJ,EAAK/F,OAAOnD,GAE7C,KAAK,OACkC,mBAAxBkJ,GAAK/F,OAAOnD,GAAGyD,KACtB5D,EAAEwL,cAAcT,EAAG1B,EAAK/F,OAAOnD,GAAGyD,KAAOyF,EAAKU,IAAKkB,EAAG5B,EAAK/F,OAAOnD,GAAG0D,KAAOwF,EAAKW,IAAKe,EAAG1B,EAAK/F,OAAOnD,GAAG2D,KAAOuF,EAAKU,IAAKkB,EAAG5B,EAAK/F,OAAOnD,GAAG4D,KAAOsF,EAAKW,IAAKe,EAAG1B,EAAK/F,OAAOnD,GAAGoD,EAAI8F,EAAKU,IAAKkB,EAAG5B,EAAK/F,OAAOnD,GAAGqD,EAAI6F,EAAKW,KAEvNhK,EAAEyL,OAAOV,EAAG1B,EAAK/F,OAAOnD,GAAGoD,EAAI8F,EAAKU,IAAKkB,EAAG5B,EAAK/F,OAAOnD,GAAGqD,EAAI6F,EAAKW,KAKpFhK,EAAE0L,SAEiB,SAAfrC,EAAK5F,QAELzD,EAAEoL,YACFpL,EAAE2L,IAAIZ,EAAG1B,EAAK/F,OAAO,GAAGC,EAAI8F,EAAKU,IAAKkB,EAAG5B,EAAK/F,OAAO,GAAGE,EAAI6F,EAAKW,IAAK4B,GAAgB,EAAa,EAAVnH,KAAKoH,IAAQ,GACtG7L,EAAE8L,OACF9L,EAAEoL,YACFpL,EAAE2L,IAAIZ,EAAG1B,EAAK/F,OAAO+F,EAAK/F,OAAOlD,OAAS,GAAGmD,EAAI8F,EAAKU,IAAKkB,EAAG5B,EAAK/F,OAAO+F,EAAK/F,OAAOlD,OAAS,GAAGoD,EAAI6F,EAAKW,IAAK4B,GAAgB,EAAa,EAAVnH,KAAKoH,IAAQ,GAChJ7L,EAAE8L,QAINvB,EAAalB,GACiB,mBAAnBA,GAAKrF,YACZqF,EAAKmB,IAAIjH,EAAI8F,EAAKrF,UAAUT,EAC5B8F,EAAKmB,IAAIhH,EAAI6F,EAAKrF,UAAUR,EAEhC,IAAIuI,GAAMC,EACNlB,KACAiB,GAAO,GAEX/L,EAAEoL,YACFpL,EAAE2L,IAAIZ,EAAG1B,EAAKmB,IAAIjH,EAAI8F,EAAKU,IAAKkB,EAAG5B,EAAKmB,IAAIhH,EAAI6F,EAAKW,IAAK+B,EAAK,EAAa,EAAVtH,KAAKoH,IAAQ,GAC/E7L,EAAE8L,OACF9L,EAAEoL,YACFpL,EAAEiM,UAAY,UACdjM,EAAEkM,KAAOC,GACTnM,EAAEoM,UAAY,SACdpM,EAAEqM,aAAe,SACbvB,IACA9K,EAAEkM,KAAOI,IAEbtM,EAAEuM,SAASlD,EAAKmD,IAAKzB,EAAG1B,EAAKmB,IAAIjH,EAAI8F,EAAKU,IAAKkB,EAAG5B,EAAKmB,IAAIhH,EAAI6F,EAAKW,SAEjE,CAOH,IANAhK,EAAEiM,UAAYQ,GACdzM,EAAE0M,YAAcD,GAChBzM,EAAEqL,UAAY,GAEdrL,EAAEuL,OAAOR,EAAG1B,EAAK/F,OAAO,GAAGC,GAAI0H,EAAG5B,EAAK/F,OAAO,GAAGE,IAE5CrD,EAAI,EAAGA,EAAIkJ,EAAK/F,OAAOlD,OAAQD,IACG,mBAAxBkJ,GAAK/F,OAAOnD,GAAGyD,KACtB5D,EAAEwL,cAAcT,EAAG1B,EAAK/F,OAAOnD,GAAGyD,MAAOqH,EAAG5B,EAAK/F,OAAOnD,GAAG0D,MAAOkH,EAAG1B,EAAK/F,OAAOnD,GAAG2D,MAAOmH,EAAG5B,EAAK/F,OAAOnD,GAAG4D,MAAOgH,EAAG1B,EAAK/F,OAAOnD,GAAGoD,GAAI0H,EAAG5B,EAAK/F,OAAOnD,GAAGqD,IAE5JxD,EAAEyL,OAAOV,EAAG1B,EAAK/F,OAAOnD,GAAGoD,GAAI0H,EAAG5B,EAAK/F,OAAOnD,GAAGqD,GAIzD,IAAI6F,EAAKhG,OAGL,IAFA8H,IAAQ5H,EAAG,KAAMC,EAAG,OAAQD,EAAG,KAAMC,EAAG,OAEnCrD,EAAIkJ,EAAK/F,OAAOlD,OAAS,EAAGD,GAAK,EAAGA,IACjCgL,EAAI,GAAG5H,EACPvD,EAAEwL,cAAcT,EAAGI,EAAI,GAAG5H,GAAI0H,EAAGE,EAAI,GAAG3H,GAAIuH,EAAGI,EAAI,GAAG5H,GAAI0H,EAAGE,EAAI,GAAG3H,GAAIuH,GAAI1B,EAAK/F,OAAOnD,GAAGoD,GAAI0H,EAAG5B,EAAK/F,OAAOnD,GAAGqD,IAEjHxD,EAAEyL,OAAOV,GAAI1B,EAAK/F,OAAOnD,GAAGoD,GAAI0H,EAAG5B,EAAK/F,OAAOnD,GAAGqD,IAGnB,mBAAxB6F,GAAK/F,OAAOnD,GAAGyD,MACtBuH,EAAI,GAAG5H,GAAK8F,EAAK/F,OAAOnD,GAAG2D,KAC3BqH,EAAI,GAAG3H,EAAI6F,EAAK/F,OAAOnD,GAAG4D,KAC1BoH,EAAI,GAAG5H,GAAK8F,EAAK/F,OAAOnD,GAAGyD,KAC3BuH,EAAI,GAAG3H,EAAI6F,EAAK/F,OAAOnD,GAAG0D,MAE1BsH,IAAQ5H,EAAG,KAAMC,EAAG,OAAQD,EAAG,KAAMC,EAAG,MAgBpD,KAXAxD,EAAE8L,OACF9L,EAAE0L,SAGF1L,EAAEiM,UAAYU,GACd3M,EAAE0M,YAAcC,GAChB3M,EAAEqL,UAAYuB,GACd5M,EAAE6M,QAAU,OACZ7M,EAAE8M,SAAW,QACb9M,EAAE+M,WAAa,EAEV5M,EAAI,EAAGA,EAAIkJ,EAAKnF,QAAQ9D,OAAQD,IAAK,CAEtC,GADAH,EAAEoL,YAC2B,WAAzB/B,EAAKnF,QAAQ/D,GAAGiE,KAChBpE,EAAE2L,IAAIZ,EAAG1B,EAAKnF,QAAQ/D,GAAGmD,OAAO,GAAGC,GAAI0H,EAAG5B,EAAKnF,QAAQ/D,GAAGmD,OAAO,GAAGE,GAAI6F,EAAKnF,QAAQ/D,GAAGmD,OAAO,GAAGgB,EAAI0I,GAAkB,IAAM,EAAa,EAAVvI,KAAKoH,IAAQ,OAG9I,KADA7L,EAAEuL,OAAOR,EAAG1B,EAAKnF,QAAQ/D,GAAGmD,OAAO,GAAGC,GAAI0H,EAAG5B,EAAKnF,QAAQ/D,GAAGmD,OAAO,GAAGE;AAClE0H,EAAI,EAAGA,EAAI7B,EAAKnF,QAAQ/D,GAAGmD,OAAOlD,OAAQ8K,IACG,mBAAnC7B,GAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAGtH,KACjC5D,EAAEwL,cAAcT,EAAG1B,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAGtH,MAAOqH,EAAG5B,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAGrH,MAAOkH,EAAG1B,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAGpH,MAAOmH,EAAG5B,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAGnH,MAAOgH,EAAG1B,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAG3H,GAAI0H,EAAG5B,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAG1H,IAE9NxD,EAAEyL,OAAOV,EAAG1B,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAG3H,GAAI0H,EAAG5B,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAG1H,GASnF,IAL6B,SAAzB6F,EAAKnF,QAAQ/D,GAAGiE,MAChBpE,EAAE8L,OAEN9L,EAAE0L,SAEErC,EAAKhG,QACmC,mBAA7BgG,GAAKnF,QAAQ/D,GAAGkE,SAA0B,CAIjD,IAHA8G,IAAQ5H,EAAG,KAAMC,EAAG,OAAQD,EAAG,KAAMC,EAAG,OACxCxD,EAAEoL,YACFpL,EAAEuL,OAAOR,GAAI1B,EAAKnF,QAAQ/D,GAAGmD,OAAO+F,EAAKnF,QAAQ/D,GAAGmD,OAAOlD,OAAS,GAAGmD,GAAI0H,EAAG5B,EAAKnF,QAAQ/D,GAAGmD,OAAO+F,EAAKnF,QAAQ/D,GAAGmD,OAAOlD,OAAS,GAAGoD,IACnI0H,EAAI7B,EAAKnF,QAAQ/D,GAAGmD,OAAOlD,OAAS,EAAG8K,GAAK,EAAGA,IAC5CC,EAAI,GAAG5H,EACPvD,EAAEwL,cAAcT,EAAGI,EAAI,GAAG5H,GAAI0H,EAAGE,EAAI,GAAG3H,GAAIuH,EAAGI,EAAI,GAAG5H,GAAI0H,EAAGE,EAAI,GAAG3H,GAAIuH,GAAI1B,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAG3H,GAAI0H,EAAG5B,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAG1H,IAEvIxD,EAAEyL,OAAOV,GAAI1B,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAG3H,GAAI0H,EAAG5B,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAG1H,IAG9B,mBAAnC6F,GAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAGtH,MACjCuH,EAAI,GAAG5H,GAAK8F,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAGpH,KACtCqH,EAAI,GAAG3H,EAAI6F,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAGnH,KACrCoH,EAAI,GAAG5H,GAAK8F,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAGtH,KACtCuH,EAAI,GAAG3H,EAAI6F,EAAKnF,QAAQ/D,GAAGmD,OAAO4H,GAAGrH,MAErCsH,IAAQ5H,EAAG,KAAMC,EAAG,OAAQD,EAAG,KAAMC,EAAG,MAGnB,UAAzB6F,EAAKnF,QAAQ/D,GAAGiE,MAChBpE,EAAE8L,OAEN9L,EAAE0L,YAOtB,QAASuB,GAAgBC,EAAWxG,EAAUyG,GAE1C,GAAItN,SAASuN,eAAeF,GAAWG,WAAY,CAC/C,GAAIrN,GAAIH,SAASuN,eAAeF,GAAWG,WAAW,KACtDnO,GAAE,IAAMgO,GAAWjF,KAAK,QAAS+E,IAAiB/E,KAAK,SAAUqF,GAGjE,IAAIC,GAAcP,IAAmB,EAAK,EAAIQ,IAC1CC,EAAeH,IAAoB,EAAK,EAAIE,IAE5CE,EAAOpE,EAAQrF,IAAgBsF,EAAQtF,GACvCA,IAAaZ,SACbqK,EAA+B,EAAxBpE,EAAQrF,IAEnB,IAAI0J,GAAOvE,EAAQnF,IAAgBuF,EAAQvF,IACvC0G,EAAQ,CACC,KAAT+C,IACA/C,EAAQ4C,EAAcG,GAEb,IAATC,GAAeJ,EAAcE,EAAiBC,EAAOC,IACrDhD,EAAQ8C,EAAeE,EAG3B,IAAI/C,IAAWoC,IAAoB1D,EAAQrF,IAAgBsF,EAAQtF,KAAiB0G,GAAU,CAC1F1G,IAAaZ,SACbuH,EAAUoC,GAAkB,EAEhC,IAAInC,IAAWyC,IAAqBlE,EAAQnF,IAAgBuF,EAAQvF,KAAiB0G,GAAU,CAG/FF,GAASzK,EAAGiE,IAAc,EAAO0G,EAAOC,EAASC,GAAS,EAC1D,IAAI+C,GAAW1O,EAAE6J,GAAUC,qBAAuB,mBAAmBzH,KAGjEmF,GAEIkH,EACA1O,EAAEmC,KAAKO,EAAcC,KAAKC,aAAa8L,GAAW,SAAU5G,EAAa3H,GACrE,GAAIA,EAAQ,GAAK+D,GAAmB4D,GAAc,CAE9C,GAAI6G,IAAO,CACPA,KACA7N,EAAE0M,YAActJ,GAAmB4D,GAAarD,MAChD3D,EAAEiM,UAAY7I,GAAmB4D,GAAarD,MAC9C8G,EAASzK,EAAGoD,GAAmB4D,IAAc,EAAM2D,EAAOC,EAASC,EAAU7D,IAAgBmG,GAA2B,OAAdA,OAKtH1C,EAASzK,EAAGiE,IAAc,EAAO0G,EAAOC,EAASC,GAAS,IAIzD+C,IACDA,EAAWE,OAAOC,KAAKnM,EAAcC,KAAKC,cAAc,IAExD8L,GACyD,mBAA9ChM,GAAcC,KAAKC,aAAa8L,IACvC1O,EAAEmC,KAAKO,EAAcC,KAAKC,aAAa8L,GAAW,SAAU5G,EAAa3H,GACjEA,EAAQ,GAAK+D,GAAmB4D,KAChChH,EAAE0M,YAActJ,GAAmB4D,GAAarD,MAChD3D,EAAEiM,UAAY7I,GAAmB4D,GAAarD,MAC9C8G,EAASzK,EAAGoD,GAAmB4D,IAAc,EAAM2D,EAAOC,EAASC,EAAU7D,IAAgBmG,GAA2B,OAAdA,QAStI,QAASa,KACLC,QAAQC,WAAa,UACrBD,QAAQE,OAAOC,gBAGXC,MAAO,UAEXJ,QAAQK,aAAe,iBAG3B,QAASC,KACL,GAAIX,GAAW1O,EAAE6J,GAAUC,qBAAuB,mBAAmBzH,KAChEqM,KACDA,EAAWE,OAAOC,KAAKnM,EAAcC,KAAKC,cAAc,GAE5D,IAAI0M,IAAS,CAMb,OALyD,mBAA9C5M,GAAcC,KAAKC,aAAa8L,IACqC,mBAAjEhM,GAAcC,KAAKC,aAAa8L,GAAUhT,qBACjD4T,EAAU5M,EAAcC,KAAKC,aAAa8L,GAAUhT,mBAAqB,GAG1E4T,EAGX,QAASC,KACL,MAA0C,SAAnC1O,EAAW,oBAGtB,QAAS2O,KACL,MAAkD,SAA3C3O,EAAW,4BAGtB,QAAS4O,GAAoB9L,GAEzB+L,GAAWhN,EAAcxC,IACzB,IAAIyP,GAAO1K,GAAKpH,SACZ+R,EAAa,mCAEjBd,KAEInL,IACAgM,EAAO1K,GAAKhH,WACZ2R,EAAa/F,GAAUgG,gBAG3B,IAAIC,GAAU9P,EAAE,iDACX+P,QACGC,UAAWC,GAAI,SAAUC,GAAI,SAAUC,GAAIxW,GAC3CyW,UAAU,EACVC,YAAa,8BACbC,UAAW,IACXC,SAAU,IACVC,OAAQ,EACRC,OAAQ,EACRC,UAAWzL,GAAKtI,OAAOO,WACvByT,MAAOhB,EAAK7R,aAAe,uBAAyB4R,GAAW,WA4BvE,IAxBA1P,EAAE,uCAAyC2D,EAAc,cAAgB,IAAM,gCAAkCgM,EAAK5R,YAAc,QAC/H6S,MAAM,WAOH,MANIjN,GACAtJ,OAAOwW,WAAW,kBAAmB,4BAErCxW,OAAOwW,WAAW,qBAAsB,+BAE5Cf,EAAQC,OAAO,SACR,IAEVjJ,SAAS8I,GAGd5P,EAAE,oFAAoF8G,SAAS,iCAG/F9G,EAAE,wDAAwD8G,SAAS,iCAGnE9G,EAAE,+CACGgK,OAAO,2CACPlD,SAAS,UAGTnD,EAAa,CACd3D,EAAE,+CACGgK,OAAO,OAAS/E,GAAKtI,OAAOC,aAAe,SAC3CoN,OAAO,oCACPlD,SAAS,QAGd,IAAIgK,GAAS9Q,EAAE6J,GAAUC,qBAAuB,mBAAmBiH,OAAM,GAAM,EAC/ED,GAAOtO,SAAS,UAChBsO,EAAOnH,KAAK,KAAKqH,UAAU7O,KAAK,WAC5BnC,EAAEhG,MAAMwI,SAAS,UACbxI,KAAKyI,KAAIzI,KAAKyI,GAAK,SAAWzI,KAAKyI,IACnCzI,KAAKkG,OAAMlG,KAAKkG,KAAO,SAAWlG,KAAKkG,QAG/CF,EAAE,sFACGgK,OAAO,OAAS/E,GAAKtI,OAAOE,cAAgB,SAC5CmN,OAAO8G,GACPhK,SAAS,SAGd9G,EAAE,8DAA8DiR,OAAO,WACnE,GAAIzH,GAAUxJ,EAAEhG,MAAMqI,KAEtBrC,GAAE6J,GAAUC,qBAAuB,mBAAmBzH,IAAImH,GAC1DxJ,EAAE6J,GAAUC,qBAAuB,mBAAmBC,QAAQ,WAIlE,IAAImH,GAAgBlR,EAAE,kBACjB+Q,OAAM,GAAM,GACZpH,KAAK,sBAAsBhD,SAC3BwK,KAELnR,GAAE,+CACGgK,OAAO,OAAS/E,GAAK3G,SAASa,YAAc,SAC5C6K,OAAOkH,GACPpK,SAAS,SAgClB,GA5BA9G,EAAE,+CACGgK,OAAO,OAAS2F,EAAK3R,YAAc,SACnCgM,OAAO,sDACPlD,SAAS,SAGd9G,EAAE,mBAAmB0J,GAAG,aAAc,iBAAkB,WACpD,GAAIuE,GAAYjO,EAAEhG,MAAMmQ,KAAK,cAC7BnK,GAAEhG,MAAM2P,KAAK,WAAasE,GAAWzL,SAAS,cAC9C,IAAI4O,GAAYpR,EAAE,mBAAmB2J,KAAK,SAASQ,KAAK,WACxD4D,GAAgB,mBAAoBqD,EAAWnD,GAC3CnI,GAAqBC,eAAiBqL,GAClCA,EAAUnD,IACLmD,EAAUnD,GAAWjG,aAAe,GAAOD,EAAYqJ,EAAUnD,GAAWvM,WAAY0P,EAAUnD,GAAWjG,eAC9GpB,EAAgBwK,EAAUnD,GAAWjG,gBAIlD0B,GAAG,aAAc,iBAAkB,WAClC,GAAIuE,GAAYjO,EAAEhG,MAAMmQ,KAAK,cAC7BnK,GAAEhG,MAAM2P,KAAK,WAAasE,GAAWrE,YAAY,eACjDmE,EAAgB,mBAAoB/N,EAAE,mBAAmB2J,KAAK,SAASQ,KAAK,YAAa,IACrFrE,GAAqBC,eACrBW,MAKJ/C,EAAa,CACb,GAAI0N,GAAOpM,GAAKhH,WAAWC,sBACvBmR,OACAgC,GAAQ,SAAWpM,GAAKhH,WAAWE,+BAEnCsF,MACA4N,EAAOpM,GAAKhH,WAAWG,+BAE3B4B,EAAE,0CACGgK,OAAO,MAAQqH,EAAO,QACtBvK,SAAS,SAEwB,OAAlCwK,eAAeC,iBACfvR,EAAE,4CACGgK,OAAO,MAAQ/E,GAAKhH,WAAWI,cAAgB,iCACVhE,OAAOmX,eAAiB,2CAC7D1K,SAAS,iCACd9G,EAAE,mBAAmB0J,GAAG,QAAS,WAE7B,MADA+H,kBACIlC,KACAnO,EAAY,oBACZpB,EAAE,WAAW+G,UACN,GAHX,WAUhB,QAASgB,GAAYrG,EAAYsG,GAC7B,MAAuB,KAAftG,GAAqC,KAAfA,GAAsC,IAAfsG,EAGzD,QAAS0J,GAAUC,EAAOxR,EAAOyR,GAI7B,GAHIA,IACAA,EAAMnN,MAAQoN,IAEd1R,EAAO,CACP,GAAI2R,GAActQ,EAAOrB,EAAM6H,aAAc7H,EAAMuB,WACnDiQ,GAAMnP,SAASsP,EAAY5L,OACvB0L,IACAA,EAAMnN,MAAQqN,EAAYhO,YAGlC,MAAO6N,GAGX,QAASI,GAAsB3J,EAAqBN,GAChD,IAAK,GAAIlE,GAAK,EAAGA,EAAKwE,EAAoBlH,OAAQ0C,IAC9C,GAAIwE,EAAoBxE,GAAI,KAAOkE,EAC/B,MAAOM,GAAoBxE,GAAI,EAGvC,OAAO,MAGX,QAASoO,GAAUlK,GACf,MAAQmK,IAAa1O,QAAQuE,IAAgB,EAGjD,QAASoK,GAAUpK,GACf,MAAQqK,IAAU5O,QAAQuE,IAAgB,EAG9C,QAASsK,GAAatK,GAClB,MAAIkK,GAAUlK,GACH,IAAM7C,GAAK3G,SAASC,aAExB,GAGX,QAAS8T,GAAgBC,GACrB,MAAIA,GAAgB,EACI,GAAhBA,EACOrN,GAAK3G,SAASE,iBAAmB,KACjB,GAAhB8T,EACArN,GAAK3G,SAASG,mBAAqB,KACnB,GAAhB6T,EACArN,GAAK3G,SAASI,eAAiB,KAE/BuG,GAAK3G,SAASK,cAAgB,KAGtC,GAIX,QAAS4T,GAAoB/K,EAAUkH,EAAUtG,GAC7C,GACIoK,GAAM5O,EAAI6O,EAAMpB,EADhBqB,EAAS1S,EAAE,mBAAmB2J,KAAK,QAGvC,IADA+I,EAAOhK,QACHlB,EAAU,CAEVkL,EAAOvI,KAAK,WAAY3C,GAExBgL,EAAOxS,EAAEW,SAASyI,cAAc,OAAO5G,SAAS,cAChDoB,EAAK,EACL5D,EAAEmC,KAAKO,EAAcC,KAAKC,aAAa8L,GAAW,SAAU5G,EAAa3H,GACrE,GAAIA,EAAQ,EAAG,CACX,GAAIkR,GAAO,wBAA0BzN,EAAM,UAAYqB,GAAK/J,YAAY4M,EACpE5D,IAAmB4D,KACnB5D,GAAmB4D,GAAawF,IAAM1J,GAE1C4O,EAAKxI,OAAOhK,EAAEW,SAASyI,cAAc,OAAOuJ,KAAKtB,GAC5C7O,SAAS,sBAAwBsF,GAAaqC,KAAK,cAAerC,OAG/E4K,EAAO1I,OAAOwI,EAEd,IAAII,MACAC,IAEA/M,IAAqBgN,gBACrBN,EAAOxS,EAAEW,SAASyI,cAAc,OAAO5G,SAAS,YAChDxC,EAAEmC,KAAKO,EAAcC,KAAKC,aAAa8L,GAAW,SAAU5G,EAAa3H,GACrE,GAAI4S,GAAa,EACbC,EAAYxL,EAASM,EAOzB,IANIkL,GAAaA,EAAUhL,aAAe,IACtC+K,EAAa,GAEb5S,EAAQ,IACR4S,EAAa,GAEbA,EAAa,EAAG,CAChB,GAAI1B,GAAO,GACP4B,EAAY,CAKhB,IAJAL,EAAU9K,GAAe7C,GAAK3G,SAASM,SAAW,IAC9CqG,GAAK/J,YAAY4M,GAAaoL,cAAgB,IAC9CjO,GAAK3G,SAASO,gBAAkB,IAEhCmU,EAAW,CASX,OARA3B,GAAQ2B,EAAUlK,QAAU,IAAIqK,QAAQ,GAAK,MACzCnB,EAAUlK,KACVuJ,GAAQ2B,EAAUlK,QAAU,IAAIqK,QAAQ,GAAK,OAE5CH,EAAUlK,SAAW,GAAOkK,EAAUhL,cAAgB,MACvDqJ,EAAO,UAGHvJ,GACJ,IAAK,SACD,GAAIsL,GAAc,sBAAwBJ,EAAUlK,QAAU,EAAI,oBAAsB,IAAM,KAC1FuK,EAAiB9N,KAAKC,MAAM,GAAM,IAAMwN,EAAUM,WAAa,IACnED,GAAiB9N,KAAKkB,IAAI,GAAI4M,GAC9BA,EAAiB9N,KAAKe,IAAI,IAAK+M,GAE/BJ,EAAY1N,KAAKC,OAAQ6N,EAAiB,IAAM,EAAK,GAAK,GAC9B,GAAvBA,EAAiB,KAClBJ,EAAYI,EAAiB,IAE7BL,EAAUlK,QAAU,GACpBsK,GAAe,iDAAmD/B,EAAO,SACrE2B,EAAUhL,cAAgB,MAC1BqL,EAAiB,MAGrBD,GAAe,gCAAkCH,EAAY,MACzDD,EAAUlK,SAAW,MACrBsK,GAAe,cAEnBA,GAAe,KAAO/B,EAAO,UAGjC+B,GAAe,8CAAgDC,EAAiB,IAAM,cACtFD,GAAe,SACfR,EAAU9K,GAAesL,EAAcR,EAAU9K,EACjD,MACJ,KAAK,eACD,GAAIyL,GAAoB,4BAA8BP,EAAUlK,QAAU,EAAI,oBAAsB,IAAM,KACtG0K,EAAuBjO,KAAKC,MAAM,GAA6B,IAAvBwN,EAAUM,WACtDE,GAAuBjO,KAAKkB,IAAI,EAAG+M,GACnCA,EAAuBjO,KAAKe,IAAI,IAAKkN,GAErCP,EAAY1N,KAAKC,OAAQgO,EAAuB,IAAM,EAAK,GAAK,GAC9B,GAA7BA,EAAuB,KACxBP,EAAYO,EAAuB,IAEnCR,EAAUlK,QAAU,GACpByK,GAAqB,iDAAmDlC,EAAO,SAC3E2B,EAAUhL,cAAgB,MAC1BwL,EAAuB,MAG3BD,GAAqB,gCAAkCN,EAAY,MAC/DD,EAAUlK,SAAW,MACrByK,GAAqB,eAEzBA,GAAqB,KAAOlC,EAAO,UAGvCkC,GAAqB,oDAAsDC,EAAuB,IAAM,cACxGD,GAAqB,SACrBX,EAAU9K,GAAeyL,EAAoBX,EAAU9K,GA2B/D,GAvBIkL,EAAUlK,SAAW,EACjBkK,EAAUhL,cAAgB,KAC1BqJ,EAAO,SACPuB,EAAU9K,IAAgB7C,GAAK3G,SAASQ,WAAa,KACrD8T,EAAU9K,IAAgBuK,EAAgBW,EAAUS,oBAEpDb,EAAU9K,IAAgB7C,GAAK3G,SAASS,WAAa,IACrD6T,EAAU9K,IAAgBuJ,EAAKqC,QAAQ,IAAK,IAC5Cd,EAAU9K,IAAgBsK,EAAatK,GAAe,QAGtDkK,EAAUlK,KACV8K,EAAU9K,GAAe,0CAA4CuJ,EAAO,eAAiBuB,EAAU9K,IAG3GuJ,EAAO,IAAMA,EACbuB,EAAU9K,IAAgB7C,GAAK3G,SAASU,aAAe,OAASqS,EAAO,OAASe,EAAatK,GACzE,WAAhBA,IACA8K,EAAU9K,IAAgB,IAAM7C,GAAK3G,SAASW,qBAElD2T,EAAU9K,IAAgB,OAG1BkL,EAAUhL,aAAe,EAAG,CAC5B,GAAI2L,GAAc1O,GAAKzK,YAAYgH,EAAOwR,EAAUhL,aAAcgL,EAAUtR,YAAYwE,MACpFgM,GAAUpK,KACV6L,EAAc1O,GAAKhK,iBAAiBuG,EAAOwR,EAAUhL,aAAcgL,EAAUtR,YAAYwE,QAE7F0M,EAAU9K,IAAgB7C,GAAK3G,SAASY,iBAAmB,OAASyU,EAAYT,cAAgB,aAG7F/S,GAAQ,IACfkR,GAAQlR,EAAQ,IAAIgT,QAAQ,GAAK,MACjCP,EAAU9K,IAAgB7C,GAAKtI,OAAOG,GAAK,IAAMuU,EAAO,MACpDjJ,GACgE,OAA5D2J,EAAsB3J,EAAqBN,KAC3C8K,EAAU9K,IAAgB7C,GAAK3H,QAAQI,sBAKnD,IAAIiU,GAAQ3R,EAAEW,SAASyI,cAAc,OAChC7G,KAAK8O,GACLtI,KAAK,KAAM,WAAajB,GACxBtF,SAAS,sBAAwBsF,GACjCqC,KAAK,cAAerC,EACzB0K,GAAKxI,OAAO0H,EAAUC,EAAOqB,EAAW9O,GAAmB4D,KAC3D+K,EAAa/K,GAAe,GACxBkK,EAAUlK,KACV+K,EAAa/K,GAAe,aAEZ,WAAhBA,IACA+K,EAAa/K,GAAe,UAEhC2K,EAAO,GAAI1D,SAAQ4C,EAAOiB,EAAU9K,IAAe8L,UAAWf,EAAa/K,QAGnF4K,EAAO1I,OAAOwI,IAGlBA,EAAOxS,EAAEW,SAASyI,cAAc,OAAO5G,SAAS,0BAChDxC,EAAEmC,KAAKO,EAAcC,KAAKC,aAAa8L,GAAW,SAAU5G,EAAa3H,GACrE,GAAIwR,GACAqB,EAAYxL,EAASM,EACzB,IAAIkL,EACIA,EAAUhL,aAAe,GACzBqJ,EAAOpM,GAAKzK,YAAYgH,EAAOwR,EAAUhL,aAAcgL,EAAUtR,YAAYwE,OAEzEgM,EAAUpK,KACVuJ,EAAOpM,GAAKhK,iBAAiBuG,EAAOwR,EAAUhL,aAAcgL,EAAUtR,YAAYwE,QAGtFyL,EAAQ3R,EAAEW,SAASyI,cAAc,OAC5BuJ,KAAK,QAAUtB,EAAO,UACtB7O,SAAS,iBACT2H,KAAK,cAAerC,GAEzB0K,EAAKxI,OAAO0H,EAAUC,EAAOqB,EAAW9O,GAAmB4D,MACpD3H,EAAQ,IACfkR,EAAO,GACPM,EAAQ3R,EAAEW,SAASyI,cAAc,OAC5BuJ,KAAKtB,GACL7O,SAAS,2BAA6BsF,GACtCqC,KAAK,cAAerC,GACzB0K,EAAKxI,OAAO2H,QAEb,IAAIxR,EAAQ,EAAG,CAClBkR,EAAO,EACP,IACIwC,GADAC,EAAS,EAET1L,IAC4E,QAAvEyL,EAAU9B,EAAsB3J,EAAqBN,MACtDuJ,EAAO,4BAA8BzI,GAAwB,IAAMiL,EAAU,KAAO5O,GAAKtI,OAAOI,eAAiB,OACjH+W,EAAS,QAGjBnC,EAAQ3R,EAAEW,SAASyI,cAAc,OAC5BuJ,KAAKtB,GACL7O,SAAS,2BAA6BsF,EAAcgM,GACpD3J,KAAK,cAAerC,GACzB0K,EAAKxI,OAAO2H,GAEZA,IACAc,EAAO,GAAI1D,SAAQ4C,EAAOiB,EAAU9K,IAAe8L,UAAWf,EAAa/K,QAGnF4K,EAAO1I,OAAOwI,OAEX,CAEHA,EAAOxS,EAAEW,SAASyI,cAAc,OAAO5G,SAAS,cAChDoB,EAAK,CACL,IACImQ,GAAIjM,EADJkM,EAASpF,OAAOC,KAAKnM,EAAcC,KAAKC,cAAc,EAG1D,KADA4P,EAAKxI,OAAOhK,EAAEW,SAASyI,cAAc,OAAOuJ,KAAK1N,GAAKtI,OAAOK,MAAMwF,SAAS,gBACvEuR,EAAK,EAAGA,EAAK1O,GAAUnE,OAAQ6S,IAChCjM,EAAczC,GAAU0O,GACpBrR,EAAcC,KAAKC,aAAaoR,GAAQlM,GAAe,IACvDuJ,EAAO,wBAA0BzN,EAAM,UAAYqB,GAAK/J,YAAY4M,GAChE5D,GAAmB4D,KACnB5D,GAAmB4D,GAAawF,IAAM1J,GAE1C4O,EAAKxI,OAAOhK,EAAEW,SAASyI,cAAc,OAAOuJ,KAAKtB,GAAM7O,SAAS,sBAAwBsF,GAAaqC,KAAK,cAAerC,IAKjI,KAFA4K,EAAO1I,OAAOwI,GAET5O,EAAK,EAAGA,EAAKf,GAAS3B,OAAQ0C,IAAM,CACrC,GAA4B+N,GAAxB5O,EAAMF,GAASe,GAAIb,IAEnB+Q,EAAS,UAQb,KAPI/Q,IAAQ2L,IACRoF,GAAU,WAGdtB,EAAOxS,EAAEW,SAASyI,cAAc,OAAO5G,SAASsR,GAEhDtB,EAAKxI,OAAOhK,EAAEW,SAASyI,cAAc,OAAOuJ,KAAKtR,EAASwB,GAASe,GAAIZ,YAAYR,SAAS,gBACvFuR,EAAK,EAAGA,EAAK1O,GAAUnE,OAAQ6S,IAChCjM,EAAczC,GAAU0O,GACpBrR,EAAcC,KAAKC,aAAaG,GAAK+E,GAAe,IACpDuJ,GAAQ3O,EAAcC,KAAKC,aAAaG,GAAK+E,GAAe,IAAIqL,QAAQ,GACxExB,EAAQ3R,EAAEW,SAASyI,cAAc,OAAO7G,KAAK8O,EAAO,OAAO7O,SAAS,sBAAwBsF,GAAaqC,KAAK,cAAerC,GAC7H0K,EAAKxI,OAAO0H,EAAUC,EAAO,GAAIzN,GAAmB4D,KAG5D4K,GAAO1I,OAAOwI,IAItBzE,EAAgB,mBAAoBvG,EAAU,IAIlD,QAASyM,GAAwBC,EAAUC,GAEvC,GAAIC,GAAWpU,EAAE,iCAAiC2J,KAAK,qBACnD0K,EAAWpP,GAAK3G,SAASc,qBAAuB,IAAMiC,EAAS6S,GAAY,MAC/EG,IAAY,IAAMpP,GAAKtI,OAAOG,GAAK,OAASmI,GAAKzK,YAAYgH,EAAO2S,EAAS,GAAGjO,OAAOgN,cAAgB,MAC5F,IAAInE,SAAQqF,EAAUC,GAGrC,QAASC,GAAaJ,EAAUK,EAAUC,EAAeC,EAAmBC,GACxE,GAAwB,mBAAbH,GAA0B,CACjC,GAAIJ,GAAUI,EAASjM,SAEnBd,GADY+M,EAASI,cACVJ,EAAS/M,SACxBL,GAAWgN,EAASO,GAChB5O,GAAqBC,eACrBwB,EAAe4M,EAAS3M,EAAUkN,GAElC5O,GAAqB8O,eACrBzM,EAAgBX,EAAU+M,EAASnM,oBAAqBmM,EAASlM,SAAU8L,GAE/EF,EAAwBC,EAAUC,GAClC5B,EAAoB/K,EAAU+M,EAAS7F,SAAU6F,EAASnM,sBAIlE,QAASyM,KAEL,GAAIC,GAAa,6CAQjB,OAPAA,IAAc,wBACdA,GAAc,sCACdA,GAAc,6BAA+B7P,GAAKtI,OAAOM,kBAAoB,SAC7E6X,GAAc,0BACdA,GAAc,wDACdA,GAAc,SACdA,GAAc,SAWlB,QAASC,KAEL,GAAID,GAAa,kDAYjB,OAXAA,IAAc,0BACdA,GAAc7P,GAAK5F,OAAOC,cAC1BwV,GAAc,OACdA,GAAc,8BACdA,GAAc,uBACdA,GAAc,YAAcza,OAAOmX,eAAiB,kFAAoFvM,GAAK5F,OAAOG,kBAAkBkU,QAAQ,KAAM,SAAW,KAC/LoB,GAAc7P,GAAK5F,OAAOE,kBAAoB,OAC9CuV,GAAc,QACdA,GAAc,gFAAkF7P,GAAK5F,OAAOK,iBAAiBgU,QAAQ,KAAM,SAAW,KAAOzO,GAAK5F,OAAOI,iBAAmB,YAC5LqV,GAAc,2FAA6F7P,GAAK5F,OAAOO,oBAAoB8T,QAAQ,KAAM,SAAW,KAAOzO,GAAK5F,OAAOM,oBAAsB,YAC7MmV,GAAc,cAIlB,QAASE,KAEL,GAAIC,GAAa,kCAKjB,OAJAA,IAAc,MAAQhQ,GAAK5F,OAAOQ,sBAAsB,GAAK,IAC7DoV,GAAc,YAAc5a,OAAOmX,eAAiB,0DAA4DvM,GAAK5F,OAAOS,0BAA4B,SACxJmV,GAAc,+DAAiEhQ,GAAKtI,OAAOO,WAAa,SACxG+X,GAAc,aAIlB,QAASC,GAAmBC,GACxB,GAAIC,GAAS,CAMb,OALApV,GAAEmC,KAAKgT,EAAQxS,KAAKC,aAAc,SAAUyS,EAAGzS,GAC3C5C,EAAEmC,KAAKS,EAAc,SAAUyS,EAAGlV,GAC9BiV,EAAS7P,KAAKkB,IAAItG,EAAOiV,OAG1BA,EAGX,QAASE,KACLtM,EAAgBa,GAAUC,sBAC1B9J,EAAE,kBAAkB2G,SAGxB,QAAS4O,KAED3M,GADoB,OAApBD,EACwBtO,OAAOmX,eAAiB,yBAExBnX,OAAOmX,eAAiB,qBAAuB7I,EAAkB,gBAIjG,QAAS6M,GAAgBC,EAAUC,GAC/B/M,EAAkB8M,EAClBF,IAEwB,OAApB5M,GACAvH,EAAY,oBACZ+G,MAEAnI,EAAE,kBAAkBqC,IAAIsG,GACxB1I,EAAa,mBAAoB0I,EAAiBgN,IAElDD,EAAQ/M,GACRtO,OAAOwW,WAAW,uBAAwB,kCAE9C7Q,EAAE,mBAAmB+I,KAAK,OAAQH,IAlxEtC,GAAIlG,GAoFAoB,EAqBA8R,EAGAjN,EACAC,GA5GA3D,MACA4E,GAAYxP,OAAO0F,GAAG8V,QAEtB9T,IACA+T,GAAI5P,MAAO,YAAapC,WAAY,WACpCiS,KAAM7P,MAAO,YAAapC,WAAY,WACtCkS,KAAO9P,MAAO,OAAQpC,WAAY,WAClCmS,MAAO/P,MAAO,UAAWpC,WAAY,WACrCoS,MAAOhQ,MAAO,QAASpC,WAAY,WACnCqS,MAAOjQ,MAAO,UAAWpC,WAAY,WACrCsS,MAAOlQ,MAAO,UAAWpC,WAAY,YAGrChC,IACAgU,GAAI5P,MAAO,YAAapC,WAAY,WACpCiS,KAAM7P,MAAO,YAAapC,WAAY,WACtCkS,KAAO9P,MAAO,OAAQpC,WAAY,WAClCmS,MAAO/P,MAAO,UAAWpC,WAAY,WACrCoS,MAAOhQ,MAAO,QAASpC,WAAY,YAGnC0C,GAAgB,IAChBD,GAAgB,KAChBN,GAAc,KAAOM,GAAgBC,IAErCnB,IACA,QACA,QACA,YACA,aACA,OACA,SACA,UACA,cACA,aACA,aACA,oBACA,qBACA,iBACA,mBACA,qBACA,SACA,cACA,eACA,qBACA,oBACA,YACA,eAGA4M,IACA,QACA,QACA,YACA,aACA,OACA,cACA,aACA,aACA,oBACA,qBACA,mBACA,qBACA,cACA,aAGAE,IACA,SACA,UACA,SACA,eACA,sBAGAkE,GAAc,KAEdvI,GAAkB,IAClBM,GAAmB,IACnBE,GAAU,IAEVb,GAAY,UACZF,GAAY,UAEZxJ,GAAkB,UAClBE,GAAkB,UAClB4N,GAAiB,UAEjBnE,GAAgB,EAChBtB,GAAiB,EACjBM,GAAiB,EACjBI,GAAoB,GACpBG,GAAkB,kBAClBG,GAA2B,uBAC3BjC,GAAY,GACZR,GAAY,GAEZ3D,GAAa,IAEbjC,MACAb,MAEArB,MAGAyT,GAAmB,OAKnBzN,GAAoB,IAEpB8M,GAAiB,GAEjBjG,GAAW,GAEX5J,IACAC,eAAe,EACf6O,eAAe,EACf9B,eAAe,GA8pEfyD,GAAe,SAAUpB,GAMzB,MAJgD,mBAArCtL,IAAU2M,yBACjB3M,GAAUC,qBAAuBD,GAAU2M,uBAAyB,WAGpB,IAA7CxW,EAAE6J,GAAUC,sBAAsB5I,QACL,IAAhCgU,EAAmBC,IAGvBsB,GAAO,SAAUtB,EAASuB,EAAUC,GACpCjU,EAAgByS,CAGhB,IAAIyB,EAEAA,GAD0B,mBAAnB/M,IAAU3P,KACJ8F,EAAE,QAAQ+I,KAAK,QAEfc,GAAU3P,KAE3B+K,GAAO5K,OAAOC,KAAKF,IAAIwc,GAEvB3U,EAAO5H,OAAO0F,GAAG8V,QAAQ/L,sBACzBpG,GAAW,GAGmB,mBAAnB4N,iBAA+D,QAA7BA,eAAegE,WACxDA,IAGAzL,GAAUgN,gBACV7W,EAAE6J,GAAUiN,kBAAkBpN,GAAGG,GAAUgN,eAAgB,WACnDF,IACAtc,OAAOwW,WAAW,cAAe,+CAEjCxW,OAAOwW,WAAW,YAAa,kCAO3C7Q,EAAEW,UAAU+I,GAAG,QAAS,UAAW,WAC/BgN,OAIJK,GAAuB,SAAUC,GACjC,GACIxN,GAASH,EAAQkL,EAAUL,EAD3B+C,EAAiB,IA2DrB,IAxDAjX,EAAEmC,KAAK6U,EAAa,SAAUjU,EAAKmU,GAC/B,GAAIC,GAAW,gBAAkBpU,CACjC/C,GAAEmX,GACGvN,YAAY,6EACZpH,SAAS,MAAQ0U,EAAOvC,cAG7B,IAAIyC,GAAY7R,KAAK8R,IAAIH,EAAO5O,SAAW+N,GAC3BY,GAAZG,GAEIpX,EAAE,UAAY+C,GAAK7B,OAAS,IAC5B+V,EAAiBG,EACjBxB,EAAgB7S,EAChBuT,GAAmBY,EAAOvC,eAK9BuC,EAAO7O,SAAWQ,GAClB7I,EAAE,6BAA6B6G,OAE/B7G,EAAE,6BAA6BsX,OAInCtX,EAAE,UAAY+C,GAAKoH,KAAK,WACpB7B,SAAU4O,EAAO5O,SACjBqM,cAAeuC,EAAOvC,cACtBnN,SAAU0P,EAAO1P,SACjBY,oBAAqB8O,EAAO9O,oBAC5BC,SAAU6O,EAAO7O,SACjBqG,SAAU3L,MAKlB/C,EAAE6J,GAAUC,qBAAuB,mBAAmBmH,OAAO,WACzDzH,EAAUxJ,EAAEhG,MAAMqI,MAClBgH,EAAS,UAAYG,EACrB+K,EAAWvU,EAAEqJ,GAAQc,KAAK,WAC1B+J,EAAWlU,EAAEqJ,GAAQ9G,OACjBiH,GACAxJ,EAAE,8CAA8CsX,OAChDhD,EAAaJ,EAAUK,EAAW/K,IAAYoM,EAAgB/L,GAAU0N,uBAAuB,IAE/FvX,EAAE,8CAA8C6G,OAGpD7G,EAAE,8DAA8DqC,IAAImH,GACpEnP,OAAOwW,WAAW,cAAe,iCAIrC7Q,EAAE,iBAAiB2J,KAAK,kBAAkBC,YAAY,kBAGlDC,GAAU2N,oBAAqB,CAE/BxX,EAAE6J,GAAUC,qBAAuB,mBAAmBzH,IAAIuT,GAE1D5V,EAAE,8DAA8DqC,IAAIuT,GAEpE5V,EAAE,iBAAiB2J,KAAK,kBAAkBC,YAAY,mBAEtD5J,EAAE,gBAAkB4V,GAAepT,SAAS,iCAC5C,IAAIiV,GAAmBzX,EAAE,UAAY4V,EACjC6B,GAAiBtN,KAAK,aACtBoK,EAAWkD,EAAiBtN,KAAK,WACjC+J,EAAWuD,EAAiBlV,OAC5B+R,EAAaJ,EAAUK,GAAU,EAAM1K,GAAU0N,uBAAuB,IAE5E1N,GAAU2N,qBAAsB,MAEhCnO,GAAS,UAAYrJ,EAAE6J,GAAUC,qBAAuB,mBAAmBzH,MACvErC,EAAEqJ,GAAQc,KAAK,aACfoK,EAAWvU,EAAEqJ,GAAQc,KAAK,WAC1B+J,EAAWlU,EAAEqJ,GAAQ9G,OACrB+R,EAAaJ,EAAUK,GAAU,EAAM1K,GAAU0N,uBAAuB,KAMhFG,GAAqB,SAAUC,EAAajC,GAC5C,GAAIkC,GAAgB/W,EAAW,oBAC3B+C,EAAK,EACLiU,EAAO,qCAAuChD,IAAsB,QAGxE7U,GAAE6J,GAAUgG,iBAAiB7F,OAAOtE,KACpC1F,EAAE,qCAAqCgK,OAAO6N,GAC9C7X,EAAE,6BAA6B2J,KAAK,SAASD,GAAG,QAAS,WACrD1J,EAAE,6BAA6B8X,YAAY,YAG3CH,EAAYzW,OAAS,GACrByH,EAAkBgP,EAAY,GAAGlV,GACjCzC,EAAEmC,KAAKwV,EAAa,WAChB,MAAI3d,MAAKyI,KAAOmV,GACZjP,EAAkB3O,KAAKyI,IAChB,GAFX,SAMJgN,GAAoB,GACpBtI,EAAWkP,IAAa,GAExBrW,EAAE,iBAAiB0I,QAAQiK,KAAK,mCAAqC1N,GAAKtI,OAAOC,aAAe,aAC3FoN,OAAO,WACJ,GAAI+N,GAASpX,SAASyI,cAAc,SAGpC,OAFA2O,GAAOnE,UAAY,gBACnBmE,EAAOtV,GAAK,uBAAyBmB,EAC9BmU,IAEf/X,EAAEmC,KAAKwV,EAAa,WAChB3X,EAAE,YAAY8G,SAAS,kBAClBiC,KAAK,QAAS/O,KAAKyI,IACnBF,KAAKvI,KAAKge,eAEnBhY,EAAE,kBACGqC,IAAIsG,GACJsI,OAAO,WACJuE,EAAgBxb,KAAKmG,MAAOuV,OAGpC/M,EAAkB,KAClB4M,IACA9F,GAAoB,GACpB8C,IACAvS,EAAE,6BAA6B6G,OAC/B7G,EAAE,iBAAiB0I,QACnB1I,EAAE,wCACG2S,KAAK,8CAAgD1N,GAAK3H,QAAQK,YAAc,WACrFqC,EAAE,0CACGgK,OACGhK,EAAE,UAAUwC,SAAS,gCAChBmQ,KAAK1N,GAAK3H,QAAQK,YAAc,IAAMsH,GAAKtI,OAAOQ,MAC/C,gCAAkCyL,GAAwB,qBAAuB3D,GAAKtI,OAAOS,YAAc,QAAU6H,GAAOtI,OAAOU,kBAIvJ2C,EAAE,cAAc2S,KAAK,mDAAqD1N,GAAKtI,OAAOS,YAAc,QAGpGoY,EAAgB7M,EAAiB+M,IAGjCuC,GAAQ,WACR7W,EAAY,oBACZA,EAAY,4BAGZpB,EAAE,kBAAkB2G,SACpB3G,EAAE,iBAAiB2G,SACnB3G,EAAE,0BAA0B2G,SAC5B3G,EAAE,iCAAiC+P,OAAO,WAAWpJ,UAKrDuR,GAAS,SAAUC,EAAS1G,GAmB5B,GAlBA/N,GAAW,GAGX+L,GAAoB,GACpB8C,IAIAvS,EAAE,aAAasX,OAGftX,EAAE6J,GAAUC,qBAAuB,mBAAmBmH,OAAO,WACzD,GAAIzH,GAAUxJ,EAAEhG,MAAMqI,KAEtBrC,GAAE,8DAA8DqC,IAAImH,GACpE+I,EAAoB,GAAI/I,KAGU,OAAlC8H,eAAeC,eAAyB,CACxC,GAAI6G,EAEJA,GAAgBrD,IACZxF,MACA6I,EAAgBpY,EAAEoY,GAAevR,QAErC7G,EAAE,iCAAiCgK,OAAOoO,GAG1CpY,EAAE,qBAAqB4Q,MAAM,WAMzB,MALAvW,QAAOwW,WAAW,aAAc,wBAChCY,IACApX,OAAOge,WAAW,WACdF,OAEG,IAGXnY,EAAE,uBAAuB4Q,MAAM,WAG3B,MAFAvW,QAAOwW,WAAW,cAAe,0BACjCY,KACO,IAIXzR,EAAE,yBAAyB0J,GAAG,QAAS,WAKnC,MAJArP,QAAOwW,WAAW,WAAY,4BAC9B5Q,EAAa,mBAAoB,OAAQ0V,IACzC3V,EAAE,WAAW6G,OACb7G,EAAE,wCAAwC+J,QAAQ,UAC3C,IAINyF,MACDxP,EAAE6J,GAAUyO,gBAAgBtO,OAAOgL,KACnChV,EAAE,wCAAwC0J,GAAG,QAAS,WAIlD,MAHArP,QAAOwW,WAAW,kBAAmB,gCACrC5Q,EAAa,2BAA4B,OAAQ0V,IACjD3V,EAAE,0BAA0BuY,WACrB,IAGXvY,EAAE,6BAA6B0J,GAAG,QAAS,WACvCrP,OAAOwW,WAAW,qBAAsB,qCAUxD,QACI0F,aAAcA,GACdhH,SAAUA,EACVwH,qBAAsBA,GACtByB,kBAAmB,WAGfxY,EAAE,kBAAkB6G,OACpB4R,QAAQC,MAAM,+EAGlBhB,mBAAoBA,GACpBjB,KAAMA,GACNwB,MAAOA,GACPC,OAAQA,KAKhB7d,OAAO0F,GAAG8V,YAEXlc,QAQH,SAAWA,EAAQY,GACfF,OAAOse,WAAa,SAAU3Y,GAE1B,GAAI4Y,GAEAC,EAAc,WAGd,QAASC,KACL,IACI,GAAIC,GAAYpf,EAAOuL,GACnB8T,EAAI,kBACRD,GAAUE,QAAQD,EAAGA,GACrBD,EAAUG,WAAWF,GACrBhf,KAAKmf,QAAUxf,EAAOuL,GACxB,MAAOkU,GACLpf,KAAKmf,QAAU,MAVvB,GAAIjU,GAAO,gBAuBX,OATA4T,GAAYO,UAAUF,QAAU,KAChCL,EAAYO,UAAUC,YAAc,SAAUC,GAC1C,MAAqB,QAAjBvf,KAAKmf,QAIFI,EAASvf,KAAKmf,SAJrB,QAOG,GAAIL,MAGXU,EAAe,WACf,GAAIC,GAAWzZ,EAAE0Z,UAkCjB,OAhCAb,GAAYS,YAAY,SAAUH,GAC9B,GACIQ,GADAC,EAAiBT,EAAQU,QAAQ,YAEd,QAAnBD,IACAD,EAAcG,KAAKC,MAAMH,GACrBD,EAAYtZ,UAAY9F,IACxBof,EAAYtZ,QAAUE,KAAKwZ,MAAMJ,EAAYtZ,SAEzCsZ,EAAYtZ,SAAU,GAAIE,OAAOE,YAC7BkZ,EAAYK,QAAUzf,EACtBkf,EAASQ,QAAQN,EAAYK,OAE7BP,EAASS,OAAO,WAOX,YAArBT,EAASU,SACT9f,OAAOmf,aAAa,SAAUY,GACL,OAAjBA,GAAgD,OAAvBA,EAAaJ,MACtCP,EAASS,OAAO,OAEhBrB,EAAYS,YAAY,SAAUH,GAC9BA,EAAQF,QAAQ,YAAaa,KAAKO,UAAUD,MAEhDX,EAASQ,QAAQG,EAAaJ,UAKnCP,EAASa,WAGhB7I,EAAiB,WACjBoH,EAAYS,YAAY,SAAUH,GAC9BA,EAAQD,WAAW,gBAIvBqB,EAAa,WACb,MAAOf,KAAegB,KAAK,SAAUR,GACjCpB,EAAS,GAAIve,QAAO2f,MAIxBS,EAAc,WACd,GAAIC,GAAiB1a,EAAE0Z,UAmBvB,OAlB8B,gBAAnBiB,gBACPtgB,OAAOugB,eAAeD,eAAgB,SAAUxF,GAC5C,GAAI0F,GAAY,GAAIxgB,QAAOygB,KACvB3F,EAAQhS,SAAUgS,EAAQ4F,UAAW5F,EAAQ6F,cAAe7F,EAAQ8F,YAExEjb,GAAEmC,KAAKgT,EAAQvS,aAAc,SAAUsD,EAAO/F,GAC1C0a,EAAUK,UAAUhV,EAAO7L,OAAO8gB,IAAIC,WAAWjb,MAErDua,EAAeT,SACXtX,KAAMkY,EACN3a,KAAM,aAEX,WACCwa,EAAeR,WAGnBQ,EAAeT,QAAQU,gBAEpBD,GAGP/D,EAAa,WACb,QAASiC,GAGTyC,EAAQ,SAAUlG,GAClB,GAAImG,GAAWjhB,OAAO0F,GAAGC,GAErBub,IAAcjK,gBACoB,QAAlCA,eAAeC,gBACW,IAA1B4D,EAAQxS,KAAKQ,UACbmY,EAAS/E,aAAapB,GAEtBqG,EAAU,SAAU7S,GACpB,GAAIhG,EACJ,IAA8B,gBAAnBgY,gBACPhY,EAAOgY,mBACJ,CACHhY,EAAO3C,EAAEyb,UAAWtG,EAAQxS,KAC5B,IAAIQ,GAAWR,EAAKQ,QAChBA,GAASI,QAAQ,KAAO,IACxBZ,EAAKQ,SAAWA,EAASnC,MAAM,IAAI0a,KAAK,MAGhD9C,EAAO+C,MAAM,GAAIthB,QAAOuhB,WAAWjT,EAAiBhG,GAChD2Y,EAASvE,qBACTuE,EAAS9C,oBAIbqD,EAAa,WACbP,EAASrD,QAGLtB,KACAiC,EAAOkD,wBAAwB,SAAUnE,GACrC2D,EAAS5D,mBAAmBC,EAAa6D,MAMjDO,EAAc,WACdnD,EAAS,KACT0C,EAASpD,OAAO,WACZqC,IAAaC,KAAKqB,IACnBpK,GAGH8J,KACAD,EAAS7E,KAAKtB,EAAS4G,EAAapF,GAChC2E,EAAS/L,YACTlV,OAAOwW,WAAW,kBAAmB,4CACrCkL,KACOpF,KACPtc,OAAOwW,WAAW,sBAAuB,uCACzCgL,MAEAxhB,OAAOwW,WAAW,uBAAwB,wCAC1CkL,MAOZ/b,GAAE,WAEE3F,OAAOmX,eAAiB,6BACxBiH,QAAQuD,IAAIrB,eAGZ,IAAIsB,GAAYjc,EAAE0Z,UAClBa,KAAa2B,OAAO,WAChBD,EAAUhC,YAGdja,EAAEmc,KAAK1B,IAAewB,GAAWzB,KAAK,SAAUrF,GAC5CsD,QAAQuD,IAAI7G,GACZkG,EAAMlG,SAMnBxb","file":"sizeme-ui.min.js","sourcesContent":["(function(window) {\n    \"use strict\";\n\n    var SizeMeI18N = function (defaultLang) {\n\t\t// langs defined by ISO 639-1 Language Code (fallback to english)\n        var defLang = defaultLang || \"en\";\n\n        var languages = {};\n        languages[defLang] = {};\n\n        this.add = function (lang, langObj) {\n            languages[lang] = langObj;\n        };\n\n        this.get = function (lang) {\n            return languages[lang] || languages[defLang];\n        };\n    };\n\n    SizeMe.I18N = new SizeMeI18N(\"en\");\n\n})(window);\n(function (undefined) {\n    \"use strict\";\n\n    SizeMe.I18N.add(\"en\",\n        {\n            FIT_VERDICT: {\n                not_fitted: \"Too small\",\n                too_small: \"Too small\",\n                slim: \"Slim\",\n                regular: \"Regular\",\n                loose: \"Loose\",\n                very_loose: \"Very loose\",\n                huge: \"Huge\",\n                too_big: \"Too big\"\n\t\t\t},\n            FIT_VERDICT_LONG: {\n                not_fitted: \"Too short\",\n                too_small: \"Too short\",\n                slim: \"Short\",\n                regular: \"Regular\",\n                loose: \"Long\",\n                very_loose: \"Very long\",\n                huge: \"Huge\",\n                too_big: \"Too long\"\n            },\n\t\t\tMEASUREMENT: {\n                chest: \"Chest\",\n                waist: \"Waist\",\n                sleeve: \"Sleeve\",\n                sleeve_top_width: \"Sleeve top\",\n                sleeve_top_opening: \"Sleeve top opening\",\n                wrist_width: \"Wrist\",\n                underbust: \"Underbust\",\n                neck_opening_width: \"Collar\",\n                shoulder_width: \"Shoulder\",\n                front_height: \"Front height\",\n                pant_waist: \"Pant waist\",\n                hips: \"Hips\",\n                inseam: \"Inseam\",\n                outseam: \"Outseam\",\n                thigh_width: \"Thigh\",\n                knee_width: \"Knee\",\n                calf_width: \"Calf\",\n                pant_sleeve_width: \"Leg opening\",\n                shoe_inside_length: \"Shoe length\",\n                shoe_inside_width: \"Shoe width\",\n                hat_width: \"Hat circumference\",\n                hood_height: \"Hood height\",\n\t\t\t\them: \"Hem\",\n\t\t\t\tsleeve_opening: \"Sleeve opening\"\n            },\n\t\t\tCOMMON: {\n\t\t\t\tshopping_for: \"Shopping for\",\n\t\t\t\tselected_size: \"Selected size\",\n\t\t\t\tis: \"is\",\t// verb\n\t\t\t\tadd_to_profile: \"Add to profile\",\n\t\t\t\tsize: \"Size\",\n\t\t\t\tfetching_profiles: \"Fetching profiles...\",\n\t\t\t\tclose_text: \"Close\",\n\t\t\t\tgo_to: \"Go to\",\n\t\t\t\tmy_profiles: \"My Profiles\",\n\t\t\t\tand_create_one: \"and create one.\"\t// as in: go to my profiles and create one\n\t\t\t},\n\t\t\tMESSAGE: {\n\t\t\t\tadd_profiles: \"Add profiles to your account for a size recommendation.\",\n\t\t\t\tmissing_measurements: \"Add more measurements to your profile for increased accuracy\",\n\t\t\t\tno_measurements: \"Add measurements to your profile for a size recommendation.\",\n\t\t\t\tadd_this_measurement: \"Add this measurement to your profile to include it in the fit calculation.\",\n\t\t\t\tno_profiles: \"You have no profiles on your account.\",\n\t\t\t\tno_top_button: \"The shirt's top button for this size won't close.\"\n\t\t\t},\n\t\t\tDETAILED: {\n\t\t\t\twindow_title: \"Detailed View for\",\n\t\t\t\tbutton_text: \"Detailed view of fit\",\n\t\t\t\ttable_title: \"Detailed fit - overlaps\"\n\t\t\t},\n\t\t\tSIZE_GUIDE: {\n\t\t\t\twindow_title: \"Size Guide for\",\n\t\t\t\tbutton_text: \"Size guide\",\n\t\t\t\ttable_title: \"Actual item measurements\",\n\t\t\t\tmeasurement_disclaimer: \"These measurements are measured <u>flat across the outside of the item</u>.\",\n\t\t\t\tmeasurement_disclaimer_collar: \"Except for the collar measurement, which is measured around the inside of the collar.\",\n\t\t\t\tmeasurement_disclaimer_inside: \"These measurements are measured <u>inside the item</u>.\",\n\t\t\t\tadvertisement: \"This size guide is brought to you by\"\n\t\t\t},\n\t\t\tFIT_INFO: {\n\t\t\t\twhen_pinched: \" when pinched\",\n\t\t\t\tstretched_little: \"The item is stretched a little.\",\n\t\t\t\tstretched_somewhat: \"The item is stretched.\",\n\t\t\t\tstretched_much: \"The item is stretched a lot.\",\n\t\t\t\tstretched_max: \"The item is stretched to the max.\",\n\t\t\t\tthe_item: \"The item's\",\n\t\t\t\tthe_measurement: \"measurement\",\n\t\t\t\tno_overlap: \"is directly on you with no overlap.\",\n\t\t\t\tis_smaller: \"is <u>smaller</u> than your matching measurement by\",\n\t\t\t\toverlaps_you: \"overlaps you by\",\n\t\t\t\tarm_sleeve_straight: \"when your arm and the item's sleeve are <u>completely straight</u>\",\n\t\t\t\tsm_considers_fit: \"SizeMe considers this particular fit\",\n\t\t\t\toverall_fit: \"Overall fit\",\n\t\t\t\toverall_fit_for_size: \"The overall fit for <b>size\"\n\t\t\t},\n\t\t\tSPLASH: {\n\t\t\t\tdetailed_text: \"Take a few <b>measurements of yourself</b> and get personalized info on how this item would <b>fit you</b>.<br />Create a free <b>SizeMe</b> profile and stop guessing!\",\n\t\t\t\tbtn_sign_up_title: \"Sign up\",\n\t\t\t\tbtn_sign_up_label: \"Yes, I'd like to create a free account\",\n\t\t\t\tbtn_log_in_title: \"Log in\",\n\t\t\t\tbtn_log_in_label: \"I already have an account\",\n\t\t\t\tbtn_no_thanks_title: \"No thanks\",\n\t\t\t\tbtn_no_thanks_label: \"Maybe later\",\n\t\t\t\tproduct_page_splashes: [\"Unsure about the right size? Try\"],\n\t\t\t\tproduct_page_splash_title: \"SizeMe is a free service to help you know how this item will fit _you_\"\n\t\t\t}\n        }\n    );\n\n})();\n(function (undefined) {\n    \"use strict\";\n\n    SizeMe.I18N.add(\"fi\",\n        {\n            FIT_VERDICT: {\n                not_fitted: \"Pieni\",\n                too_small: \"Pieni\",\n                slim: \"Kapea\",\n                regular: \"Normaali\",\n                loose: \"Väljä\",\n                very_loose: \"Erittäin väljä\",\n                huge: \"Valtava\",\n                too_big: \"Liian iso\"\n\t\t\t},\n            FIT_VERDICT_LONG: {\n                not_fitted: \"Liian lyhyt\",\n                too_small: \"Liian lyhyt\",\n                slim: \"Lyhyehkö\",\n                regular: \"Normaali\",\n                loose: \"Pitkähkö\",\n                very_loose: \"Pitkä\",\n                huge: \"Valtava\",\n                too_big: \"Liian pitkä\"\n            },\n\t\t\tMEASUREMENT: {\t\t\t\n                chest: \"Rinta\",\n                waist: \"Vyötärö\",\n                sleeve: \"Hiha\",\n                sleeve_top_width: \"Hihan yläosa\",\n                sleeve_top_opening: \"Hihan leveys\",\n                wrist_width: \"Ranne\",\n                underbust: \"Rinnan alta\",\n                neck_opening_width: \"Kaulus\",\n                shoulder_width: \"Hartia\",\n                front_height: \"Etupituus\",\n                pant_waist: \"Housun vyötärö\",\n                hips: \"Lantio\",\n                inseam: \"Sisäsauma\",\n                outseam: \"Ulkosauma\",\n                thigh_width: \"Reisi\",\n                knee_width: \"Polvi\",\n                calf_width: \"Pohje\",\n                pant_sleeve_width: \"Lahje\",\n                shoe_inside_length: \"Sisäpituus\",\n                shoe_inside_width: \"Sisäleveys\",\n                hat_width: \"Ympärysmitta\",\n                hood_height: \"Hupun korkeus\",\n\t\t\t\them: \"Helma\",\n\t\t\t\tsleeve_opening: \"Hihan suu\"\t\t\t\t\n            },\n\t\t\tCOMMON: {\n\t\t\t\tshopping_for: \"Aktiivinen profiili\",\n\t\t\t\tselected_size: \"Valittu koko\",\n\t\t\t\tis: \"on\",\t// verb\n\t\t\t\tadd_to_profile: \"Lisää profiiliin\",\n\t\t\t\tsize: \"Koko\",\n\t\t\t\tfetching_profiles: \"Haetaan profiileja...\",\n\t\t\t\tclose_text: \"Sulje\",\n\t\t\t\tgo_to: \"Mene\",\n\t\t\t\tmy_profiles: \"Profiili-sivulleni\",\n\t\t\t\tand_create_one: \"ja luo profiili.\"\t// as in: go to my profiles and create one\n\t\t\t},\n\t\t\tMESSAGE: {\n\t\t\t\tadd_profiles: \"Lisää mittaprofiili kokosuositusta varten.\",\n\t\t\t\tmissing_measurements: \"Lisää mittoja profiiliisi tarkempaa tulosta varten\",\n\t\t\t\tno_measurements: \"Lisää mittoja profiiliisi kokosuositusta varten.\",\n\t\t\t\tadd_this_measurement: \"Lisää tämä mitta profiilisi tarkempaa tulosta varten.\",\n\t\t\t\tno_profiles: \"Tililläsi ei ole yhtään mittaprofiilia.\",\n\t\t\t\tno_top_button: \"Paidan ylin nappi ei tässä koossa mene kiinni.\"\n\t\t\t},\n\t\t\tDETAILED: {\n\t\t\t\twindow_title: \"Sopivuustiedot tuotteelle\",\n\t\t\t\tbutton_text: \"Sopivuustiedot\",\n\t\t\t\ttable_title: \"Sopivuustiedot\"\n\t\t\t},\n\t\t\tSIZE_GUIDE: {\n\t\t\t\twindow_title: \"Kokotaulukko tuotteelle\",\n\t\t\t\tbutton_text: \"Kokotaulukko\",\n\t\t\t\ttable_title: \"Tuotteen mitat\",\n\t\t\t\tmeasurement_disclaimer: \"Nämä mitat on otettu <u>tuotteen päältä tasaisella alustalla</u>.\",\n\t\t\t\tmeasurement_disclaimer_collar: \"Paitsi kaulus, joka on ympärysmitta kauluksen sisäpuolelta.\",\n\t\t\t\tmeasurement_disclaimer_inside: \"Nämä mitat on otettu <u>tuotteen sisältä</u>.\",\n\t\t\t\tadvertisement: \"Tämän kokotaulukon toimittaa\"\n\t\t\t},\n\t\t\tFIT_INFO: {\n\t\t\t\twhen_pinched: \" nipistettynä sormien väliin\",\n\t\t\t\tstretched_little: \"Tuote venyy vähän.\",\n\t\t\t\tstretched_somewhat: \"Tuote venyy.\",\n\t\t\t\tstretched_much: \"Tuote venyy kunnolla.\",\n\t\t\t\tstretched_max: \"Tuote venyy huolella.\",\n\t\t\t\tthe_item: \"Tuotteen\",\n\t\t\t\tthe_measurement: \"-mitta\",\n\t\t\t\tno_overlap: \"on suoraan sinua vasten.\",\n\t\t\t\tis_smaller: \"on sinun omaa mittaasi <u>pienempi</u>\",\n\t\t\t\toverlaps_you: \"ylittää mittasi\",\n\t\t\t\tarm_sleeve_straight: \"kun kätesi ja tuotteen hiha on <u>suoraan alaspäin</u>\",\n\t\t\t\tsm_considers_fit: \"SizeMe:n mielestä tämä sopivuus on\",\n\t\t\t\toverall_fit: \"Sopivuus\",\t\t\t\t\n\t\t\t\toverall_fit_for_size: \"Sopivuus <b>koolle\"\n\t\t\t},\n\t\t\tSPLASH: {\n\t\t\t\tdetailed_text: \"Ota <b>muutama mitta</b> itsestäsi ja näe miten tämä tuote <b>sopisi sinulle</b>.<br />Luo oma <b>SizeMe</b>-tunnus ja lopeta arvailu!\",\n\t\t\t\tbtn_sign_up_title: \"Liityn mukaan\",\n\t\t\t\tbtn_sign_up_label: \"Jep, haluan luoda oman tunnuksen\",\n\t\t\t\tbtn_log_in_title: \"Kirjaudu\",\n\t\t\t\tbtn_log_in_label: \"Minulla on jo oma tunnus\",\n\t\t\t\tbtn_no_thanks_title: \"Ei kiitos\",\n\t\t\t\tbtn_no_thanks_label: \"Ehkä myöhemmin\",\n\t\t\t\tproduct_page_splashes: [\"Haluatko apua oikean koon valitsemisessa? Kokeile\"],\n\t\t\t\tproduct_page_splash_title: \"SizeMe-palvelu kertoo miten tämä tuote sopii juuri _sinulle_\"\n\t\t\t}\n        }\n    );\n\n})();\n(function (undefined) {\n\t\"use strict\";\n\n\tSizeMe.I18N.add(\"sv\",\n\t\t{\n\t\t\tFIT_VERDICT: {\n\t\t\t\tnot_fitted: \"För liten\",\n\t\t\t\ttoo_small: \"För liten\",\n\t\t\t\tslim: \"Slim\",\n\t\t\t\tregular: \"Normal\",\n\t\t\t\tloose: \"Lös\",\n\t\t\t\tvery_loose: \"Mycket lös\",\n\t\t\t\thuge: \"3XL\",\n\t\t\t\ttoo_big: \"För stor\"\n\t\t\t},\n\t\t\tFIT_VERDICT_LONG: {\n\t\t\t\tnot_fitted: \"För kort\",\n\t\t\t\ttoo_small: \"För kort\",\n\t\t\t\tslim: \"Kort\",\n\t\t\t\tregular: \"Normal\",\n\t\t\t\tloose: \"Lång\",\n\t\t\t\tvery_loose: \"Mycket lång\",\n\t\t\t\thuge: \"3XL\",\n\t\t\t\ttoo_big: \"För lång\"\n\t\t\t},\n\t\t\tMEASUREMENT: {\n\t\t\t\tchest: \"Bröst\",\n\t\t\t\twaist: \"Midja\",\n\t\t\t\tsleeve: \"Ärm\",\n\t\t\t\tsleeve_top_width: \"Ärmens övre del\",\n\t\t\t\tsleeve_top_opening: \"Ärmens övre öppning\",\n\t\t\t\twrist_width: \"Handled\",\n\t\t\t\tunderbust: \"Under bröstet\",\n\t\t\t\tneck_opening_width: \"Krage\",\n\t\t\t\tshoulder_width: \"Skuldra\",\n\t\t\t\tfront_height: \"Främre höjd\",\n\t\t\t\tpant_waist: \"Byxans midja\",\n\t\t\t\thips: \"Höfter\",\n\t\t\t\tinseam: \"Innersöm\",\n\t\t\t\toutseam: \"Yttersömm\",\n\t\t\t\tthigh_width: \"Lår\",\n\t\t\t\tknee_width: \"Knä\",\n\t\t\t\tcalf_width: \"Vad\",\n\t\t\t\tpant_sleeve_width: \"Ben öppning\",\n\t\t\t\tshoe_inside_length: \"Sko längd\",\n\t\t\t\tshoe_inside_width: \"Sko bredd\",\n\t\t\t\that_width: \"Hatt omkrets\",\n\t\t\t\thood_height: \"Huvans höjd\",\n\t\t\t\them: \"Fåll\",\n\t\t\t\tsleeve_opening: \"Ärm öppning\"\n\t\t\t},\n\t\t\tCOMMON: {\n\t\t\t\tshopping_for: \"Shoppa för\",\n\t\t\t\tselected_size: \"Vald storlek\",\n\t\t\t\tis: \"är\",     // verb \n\t\t\t\tadd_to_profile: \"Lägg till profilen\", \n\t\t\t\tsize: \"Storlek\",\n\t\t\t\tfetching_profiles: \"Hämta profiler...\",\n\t\t\t\tclose_text: \"Stäng\",\n\t\t\t\tgo_to: \"Gå till\",\n\t\t\t\tmy_profiles: \"Mina Profiler\",\n\t\t\t\tand_create_one: \"och skapa en.\"\t\t\t\t// as in: go to my profiles and create one\n\t\t\t},\n\t\t\tMESSAGE: {\n\t\t\t\tadd_profiles: \"Lägg profiler till ditt konto för storleks rekommendation.\",\n\t\t\t\tmissing_measurements: \"Lägg flera mått till din profil för ökad noggrannhet\",\n\t\t\t\tno_measurements: \"Lägg mått till din profil för en storleks rekommendation.\",\n\t\t\t\tadd_this_measurement: \"Lägg detta mått till din profil för att inkludera det i lämplighets kalkylen.\",\n\t\t\t\tno_profiles: \"Du har ingen profil på ditt konto.\",\n\t\t\t\tno_top_button: \"Översta knappen skjorta kan inte stängas i denna storlek.\"\t\t\t\t\n\t\t\t},\n\t\t\tDETAILED: {\n\t\t\t\twindow_title: \"Detaljerad Bild för\", \n\t\t\t\tbutton_text: \"Detaljerad Bild\",\n\t\t\t\ttable_title: \"Detaljerade lämpliga delar\"\n\t\t\t},\n\t\t\tSIZE_GUIDE: {\n\t\t\t\twindow_title: \"Storleks Guide för\", \n\t\t\t\tbutton_text: \"Storleks guide\", \n\t\t\t\ttable_title: \"Aktuella artikel mått\",\n\t\t\t\tmeasurement_disclaimer: \"Dessa mått är uppmätta <u>på jämnt underlag på artikelns utsida</u>.\",\n\t\t\t\tmeasurement_disclaimer_collar: \"Med undantag av kragmåttet, som är uppmätt på kragens insida.\",\n\t\t\t\tmeasurement_disclaimer_inside: \"Dessa mått är uppmätta <u>på insidan av artikeln</u>.\",\n\t\t\t\tadvertisement: \"Denna storleksguide har gjorts för dig av\"\n\t\t\t},\n\t\t\tFIT_INFO: {\n\t\t\t\twhen_pinched: \" när utdragen\",\n\t\t\t\tstretched_little: \"Artikeln är töjd litet.\",\n\t\t\t\tstretched_somewhat: \"Artikeln är töjd.\",\n\t\t\t\tstretched_much: \"Artikeln är töjd mycket.\",\n\t\t\t\tstretched_max: \"Artikeln är töjd till maximum.\",\n\t\t\t\tthe_item: \"Artikelns\",\n\t\t\t\tthe_measurement: \"Mått\",\n\t\t\t\tno_overlap: \"är direkt mot dig.\",\t\t\t\t\n\t\t\t\tis_smaller: \"är <u>mindre</u> än ditt passande mått\",\n\t\t\t\toverlaps_you: \"är större än dig\",\n\t\t\t\tarm_sleeve_straight: \"när din arm och artikelns ärm är <u<helt raka</u>\", \n\t\t\t\tsm_considers_fit: \"SizeMe anser det speciellt lagom\",\n\t\t\t\toverall_fit: \"Överallt lagom\", \n\t\t\t\toverall_fit_for_size: \"Överallt lagom av <b>storlek\",\n\t\t\t},\n\t\t\tSPLASH: {\n\t\t\t\tdetailed_text: \"Tag några <b>mått av dig själv</b> och få personlig info hur denna artikel skulle <b>passa dig</b>.<br />Gör en gratis <b>SizeMe</b> profil och sluta gissa!\",\n\t\t\t\tbtn_sign_up_title: \"Signera\", \n\t\t\t\tbtn_sign_up_label: \"Ja, jag vill skapa ett gratis konto\",\n\t\t\t\tbtn_log_in_title: \"Logga in\", \n\t\t\t\tbtn_log_in_label: \"Jag har redan ett konto\",\n\t\t\t\tbtn_no_thanks_title: \"Nej tack\", \n\t\t\t\tbtn_no_thanks_label: \"Kanske senare\",\n\t\t\t\tproduct_page_splashes: [\"Osäker om den rätta storleken? Pröva\"],\n\t\t\t\tproduct_page_splash_title: \"SizeMe är en gratis service för att hjälpa dig hur denna artikel passar dig\"\n\t\t\t}\n\t\t}\n\t);\n\n})();\n// SizeMe UI JS v1.0\n// based on SizeMe Item Types 2015-10-01\n// (c) SizeMe Inc.\n// www.sizeme.com\n// License undecided\n/* jshint browser:true, jquery:true */\n/* globals sizeme_options: false, Opentip: false, SizeMe: false */\n\n(function (window, undefined) {\n\n    SizeMe.UI = function ($) {\n\n        var sizemeProduct;\n        var i18n = {};\n        var uiOptions = SizeMe.UI.options;\n\n        var FIT_RANGES = {\n            1: {label: \"too_small\", arrowColor: \"#999999\"},\n            940: {label: \"too_small\", arrowColor: \"#BB5555\"},\n            1000: {label: \"slim\", arrowColor: \"#457A4C\"},\n            1055: {label: \"regular\", arrowColor: \"#42AE49\"},\n            1110: {label: \"loose\", arrowColor: \"#87B98E\"},\n            1165: {label: \"too_big\", arrowColor: \"#BB5555\"},\n            1225: {label: \"too_big\", arrowColor: \"#BB5555\"}\n        };\n\n        var FIT_RANGES_LESS_IMPORTANCE = {\n            1: {label: \"too_small\", arrowColor: \"#999999\"},\n            940: {label: \"too_small\", arrowColor: \"#BB5555\"},\n            1000: {label: \"slim\", arrowColor: \"#457A4C\"},\n            1055: {label: \"regular\", arrowColor: \"#42AE49\"},\n            1110: {label: \"loose\", arrowColor: \"#87B98E\"}\n        };\n\n        var sliderPosXMin = 940;\n        var sliderPosXMax = 1225;\n        var sliderScale = 100 / (sliderPosXMax - sliderPosXMin);\n\n        var FIT_ORDER = [\n            \"chest\",\n            \"waist\",\n            \"underbust\",\n            \"pant_waist\",\n            \"hips\",\n            \"inseam\",\n            \"outseam\",\n            \"thigh_width\",\n            \"knee_width\",\n            \"calf_width\",\n            \"pant_sleeve_width\",\n            \"neck_opening_width\",\n            \"shoulder_width\",\n            \"sleeve_top_width\",\n            \"sleeve_top_opening\",\n            \"sleeve\",\n            \"wrist_width\",\n            \"front_height\",\n            \"shoe_inside_length\",\n            \"shoe_inside_width\",\n            \"hat_width\",\n            \"hood_height\"\n        ];\n\n        var PINCHED_FITS = [\n            \"chest\",\n            \"waist\",\n            \"underbust\",\n            \"pant_waist\",\n            \"hips\",\n            \"thigh_width\",\n            \"knee_width\",\n            \"calf_width\",\n            \"pant_sleeve_width\",\n            \"neck_opening_width\",\n            \"sleeve_top_width\",\n            \"sleeve_top_opening\",\n            \"wrist_width\",\n            \"hat_width\"\n        ];\n\n        var LONG_FITS = [\n            \"inseam\",\n            \"outseam\",\n            \"sleeve\",\n            \"front_height\",\n            \"shoe_inside_length\"\n        ];\n\n        var OPTIMAL_FIT = 1070;\n\n        var realCanvasWidth = 350;\n        var realCanvasHeight = 480;\n        var padding = 0.07;\n\n        var drawColor = '#777777';\n        var fillColor = '#BBBBBB';\n        var arrowColor;\n        var arrowColorGreen = '#42AE49';\n        var arrowColorBlack = '#000000';\n        var arrowColorInfo = '#666666';\n\n        var itemLineWidth = 1;\n        var arrowLineWidth = 2;\n        var arrowEndRadius = 4;\n        var arrowNumberRadius = 10;\n        var arrowNumberFont = \"10px sans-serif\";\n        var arrowNumberHighlightFont = \"bold 14px sans-serif\";\n        var arrowLift = 30;\n        var arcRadius = 10;\n\n        var fadeLength = 400;\n\n        var item_drawing = {};\n        var measurement_arrows = {};\n\n        var sizeKeys = [];\n\n        var recommendedId;\n        var recommendedLabel = \"none\";\n\n        var selectedProfile;\n        var linkToSelectedProfile;\n\n        var accuracyThreshold = 0.01;\n\n        var cookieLifetime = 90;\n\n        var itemName = \"\";\n\n        var sizeme_local_options = {\n            fitAreaSlider: true,\n            writeMessages: true,\n            writeOverlaps: true\n        };\n\n        // Cookie functions\n        function createCookie(name, value, days) {\n            var expires;\n            if (days) {\n                var date = new Date();\n                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n                expires = \"; expires=\" + date.toGMTString();\n            }\n            else {\n                expires = \"\";\n            }\n            document.cookie = name + \"=\" + value + expires + \"; path=/\";\n        }\n\n        function readCookie(name) {\n            var ca = document.cookie.split(';'), c;\n            for (var i = 0; i < ca.length; i++) {\n                c = ca[i].trim().split('=');\n                if (c[0] === name) {\n                    return c[1];\n                }\n            }\n            return null;\n        }\n\n        function eraseCookie(name) {\n            createCookie(name, \"\", -1);\n        }\n\n        function sizeText(txt) {\n            var retStr = txt;\n            retStr = retStr.split(\" -\")[0];\n            retStr = retStr.split(\" +\")[0];\n            return retStr;\n        }\n\n        function getFit(fitValue, importance) {\n            var returnFit, singleFit;\n            var ranges;\n            ranges = FIT_RANGES_LESS_IMPORTANCE;\n            if (importance == 1) ranges = FIT_RANGES;\n            for (singleFit in ranges) {\n                if (ranges.hasOwnProperty(singleFit)) {\n                    if (fitValue < singleFit) {\n                        if (returnFit) {\n                            return returnFit;\n                        }\n                        return ranges[singleFit];\n                    }\n                    returnFit = ranges[singleFit];\n                }\n            }\n            return returnFit;\n        }\n\n        function addIds(selectElement) {\n            // add ids to select for easy handling\n            $(selectElement + \" option\").each(function () {\n                var myVal = $(this).val();\n                var myText = $(this).text();\n                $(this).addClass(\"sm-selectable element_for_\" + myVal);\n                this.id = (myVal ? \"input_\" + myVal : \"choose\");\n                if (myVal) {\n                    if (sizemeProduct.item.measurements[myVal]) {\n                        sizeKeys.push({key: myVal, sizeLabel: myText});\n                    }\n                }\n            });\n            // add class for clarity\n            $(selectElement).addClass(\"sizeme-size-selector\");\n        }\n\n        function getItemTypeArr() {\n            var itemTypeStr = sizemeProduct.item.itemType.toString();\n            var itemTypeArr = [0, 0, 0, 0, 0, 0, 0];\n            var separator = '';\n            if (itemTypeStr.indexOf('.') > -1) separator = '.';\n            var itemTypeSplitted = itemTypeStr.split(separator, 7);\n            for (var i = 0; i < itemTypeSplitted.length; i++) itemTypeArr[i] = +itemTypeSplitted[i];\n            return itemTypeArr;\n        }\n\n        function isInside() {\n            var itemTypeArr = getItemTypeArr();\n            return ( (itemTypeArr[0] === 3) || (itemTypeArr[0] === 4) );\n        }\n\n        function loadArrows(isSizeGuide) {\n            var $i, $x;\n            var itemTypeArr = getItemTypeArr();\n\n            // arrows first\n            arrowColor = arrowColorGreen;\n            var arcStyle = \"arc\";\n\n            if (isSizeGuide) {\n                arrowColor = arrowColorBlack;\n                arcStyle = \"line\"; // size guide shows flat measurements (except neck opening)\n            }\n\n            measurement_arrows.chest = {\n                mirror: false,\n                coords: [{X: -250, Y: 399}, {X: 250, Y: 399}],\n                style: arcStyle,\n                lift: false,\n                color: arrowColor\n            };\n            measurement_arrows.waist = {\n                mirror: false,\n                coords: [{X: -250, Y: 635}, {X: 250, Y: 635}],\n                style: arcStyle,\n                lift: false,\n                color: arrowColor\n            };\n            measurement_arrows.front_height = {\n                mirror: false,\n                coords: [{X: -174, Y: 0}, {X: -174, Y: 978}],\n                style: \"line\",\n                lift: false,\n                color: arrowColor\n            };\n            measurement_arrows.neck_opening_width = {\n                mirror: false,\n                coords: [{X: 0, Y: 47}, {X: 174, Y: 0, cp1X: 65, cp1Y: 45, cp2X: 140, cp2Y: 23}, {\n                    X: 0,\n                    Y: 100,\n                    cp1X: 150,\n                    cp1Y: 46,\n                    cp2X: 50,\n                    cp2Y: 92\n                },\n                    {X: -174, Y: 0, cp1X: -50, cp1Y: 92, cp2X: -150, cp2Y: 46}, {\n                        X: 0,\n                        Y: 47,\n                        cp1X: -140,\n                        cp1Y: 23,\n                        cp2X: -65,\n                        cp2Y: 45\n                    }],\n                style: \"line\",\n                lift: true,\n                color: arrowColor\n            };\n\n            measurement_arrows.hood_height = {\n                mirror: false,\n                coords: [{X: 195, Y: -5}, {X: 195, Y: -390}],\n                style: \"line\",\n                lift: false,\n                color: arrowColor\n            };\n            measurement_arrows.shoulder_width = {\n                mirror: false,\n                coords: [{X: -329, Y: 42}, {X: -164, Y: -7}],\n                style: \"line\",\n                lift: true,\n                color: arrowColor\n            };\n\n            measurement_arrows.pant_waist = {\n                mirror: false,\n                coords: [{X: -232, Y: 0}, {X: 222, Y: 0}],\n                style: arcStyle,\n                lift: true,\n                color: arrowColor\n            };\n            measurement_arrows.hips = {\n                mirror: false,\n                coords: [{X: -261, Y: 171}, {X: 263, Y: 171}],\n                style: arcStyle,\n                lift: false,\n                color: arrowColor\n            };\n            measurement_arrows.outseam = {\n                mirror: false,\n                coords: [{X: 222, Y: 0}, {X: 263, Y: 171}, {X: 302, Y: 1071}],\n                style: \"line\",\n                lift: true,\n                color: arrowColor\n            };\n            measurement_arrows.inseam = {\n                mirror: false,\n                coords: [{X: 5, Y: 297}, {X: 151, Y: 1084}],\n                style: \"line\",\n                lift: false,\n                color: arrowColor\n            };\n            measurement_arrows.thigh_width = {\n                mirror: false,\n                coords: [{X: -266, Y: 274}, {X: -17, Y: 297}],\n                style: arcStyle,\n                lift: false,\n                color: arrowColor\n            };\n            measurement_arrows.knee_width = {\n                mirror: false,\n                coords: [{X: -286, Y: 727}, {X: -93, Y: 744}],\n                style: arcStyle,\n                lift: false,\n                color: arrowColor\n            };\n            measurement_arrows.pant_sleeve_width = {\n                mirror: false,\n                coords: [{X: -301, Y: 1071}, {X: -152, Y: 1084}],\n                style: arcStyle,\n                lift: false,\n                color: arrowColor\n            };\n\n            measurement_arrows.shoe_inside_length = {\n                mirror: false,\n                coords: [{X: 169, Y: 984}, {X: 132, Y: 18}],\n                style: \"line\",\n                lift: false,\n                color: arrowColor\n            };\n\n            measurement_arrows.hat_width = {\n                mirror: false,\n                coords: [{X: 534, Y: 238},\n                    {X: 539, Y: 265, cp1X: 559, cp1Y: 236, cp2X: 567, cp2Y: 252},\n                    {X: 70, Y: 262, cp1X: 352, cp1Y: 353, cp2X: 223, cp2Y: 351},\n                    {X: 77, Y: 242, cp1X: 38, cp1Y: 241, cp2X: 60, cp2Y: 234}],\n                midCircle: {X: 300, Y: 325},\n                style: \"line\",\n                lift: false,\n                color: arrowColor\n            };\n\n            item_drawing.mirror = true;\n            item_drawing.coords = [];\n            item_drawing.accents = [];\n            // load item drawing\n            switch (itemTypeArr[0]) {\n\n                case 1:\t// shirts/coats\n                    i18n.MEASUREMENT.hips = i18n.MEASUREMENT.hem;\n                    i18n.MEASUREMENT.pant_waist = i18n.MEASUREMENT.hem;\n\n                    switch (itemTypeArr[1]) { // collar\n                        case 2:\t// tight (turnover)\n                            item_drawing.coords.push({X: 0, Y: -60}, {\n                                X: 119,\n                                Y: -48,\n                                cp1X: 68,\n                                cp1Y: -60,\n                                cp2X: 106,\n                                cp2Y: -57\n                            }, {X: 128, Y: 0});\n                            item_drawing.accents.push({\n                                type: \"area\", coords: [{X: 0, Y: -47},\n                                    {X: 100, Y: -35, cp1X: 64, cp1Y: -48, cp2X: 105, cp2Y: -47},\n                                    {X: -5, Y: 59, cp1X: 66, cp1Y: 8, cp2X: 6, cp2Y: 40},\n                                    {X: -104, Y: -34, cp1X: -25, cp1Y: 32, cp2X: -93, cp2Y: -12},\n                                    {X: 0, Y: -46, cp1X: -117, cp1Y: -48, cp2X: -52, cp2Y: -48}\n                                ], noMirror: true\n                            });\n                            item_drawing.accents.push({\n                                type: \"line\", coords: [{X: 129, Y: 0},\n                                    {X: 136, Y: 26, cp1X: 132, cp1Y: 14, cp2X: 133, cp2Y: 18},\n                                    {X: 78, Y: 125, cp1X: 123, cp1Y: 63, cp2X: 100, cp2Y: 95},\n                                    {X: 37, Y: 78, cp1X: 60, cp1Y: 106, cp2X: 51, cp2Y: 101},\n                                    {X: -12, Y: 111, cp1X: 24, cp1Y: 8, cp2X: -32, cp2Y: 66}\n                                ], noMirror: true\n                            });\t// non mirrored turnover collar right\n                            item_drawing.accents.push({\n                                type: \"line\", coords: [{X: -129, Y: 0},\n                                    {X: -136, Y: 26, cp1X: -132, cp1Y: 14, cp2X: -133, cp2Y: 18},\n                                    {X: -90, Y: 127, cp1X: -127, cp1Y: 68, cp2X: -106, cp2Y: 110},\n                                    {X: -9, Y: 59, cp1X: -33, cp1Y: 88, cp2X: -61, cp2Y: 25}\n                                ], noMirror: true\n                            });\t// non mirrored turnover collar left\n                            item_drawing.accents.push({type: \"circle\", coords: [{X: 0, Y: 100, R: 5}]});\n                            measurement_arrows.neck_opening_width = {\n                                mirror: false,\n                                coords: [{X: 0, Y: -47}, {X: 100, Y: -35, cp1X: 64, cp1Y: -48, cp2X: 105, cp2Y: -47},\n                                    {X: -5, Y: 59, cp1X: 66, cp1Y: 8, cp2X: 6, cp2Y: 40}, {\n                                        X: -104,\n                                        Y: -34,\n                                        cp1X: -25,\n                                        cp1Y: 32,\n                                        cp2X: -93,\n                                        cp2Y: -12\n                                    },\n                                    {X: 0, Y: -46, cp1X: -117, cp1Y: -48, cp2X: -52, cp2Y: -48}],\n                                style: \"line\",\n                                lift: false,\n                                midCircle: {X: 0, Y: -47},\n                                color: arrowColor\n                            };\n                            measurement_arrows.shoulder_width = {\n                                mirror: false,\n                                coords: [{X: -329, Y: 49}, {X: -129, Y: -5}],\n                                style: \"line\",\n                                lift: true,\n                                color: arrowColor\n                            };\n                            measurement_arrows.front_height = {\n                                mirror: false,\n                                coords: [{X: -167, Y: -4}, {X: -167, Y: 978}],\n                                style: \"line\",\n                                lift: false,\n                                color: arrowColor\n                            };\n\n                            break;\n                        case 3:\t// hood\n                            item_drawing.coords.push({X: 0, Y: -390}, {\n                                X: 185,\n                                Y: 6,\n                                cp1X: 180,\n                                cp1Y: -400,\n                                cp2X: 160,\n                                cp2Y: -20\n                            });\n                            item_drawing.accents.push({\n                                type: \"line\",\n                                coords: [{X: 185, Y: 6}, {X: 0, Y: 123, cp1X: 140, cp1Y: 70, cp2X: 70, cp2Y: 100}]\n                            });\t// basic round collar line\n                            item_drawing.accents.push({\n                                type: \"area\",\n                                coords: [{X: 0, Y: -320}, {\n                                    X: 144,\n                                    Y: 0,\n                                    cp1X: 150,\n                                    cp1Y: -320,\n                                    cp2X: 140,\n                                    cp2Y: -20\n                                }, {X: 0, Y: 100, cp1X: 140, cp1Y: 46, cp2X: 40, cp2Y: 92}]\n                            }); // hood area\n                            measurement_arrows.shoulder_width = {\n                                mirror: false,\n                                coords: [{X: -329, Y: 42}, {X: -174, Y: -7}],\n                                style: \"line\",\n                                lift: true,\n                                color: arrowColor\n                            };\n                            break;\n                        case 5:\t// open high round\n                            item_drawing.coords.push({X: 0, Y: 90}, {X: 189, Y: 0});\n                            item_drawing.accents.push({\n                                type: \"line\",\n                                coords: [{X: 210, Y: 6}, {X: 0, Y: 123, cp1X: 165, cp1Y: 70, cp2X: 100, cp2Y: 123}]\n                            });\t// open round collar line\n                            item_drawing.accents.push({\n                                type: \"area\",\n                                coords: [{X: 0, Y: 49}, {X: 189, Y: 0, cp1X: 100, cp1Y: 47, cp2X: 155, cp2Y: 23}, {\n                                    X: 0,\n                                    Y: 102,\n                                    cp1X: 165,\n                                    cp1Y: 46,\n                                    cp2X: 95,\n                                    cp2Y: 102\n                                }]\n                            }); // open collar area\n                            break;\n                        case 6:\t// open low round\n                            item_drawing.coords.push({X: 0, Y: 180}, {X: 164, Y: 0});\n                            item_drawing.accents.push({\n                                type: \"line\",\n                                coords: [{X: 181, Y: 5}, {X: 0, Y: 196, cp1X: 146, cp1Y: 196, cp2X: 50, cp2Y: 196}]\n                            });\t// collar line\n                            item_drawing.accents.push({\n                                type: \"area\",\n                                coords: [{X: 0, Y: 47}, {X: 164, Y: 0, cp1X: 55, cp1Y: 45, cp2X: 130, cp2Y: 23}, {\n                                    X: 0,\n                                    Y: 180,\n                                    cp1X: 130,\n                                    cp1Y: 180,\n                                    cp2X: 45,\n                                    cp2Y: 180\n                                }]\n                            }); // basic area\n                            break;\n                        case 7:\t// v-style high\n                            item_drawing.coords.push({X: 0, Y: 90}, {X: 189, Y: 0});\n                            item_drawing.accents.push({\n                                type: \"line\",\n                                coords: [{X: 210, Y: 6}, {X: 0, Y: 123, cp1X: 165, cp1Y: 70, cp2X: 80, cp2Y: 100}]\n                            });\t// open round collar line\n                            item_drawing.accents.push({\n                                type: \"area\",\n                                coords: [{X: 0, Y: 47}, {X: 189, Y: 0, cp1X: 80, cp1Y: 45, cp2X: 155, cp2Y: 23}, {\n                                    X: 0,\n                                    Y: 100,\n                                    cp1X: 165,\n                                    cp1Y: 46,\n                                    cp2X: 65,\n                                    cp2Y: 92\n                                }]\n                            }); // open collar area\n                            break;\n                        case 8:\t// v-style low\n                            item_drawing.coords.push({X: 0, Y: 90}, {X: 189, Y: 0});\n                            item_drawing.accents.push({\n                                type: \"line\",\n                                coords: [{X: 210, Y: 6}, {X: 0, Y: 123, cp1X: 165, cp1Y: 70, cp2X: 80, cp2Y: 100}]\n                            });\t// open round collar line\n                            item_drawing.accents.push({\n                                type: \"area\",\n                                coords: [{X: 0, Y: 47}, {X: 189, Y: 0, cp1X: 80, cp1Y: 45, cp2X: 155, cp2Y: 23}, {\n                                    X: 0,\n                                    Y: 100,\n                                    cp1X: 165,\n                                    cp1Y: 46,\n                                    cp2X: 65,\n                                    cp2Y: 92\n                                }]\n                            }); // open collar area\n                            break;\n                        default:\t// elastic round\n                            item_drawing.coords.push({X: 0, Y: 90}, {X: 164, Y: 0});\n                            item_drawing.accents.push({\n                                type: \"line\",\n                                coords: [{X: 185, Y: 6}, {X: 0, Y: 110, cp1X: 140, cp1Y: 70, cp2X: 70, cp2Y: 108}]\n                            });\t// basic round collar line\n                            item_drawing.accents.push({\n                                type: \"area\",\n                                coords: [{X: 0, Y: 47}, {X: 164, Y: 0, cp1X: 55, cp1Y: 45, cp2X: 130, cp2Y: 23}, {\n                                    X: 0,\n                                    Y: 90,\n                                    cp1X: 140,\n                                    cp1Y: 46,\n                                    cp2X: 55,\n                                    cp2Y: 90\n                                }]\n                            }); // basic area\n                            break;\n                    }\n\n                    switch (itemTypeArr[3]) { // sleeve length\n                        case 0:\t// tank top, string top or poncho\n                        case 1:\t// very short (vest)\n                            item_drawing.coords.push({X: 289, Y: 34});\n                            item_drawing.coords.push({X: 250, Y: 399, cp1X: 285, cp1Y: 44, cp2X: 220, cp2Y: 389});\n                            measurement_arrows.shoulder_width = {\n                                mirror: false,\n                                coords: [{X: -299, Y: 32}, {X: -164, Y: -7}],\n                                style: \"line\",\n                                lift: true,\n                                color: arrowColor\n                            };\n                            measurement_arrows.sleeve_top_width = {\n                                mirror: false,\n                                coords: [{X: 250, Y: 399}, {X: 289, Y: 34}],\n                                style: arcStyle,\n                                lift: false,\n                                color: arrowColor\n                            };\n\n                            if (itemTypeArr[4] !== 0) {\n                                // is it you, poncho?\n                                item_drawing.coords.push({X: 250, Y: 399, cp1X: 328, cp1Y: 44, cp2X: 250, cp2Y: 260});\n                                FIT_ORDER.splice(13, 1);  // remove sleeve top\n                                measurement_arrows.sleeve_top_width = false;\n                            }\n                            break;\n                        case 2:  // short\n                        case 3:  // short-medium (normal t-shirt)\n                            item_drawing.coords.push({X: 329, Y: 44});\n                            item_drawing.coords.push({X: 482, Y: 460}, {X: 324, Y: 529});\n                            item_drawing.coords.push({X: 250, Y: 399});\n\n                            measurement_arrows.sleeve_top_width = {\n                                mirror: false,\n                                coords: [{X: 250, Y: 399}, {X: 430, Y: 322}],\n                                style: arcStyle,\n                                lift: false,\n                                color: arrowColor\n                            };\n                            measurement_arrows.wrist_width = {\n                                mirror: false,\n                                coords: [{X: 324, Y: 529}, {X: 482, Y: 460}],\n                                style: arcStyle,\n                                lift: false,\n                                color: arrowColor\n                            };\n\n                            i18n.MEASUREMENT.wrist_width = i18n.MEASUREMENT.sleeve_opening;\n\n                            switch (itemTypeArr[2]) { // shoulder types\n                                case 3:\t// dropped\n                                    item_drawing.accents.push({\n                                        type: \"line\",\n                                        coords: [{X: 250, Y: 399}, {X: 381, Y: 184}]\n                                    });\n                                    measurement_arrows.sleeve = {\n                                        mirror: false,\n                                        coords: [{X: 174, Y: -16}, {X: 329, Y: 27}, {X: 482, Y: 460}],\n                                        style: \"line\",\n                                        lift: true,\n                                        midCircle: {X: 406, Y: 243},\n                                        color: arrowColor\n                                    };\n                                    break;\n                                case 2:\t// raglan line\n                                    item_drawing.accents.push({\n                                        type: \"line\",\n                                        coords: [{X: 250, Y: 399}, {\n                                            X: 185,\n                                            Y: 6,\n                                            cp1X: 220,\n                                            cp1Y: 320,\n                                            cp2X: 185,\n                                            cp2Y: 6\n                                        }]\n                                    });\n                                    measurement_arrows.sleeve = {\n                                        mirror: false,\n                                        coords: [{X: 174, Y: -16}, {X: 329, Y: 27}, {X: 482, Y: 460}],\n                                        style: \"line\",\n                                        lift: true,\n                                        midCircle: {X: 406, Y: 243},\n                                        color: arrowColor\n                                    };\n                                    break;\n                                case 1:\t// normal shoulder line\n                                    measurement_arrows.sleeve = {\n                                        mirror: false,\n                                        coords: [{X: 329, Y: 44}, {X: 482, Y: 460}],\n                                        style: \"line\",\n                                        lift: true,\n                                        color: arrowColor\n                                    };\n                                    item_drawing.accents.push({\n                                        type: \"line\",\n                                        coords: [{X: 250, Y: 399}, {\n                                            X: 329,\n                                            Y: 44,\n                                            cp1X: 250,\n                                            cp1Y: 250,\n                                            cp2X: 300,\n                                            cp2Y: 70\n                                        }]\n                                    });\n                                    break;\n                            }\n                            break;\n                        case 4:  // medium\n                        case 5:  // semi-long\n                            item_drawing.coords.push({X: 329, Y: 44});\n                            item_drawing.coords.push({X: 527, Y: 719}, {X: 389, Y: 769});\n                            item_drawing.coords.push({X: 250, Y: 399});\n\n                            measurement_arrows.sleeve_top_width = {\n                                mirror: false,\n                                coords: [{X: 250, Y: 399}, {X: 419, Y: 340}],\n                                style: arcStyle,\n                                lift: false,\n                                color: arrowColor\n                            };\n                            measurement_arrows.wrist_width = {\n                                mirror: false,\n                                coords: [{X: 389, Y: 769}, {X: 527, Y: 719}],\n                                style: arcStyle,\n                                lift: false,\n                                color: arrowColor\n                            };\n\n                            i18n.MEASUREMENT.wrist_width = i18n.MEASUREMENT.sleeve_opening;\n\n                            switch (itemTypeArr[2]) { // shoulder types\n                                case 3:\t// dropped\n                                    item_drawing.accents.push({\n                                        type: \"line\",\n                                        coords: [{X: 250, Y: 399}, {X: 369, Y: 196}]\n                                    });\n                                    measurement_arrows.sleeve = {\n                                        mirror: false,\n                                        coords: [{X: 174, Y: -16}, {X: 329, Y: 27}, {X: 527, Y: 719}],\n                                        style: \"line\",\n                                        lift: true,\n                                        midCircle: {X: 450, Y: 444},\n                                        color: arrowColor\n                                    };\n                                    break;\n                                case 2:\t// raglan line\n                                    item_drawing.accents.push({\n                                        type: \"line\",\n                                        coords: [{X: 250, Y: 399}, {\n                                            X: 185,\n                                            Y: 6,\n                                            cp1X: 220,\n                                            cp1Y: 320,\n                                            cp2X: 185,\n                                            cp2Y: 6\n                                        }]\n                                    });\n                                    measurement_arrows.sleeve = {\n                                        mirror: false,\n                                        coords: [{X: 174, Y: -16}, {X: 329, Y: 27}, {X: 527, Y: 719}],\n                                        style: \"line\",\n                                        lift: true,\n                                        midCircle: {X: 450, Y: 444},\n                                        color: arrowColor\n                                    };\n                                    break;\n                                case 1:\t// normal shoulder line\n                                    measurement_arrows.sleeve = {\n                                        mirror: false,\n                                        coords: [{X: 329, Y: 44}, {X: 527, Y: 719}],\n                                        style: \"line\",\n                                        lift: true,\n                                        color: arrowColor\n                                    };\n                                    item_drawing.accents.push({\n                                        type: \"line\",\n                                        coords: [{X: 250, Y: 399}, {\n                                            X: 329,\n                                            Y: 44,\n                                            cp1X: 250,\n                                            cp1Y: 250,\n                                            cp2X: 300,\n                                            cp2Y: 70\n                                        }]\n                                    });\n                                    break;\n                            }\n                            break;\n                        case 6:  // long\n                        case 7:  // very long\n                        case 8:  // extra long\n                            item_drawing.coords.push({X: 329, Y: 44});\n                            measurement_arrows.sleeve_top_width = {\n                                mirror: false,\n                                coords: [{X: 250, Y: 399}, {X: 410, Y: 348}],\n                                style: arcStyle,\n                                lift: false,\n                                color: arrowColor\n                            };\n\n                            if (itemTypeArr[4] === 1) {\t// elastic\n                                item_drawing.coords.push({X: 556, Y: 902}, {X: 547, Y: 930}, {X: 557, Y: 978}, {\n                                    X: 463,\n                                    Y: 998\n                                }, {X: 449, Y: 951}, {X: 430, Y: 934});\n                                item_drawing.accents.push({type: \"line\", coords: [{X: 465, Y: 944}, {X: 476, Y: 996}]},\n                                    {type: \"line\", coords: [{X: 476, Y: 941}, {X: 487, Y: 993}]},\n                                    {type: \"line\", coords: [{X: 487, Y: 938}, {X: 498, Y: 990}]},\n                                    {type: \"line\", coords: [{X: 498, Y: 935}, {X: 509, Y: 987}]},\n                                    {type: \"line\", coords: [{X: 509, Y: 932}, {X: 520, Y: 984}]},\n                                    {type: \"line\", coords: [{X: 520, Y: 929}, {X: 531, Y: 981}]},\n                                    {type: \"line\", coords: [{X: 531, Y: 926}, {X: 542, Y: 978}]});\n                                item_drawing.coords.push({X: 250, Y: 399});\n                                measurement_arrows.wrist_width = {\n                                    mirror: false,\n                                    coords: [{X: 430, Y: 934}, {X: 556, Y: 902}],\n                                    style: arcStyle,\n                                    lift: false,\n                                    color: arrowColor\n                                };\n                            } else {\n                                item_drawing.coords.push({X: 571, Y: 978}, {X: 454, Y: 1009});\n                                item_drawing.coords.push({X: 250, Y: 399});\n                                measurement_arrows.wrist_width = {\n                                    mirror: false,\n                                    coords: [{X: 571, Y: 978}, {X: 454, Y: 1009}],\n                                    style: arcStyle,\n                                    lift: false,\n                                    color: arrowColor\n                                };\n                            }\n\n                            switch (itemTypeArr[2]) { // shoulder types\n                                case 3:\t// dropped\n                                    item_drawing.accents.push({\n                                        type: \"line\",\n                                        coords: [{X: 250, Y: 399}, {X: 369, Y: 196}]\n                                    });\n                                    measurement_arrows.sleeve = {\n                                        mirror: false,\n                                        coords: [{X: 174, Y: -16}, {X: 329, Y: 27}, {X: 571, Y: 978}],\n                                        style: \"line\",\n                                        lift: true,\n                                        midCircle: {X: 437, Y: 444},\n                                        color: arrowColor\n                                    };\n                                    break;\n                                case 2:\t// raglan line\n                                    item_drawing.accents.push({\n                                        type: \"line\",\n                                        coords: [{X: 250, Y: 399}, {\n                                            X: 185,\n                                            Y: 6,\n                                            cp1X: 220,\n                                            cp1Y: 320,\n                                            cp2X: 185,\n                                            cp2Y: 6\n                                        }]\n                                    });\n                                    measurement_arrows.sleeve = {\n                                        mirror: false,\n                                        coords: [{X: 174, Y: -16}, {X: 329, Y: 27}, {X: 571, Y: 978}],\n                                        style: \"line\",\n                                        lift: true,\n                                        midCircle: {X: 437, Y: 444},\n                                        color: arrowColor\n                                    };\n                                    break;\n                                case 1:\t// normal shoulder line\n                                    measurement_arrows.sleeve = {\n                                        mirror: false,\n                                        coords: [{X: 329, Y: 44}, {X: 569, Y: 975}],\n                                        style: \"line\",\n                                        lift: true,\n                                        color: arrowColor\n                                    };\n                                    item_drawing.accents.push({\n                                        type: \"line\",\n                                        coords: [{X: 250, Y: 399}, {\n                                            X: 329,\n                                            Y: 44,\n                                            cp1X: 250,\n                                            cp1Y: 250,\n                                            cp2X: 300,\n                                            cp2Y: 70\n                                        }]\n                                    });\n                                    break;\n                            }\n                            break;\n                    }\n\n                    switch (itemTypeArr[5]) { // waistband\n                        case 0:\t// poncho dude\n                            item_drawing.coords.push({X: 550, Y: 750, cp1X: 450, cp1Y: 70, cp2X: 450, cp2Y: 550});\n                            item_drawing.coords.push({X: 0, Y: 1038, cp1X: 450, cp1Y: 800, cp2X: 400, cp2Y: 1038});\n                            measurement_arrows.front_height = {\n                                mirror: false,\n                                coords: [{X: -174, Y: 5}, {X: -174, Y: 1018}],\n                                style: \"line\",\n                                lift: false,\n                                color: arrowColor\n                            };\n                            measurement_arrows.sleeve = {\n                                mirror: false,\n                                coords: [{X: 174, Y: 0}, {X: 394, Y: 59}, {X: 550, Y: 750}],\n                                style: \"line\",\n                                lift: true,\n                                midCircle: {X: 480, Y: 444},\n                                color: arrowColor\n                            };\n                            break;\n                        case 3:\t// pant waist\n                            if (itemTypeArr[6] === 1) {\t// elastic\n                                item_drawing.coords.push({\n                                    X: 250,\n                                    Y: 908,\n                                    cp1X: 247,\n                                    cp1Y: 402,\n                                    cp2X: 247,\n                                    cp2Y: 858\n                                }, {X: 230, Y: 978}, {X: 0, Y: 978});\n                                for ($i = 0; $i < 15; $i++) {\n                                    $x = Math.round(($i + 0.5) * (230 / 15));\n                                    item_drawing.accents.push({\n                                        type: \"line\",\n                                        coords: [{X: $x, Y: 918}, {X: $x, Y: 978}]\n                                    });\n                                }\n                                measurement_arrows.pant_waist = {\n                                    mirror: false,\n                                    coords: [{X: -250, Y: 908}, {X: 250, Y: 908}],\n                                    style: arcStyle,\n                                    lift: false,\n                                    color: arrowColor\n                                };\n                            } else {\n                                item_drawing.coords.push({\n                                    X: 250,\n                                    Y: 978,\n                                    cp1X: 245,\n                                    cp1Y: 402,\n                                    cp2X: 245,\n                                    cp2Y: 928\n                                }, {X: 0, Y: 978});\n                                measurement_arrows.pant_waist = {\n                                    mirror: false,\n                                    coords: [{X: -250, Y: 978}, {X: 250, Y: 978}],\n                                    style: arcStyle,\n                                    lift: false,\n                                    color: arrowColor\n                                };\n                            }\n                            break;\n                        case 4:\t// hips\n                        /* falls through */\n                        case 5:\t// half-way-thigh\n                        /* falls through */\n                        default:\n                            var $base_y = 978;\n                            if (itemTypeArr[5] === 5) {\n                                $base_y = 1038;\n                            }\n                            if (itemTypeArr[6] === 1) {\t// elastic\n                                item_drawing.coords.push({\n                                    X: 250,\n                                    Y: $base_y,\n                                    cp1X: 247,\n                                    cp1Y: 402,\n                                    cp2X: 247,\n                                    cp2Y: 908\n                                }, {X: 230, Y: ($base_y + 60)}, {X: 0, Y: ($base_y + 60)});\n                                for ($i = 0; $i < 15; $i++) {\n                                    $x = Math.round(($i + 0.5) * (230 / 15));\n                                    item_drawing.accents.push({\n                                        type: \"line\",\n                                        coords: [{X: $x, Y: ($base_y + 10)}, {X: $x, Y: ($base_y + 60)}]\n                                    });\n                                }\n                                measurement_arrows.front_height.coords[1].Y = ($base_y + 60);\n                                measurement_arrows.hips = {\n                                    mirror: false,\n                                    coords: [{X: -250, Y: $base_y}, {X: 250, Y: $base_y}],\n                                    style: arcStyle,\n                                    lift: false,\n                                    color: arrowColor\n                                };\n                            } else {\n                                item_drawing.coords.push({\n                                    X: 250,\n                                    Y: ($base_y + 60),\n                                    cp1X: 245,\n                                    cp1Y: 402,\n                                    cp2X: 245,\n                                    cp2Y: $base_y\n                                }, {X: 0, Y: ($base_y + 60)});\n                                measurement_arrows.front_height.coords[1].Y = ($base_y + 60);\n                                measurement_arrows.hips = {\n                                    mirror: false,\n                                    coords: [{X: -250, Y: ($base_y + 60)}, {X: 250, Y: ($base_y + 60)}],\n                                    style: arcStyle,\n                                    lift: false,\n                                    color: arrowColor\n                                };\n                            }\n                            // define just in case\n                            measurement_arrows.pant_waist = {\n                                mirror: false,\n                                coords: [{X: -250, Y: 958}, {X: 250, Y: 958}],\n                                style: arcStyle,\n                                lift: false,\n                                color: arrowColor\n                            };\n                            break;\n                    }\n\n                    break;\t// case 1 shirts/coats\n\n                case 2:\t// trousers/shorts\n                    item_drawing.mirror = false; // for accents mainly\n                    item_drawing.coords.push({X: -232, Y: 0}, {\n                        X: 222,\n                        Y: 0,\n                        cp1X: -100,\n                        cp1Y: 10,\n                        cp2X: 90,\n                        cp2Y: 10\n                    }, {X: 263, Y: 171});\n\n                    switch (itemTypeArr[3]) { // sleeve\n                        case 1:\t// very short\n                        case 2:\t// short\n                        case 3:\t// short-medium\n                            item_drawing.coords.push({X: 278, Y: 449}, {X: 38, Y: 474});\n                            break;\n                        case 4:\t// medium\n                            item_drawing.coords.push({X: 291, Y: 626}, {X: 71, Y: 651});\n                            break;\n                        case 5:  // semi-long\n                        case 6:  // long\n                            item_drawing.coords.push({X: 302, Y: 1071}, {X: 151, Y: 1084});\n                            break;\n                    }\n\n                    item_drawing.coords.push({X: 5, Y: 297}, {X: -17, Y: 297});\n\n                    switch (itemTypeArr[3]) { // sleeve again as not mirror\n                        case 1:\t// very short\n                        case 2:\t// short\n                        case 3:\t// short-medium\n                            item_drawing.coords.push({X: -38, Y: 474}, {X: -278, Y: 449});\n                            measurement_arrows.outseam = {\n                                mirror: false,\n                                coords: [{X: 222, Y: 0}, {X: 263, Y: 171}, {X: 278, Y: 449}],\n                                style: \"line\",\n                                lift: true,\n                                color: arrowColor\n                            };\n                            measurement_arrows.knee_width = {\n                                mirror: false,\n                                coords: [{X: -278, Y: 449}, {X: -38, Y: 474}],\n                                style: arcStyle,\n                                lift: false,\n                                color: arrowColor\n                            };\n                            break;\n                        case 4:\t// medium\n                            item_drawing.coords.push({X: -71, Y: 651}, {X: -291, Y: 626});\n                            measurement_arrows.outseam = {\n                                mirror: false,\n                                coords: [{X: 222, Y: 0}, {X: 263, Y: 171}, {X: 291, Y: 626}],\n                                style: \"line\",\n                                lift: true,\n                                color: arrowColor\n                            };\n                            measurement_arrows.knee_width = {\n                                mirror: false,\n                                coords: [{X: -291, Y: 626}, {X: -71, Y: 651}],\n                                style: arcStyle,\n                                lift: false,\n                                color: arrowColor\n                            };\n                            break;\n                        case 5:  // semi-long\n                        case 6:  // long\n                            item_drawing.coords.push({X: -152, Y: 1084}, {X: -301, Y: 1071});\n                            break;\n                    }\n\n                    item_drawing.coords.push({X: -261, Y: 171});\n                    item_drawing.accents.push({\n                            type: \"area\",\n                            coords: [{X: -232, Y: 0}, {X: 222, Y: 0, cp1X: -100, cp1Y: 10, cp2X: 90, cp2Y: 10}, {\n                                X: -232,\n                                Y: 0,\n                                cp1X: 122,\n                                cp1Y: 40,\n                                cp2X: -132,\n                                cp2Y: 40\n                            }]\n                        },\n                        {\n                            type: \"line\",\n                            coords: [{X: -237, Y: 37}, {X: 229, Y: 37, cp1X: -137, cp1Y: 76, cp2X: 129, cp2Y: 76}]\n                        },\n                        {\n                            type: \"line\",\n                            coords: [{X: -14, Y: 19}, {X: -8, Y: 297, cp1X: 3, cp1Y: 114, cp2X: 0, cp2Y: 215}]\n                        },\n                        {\n                            type: \"line\",\n                            coords: [{X: -4, Y: 254}, {X: 29, Y: 64, cp1X: 34, cp1Y: 242, cp2X: 35, cp2Y: 188}]\n                        },\n                        {\n                            type: \"line\",\n                            coords: [{X: -233, Y: 160}, {X: -147, Y: 81, cp1X: -182, cp1Y: 157, cp2X: -152, cp2Y: 123}]\n                        },\n                        {\n                            type: \"line\",\n                            coords: [{X: 150, Y: 85}, {X: 236, Y: 164, cp1X: 158, cp1Y: 128, cp2X: 195, cp2Y: 160}]\n                        });\n                    if (itemTypeArr[6] === '4') {\t// rope waistband\n                        item_drawing.accents.push({\n                                type: \"line\",\n                                coords: [{X: 9, Y: 49}, {X: 8, Y: 47, cp1X: -24, cp1Y: 168, cp2X: -69, cp2Y: 84}]\n                            },\n                            {\n                                type: \"line\",\n                                coords: [{X: 9, Y: 50}, {X: 8, Y: 49, cp1X: 47, cp1Y: 149, cp2X: 70, cp2Y: 99}]\n                            },\n                            {\n                                type: \"line\",\n                                coords: [{X: 9, Y: 49}, {X: 49, Y: 49, cp1X: 27, cp1Y: 59, cp2X: 36, cp2Y: 54}]\n                            },\n                            {\n                                type: \"line\",\n                                coords: [{X: 9, Y: 49}, {X: 9, Y: 64, cp1X: 11, cp1Y: 54, cp2X: 11, cp2Y: 54}]\n                            });\n                    } else {\n                        item_drawing.accents.push({type: \"circle\", coords: [{X: 9, Y: 48, R: 10}]});\n                    }\n\n                    break; \t// case 2 trousers\n\n                case 3:\t// shoes for my friends\n                    item_drawing.mirror = false;\n                    item_drawing.coords = [{X: 130, Y: 0}, {X: 363, Y: 456, cp1X: 240, cp1Y: 8, cp2X: 345, cp2Y: 214},\n                        {X: 328, Y: 633, cp1X: 358, cp1Y: 532, cp2X: 328, cp2Y: 564}, {\n                            X: 182,\n                            Y: 999,\n                            cp1X: 330,\n                            cp1Y: 732,\n                            cp2X: 327,\n                            cp2Y: 994\n                        },\n                        {X: 48, Y: 628, cp1X: 3, cp1Y: 994, cp2X: 48, cp2Y: 789},\n                        {X: 0, Y: 340, cp1X: 42, cp1Y: 447, cp2X: 0, cp2Y: 444}, {\n                            X: 130,\n                            Y: 0,\n                            cp1X: 0,\n                            cp1Y: 114,\n                            cp2X: 72,\n                            cp2Y: 0\n                        }];\n                    item_drawing.accents = [{\n                        type: \"area\",\n                        coords: [{X: 164, Y: 625}, {\n                            X: 266,\n                            Y: 716,\n                            cp1X: 270,\n                            cp1Y: 632,\n                            cp2X: 276,\n                            cp2Y: 638\n                        }, {X: 168, Y: 990, cp1X: 236, cp1Y: 982, cp2X: 208, cp2Y: 987},\n                            {X: 69, Y: 716, cp1X: 92, cp1Y: 978, cp2X: 83, cp2Y: 852}, {\n                                X: 164,\n                                Y: 625,\n                                cp1X: 64,\n                                cp1Y: 641,\n                                cp2X: 57,\n                                cp2Y: 628\n                            }]\n                    },\n                        {\n                            type: \"line\",\n                            coords: [{X: 103, Y: 431}, {X: 212, Y: 430, cp1X: 112, cp1Y: 404, cp2X: 203, cp2Y: 405}]\n                        },\n                        {\n                            type: \"line\",\n                            coords: [{X: 115, Y: 469}, {X: 200, Y: 469, cp1X: 121, cp1Y: 447, cp2X: 188, cp2Y: 450}]\n                        },\n                        {\n                            type: \"line\",\n                            coords: [{X: 115, Y: 506}, {X: 200, Y: 506, cp1X: 121, cp1Y: 484, cp2X: 188, cp2Y: 484}]\n                        },\n                        {\n                            type: \"line\",\n                            coords: [{X: 115, Y: 555}, {X: 200, Y: 555, cp1X: 121, cp1Y: 533, cp2X: 188, cp2Y: 533}]\n                        },\n                        {\n                            type: \"line\",\n                            coords: [{X: 164, Y: 539}, {\n                                X: 283,\n                                Y: 541,\n                                cp1X: 242,\n                                cp1Y: 523,\n                                cp2X: 279,\n                                cp2Y: 609\n                            }, {X: 164, Y: 539, cp1X: 277, cp1Y: 492, cp2X: 209, cp2Y: 515}]\n                        },\n                        {\n                            type: \"line\",\n                            coords: [{X: 164, Y: 539}, {\n                                X: 45,\n                                Y: 492,\n                                cp1X: 123,\n                                cp1Y: 517,\n                                cp2X: 34,\n                                cp2Y: 532\n                            }, {X: 164, Y: 539, cp1X: 65, cp1Y: 457, cp2X: 129, cp2Y: 509}]\n                        }\n                    ];\n                    break;\t// case 3 shoes\n\n                case 4:\t// hats off\n                    switch (itemTypeArr[1]) {\n                        case 1:\t// bucket\n                            item_drawing.mirror = false;\n                            item_drawing.coords = [{X: 300, Y: 0},\n                                {X: 522, Y: 214, cp1X: 452, cp1Y: 17, cp2X: 458, cp2Y: 61},\n                                {X: 599, Y: 311, cp1X: 594, cp1Y: 245, cp2X: 601, cp2Y: 283},\n                                {X: 293, Y: 437, cp1X: 597, cp1Y: 361, cp2X: 494, cp2Y: 433},\n                                {X: 0, Y: 306, cp1X: 87, cp1Y: 433, cp2X: 2, cp2Y: 355},\n                                {X: 92, Y: 209, cp1X: 1, cp1Y: 258, cp2X: 44, cp2Y: 227},\n                                {X: 300, Y: 0, cp1X: 156, cp1Y: 28, cp2X: 186, cp2Y: 16}];\n                            item_drawing.accents = [\n                                {\n                                    type: \"line\",\n                                    coords: [{X: 222, Y: 48}, {X: 367, Y: 43, cp1X: 269, cp1Y: 29, cp2X: 288, cp2Y: 64}]\n                                },\n                                {\n                                    type: \"line\", coords: [{X: 523, Y: 214}, {X: 544, Y: 280},\n                                    {X: 63, Y: 278, cp1X: 376, cp1Y: 368, cp2X: 209, cp2Y: 373}, {X: 92, Y: 209}]\n                                }];\n                            break;\n                    }\n                    break;\t// case 4 hats\n            }\n        }\n\n        function getSliderHtml() {\n            var sliderHtml = \"\";\n            var basePosX = 0;\n            var cellTitle = \"\";\n            sliderHtml += \"<div class='sizeme_slider'>\";\n            sliderHtml += \"<div class='slider_text slider_text_above'></div>\";\n            sliderHtml += \"<div class='slider_container'>\";\n            sliderHtml += \"<div class='slider_bar'>\";\n            sliderHtml += \"</div>\";\n            if (sizeme_local_options.fitAreaSlider) {\n                sliderHtml += \"<div class='slider_area'></div>\";\n            }\n            sliderHtml += \"<table class='slider_table'><tr>\";\n            for (var singleFit in FIT_RANGES) {\n                if (FIT_RANGES.hasOwnProperty(singleFit)) {\n                    if (singleFit > 1) {\n                        if (basePosX !== 0) {\n                            var perc_width = Math.round((singleFit - basePosX) * sliderScale);\n                            sliderHtml += \"<td class='\" + cellTitle + \"'\";\n                            sliderHtml += \" style='width: \" + perc_width + \"%; min-width: \" + perc_width + \"%;'>\";\n                            sliderHtml += i18n.FIT_VERDICT[cellTitle];\n                            sliderHtml += \"</td>\";\n                        }\n                        basePosX = (+singleFit);\n                        cellTitle = FIT_RANGES[singleFit].label;\n                    }\n                }\n            }\n            sliderHtml += \"</tr></table>\";\n            sliderHtml += \"</div>\";\n            sliderHtml += \"<div class='slider_text slider_text_below'></div>\";\n            sliderHtml += \"<div class='slider_text slider_text_more_below'></div>\";\n            sliderHtml += \"</div>\";\n\n            return sliderHtml;\n        }\n\n        function sliderPos(fitValue, offset) {\n            var returnPos = (Math.min(fitValue, sliderPosXMax) - sliderPosXMin) * sliderScale;\n            returnPos = Math.max(0, returnPos);\n            returnPos += offset;   // with +offset for graphics\n\n            return returnPos;\n        }\n\n        function killExtraSlider() {\n            $(\"#slider_secondary\").remove();\n            return true;\n        }\n\n        function drawExtraSlider(fitValue) {\n            killExtraSlider(); // in case of hang arounds\n            var sliderHtml = \"<div class='slider_bar' id='slider_secondary'></div>\";\n            $(sliderHtml).hide().appendTo(\".sizeme_detailed_view_window .slider_container\").fadeIn(fadeLength);\n            var newWidth = sliderPos(fitValue, 0);\n            $(\"#slider_secondary\").width(newWidth + '%');\n            return true;\n        }\n\n\n        function writeSliderFlag(fitValue, fitLabel, thisSize, thisId) {\n            // first, out with the old\n            var sliderFlagHtml = \"<div class='sliderFlag' id='sm_sf_\" + thisSize + \"'\";\n            sliderFlagHtml += \" style='width: \" + sliderPos(fitValue, 0) + \"%'>\";\n            sliderFlagHtml += \"<a class='flagItself \" + fitLabel + \"' href='#'>\" + thisSize + \"</a>\";\n            sliderFlagHtml += \"</div>\";\n            $(\".slider_container\").append(sliderFlagHtml);\n            $(\".sm_sf_\" + thisSize).hover(function () {\n                $(this).toggleClass(\"activeFlag\");\n            }).click(function () {\n                $(thisId).prop(\"checked\", true);\n                moveSlider(fitValue, true);\n                return false;\n            });\n        }\n\n        function moveSlider(fitValue, shouldAnimate) {\n            var newWidth = sliderPos(fitValue, 0) + '%';\n            if (shouldAnimate) {\n                $('.slider_bar').stop().animate({width: newWidth});\n            } else {\n                $('.slider_bar').width(newWidth);\n            }\n        }\n\n        function moveAreaSlider(fitValue, matchMap, shouldAnimate) {\n            var smallestFit = 9999;\n            var biggestFit = 0;\n            var endX, startX, newWidth, newMarginLeft;\n            for (var measurement in matchMap) {\n                if (matchMap.hasOwnProperty(measurement)) {\n                    if (isImportant(matchMap[measurement].importance, matchMap[measurement].componentFit)) {\n                        if (matchMap[measurement].componentFit > 0 && matchMap[measurement].componentFit < smallestFit) {\n                            smallestFit = matchMap[measurement].componentFit;\n                        }\n                        if (matchMap[measurement].componentFit > 0 && matchMap[measurement].componentFit > biggestFit) {\n                            biggestFit = matchMap[measurement].componentFit;\n                        }\n                    }\n                }\n            }\n\n            if (fitValue > smallestFit) {\n                endX = sliderPos(fitValue, 0);\n                startX = sliderPos(smallestFit, 0);\n                newWidth = (endX - startX);\n                newMarginLeft = startX;\n            } else {\n                endX = sliderPos(biggestFit, 0);\n                startX = sliderPos(fitValue, 0);\n                newWidth = (endX - startX);\n                newMarginLeft = startX;\n            }\n\n            if (shouldAnimate) {\n                $('.slider_area').stop().animate({width: newWidth + '%', marginLeft: newMarginLeft + '%'});\n            } else {\n                $('.slider_area').width(newWidth + '%').css('marginLeft', newMarginLeft + '%');\n            }\n        }\n\n        function goWriteMessages(matchMap, missingMeasurements, accuracy, totalFit) {\n            var $message = \"\";\n            var $message_type = \"\";\n            var $message_link = \"\";\n\n            $(\".sizeme_slider .slider_text_more_below\").empty();\n\n            if (!selectedProfile) {\n                $message_type = \"noMeasurements\";\n                $message_link = linkToSelectedProfile;\n                $message = i18n.MESSAGE.add_profiles;\n            } else {\n                if (missingMeasurements[0]) {\n                    if (missingMeasurements[0].length > 0) {\n                        $message_type = \"missingMeasurements\";\n                        $message_link = linkToSelectedProfile;\n                        $message = i18n.MESSAGE.missing_measurements;\n                    }\n                }\n\n                if (accuracy < accuracyThreshold) {\n                    $message_type = \"noMeasurements\";\n                    $message_link = linkToSelectedProfile;\n                    $message = i18n.MESSAGE.no_measurements;\n                }\n\n                if ((!$message_type) && (typeof matchMap.neck_opening_width !== \"undefined\")) {\n                    if ((totalFit >= 1000) && (matchMap.neck_opening_width.overlap < 0)) {\n                        $message_type = \"info\";\n                        $message = i18n.MESSAGE.no_top_button;\n                    }\n                }\n            }\n\n            if ($message_type) {\n                if ($message_link) {\n                    $('<a></a>')\n                        .addClass(\"message_container \" + $message_type)\n                        .text($message)\n                        .attr(\"href\", linkToSelectedProfile)\n                        .attr(\"target\", \"_blank\")\n                        .appendTo(\".sizeme_slider .slider_text_more_below\");\n                } else {\n                    $('<div></div>')\n                        .addClass(\"message_container \" + $message_type)\n                        .text($message)\n                        .appendTo(\".sizeme_slider .slider_text_more_below\");\n                }\n            }\n        }\n\n        function selectToButtons(element) {\n            $(element).hide();\n            var numClass = \"num_\" + $(element + \" option\").length;\n            var $content = $(document.createElement(\"div\")).addClass(\"sm-buttonset \" + numClass);\n            $(element + \" option\").each(function () {\n                var thisId = this.id;\n                var thisLabel = sizeText($(this).text());\n                var thisClass = $(this).attr(\"class\");\n                var thisVal = $(this).val();\n                var $div = $('<div>')\n                    .addClass('sm-button ' + thisClass)\n                    .attr(\"id\", \"button_\" + thisId)\n                    .text(thisLabel)\n                    .on(\"click\", function () {\n                        $(\".sm-buttonset\").find(\".sm-selectable\").removeClass(\"sm-state-active\");\n                        $(\".element_for_\" + thisVal).addClass(\"sm-state-active\");\n                        $(uiOptions.sizeSelectionElement + ':not(\".cloned\")').val(thisVal);\n                        $(uiOptions.sizeSelectionElement + ':not(\".cloned\")').trigger(\"change\");\t// yell change at original size selector\n                    });\n                $content.append($div);\n            });\n            $(element).after($content);\n        }\n\n        function getMaxY(data) {\n            var max = 0;\n            for (var i = 0; i < data.coords.length; i++) {\n                max = Math.max(max, data.coords[i].Y);\n            }\n            return max;\n        }\n\n        function getMaxX(data) {\n            var max = 0;\n            for (var i = 0; i < data.coords.length; i++) {\n                max = Math.max(max, data.coords[i].X);\n            }\n            return max;\n        }\n\n        function getMinX(data) {\n            var min = 99999;\n            for (var i = 0; i < data.coords.length; i++) {\n                min = Math.min(min, data.coords[i].X);\n            }\n            return min;\n        }\n\n        function getMinY(data) {\n            var min = 99999;\n            for (var i = 0; i < data.coords.length; i++) {\n                min = Math.min(min, data.coords[i].Y);\n            }\n            return min;\n        }\n\n        function getArced(p1, p2) {\n            var dX = p2.X - p1.X;\n            p2.cp1X = p1.X + Math.round(dX / arcRadius);\n            p2.cp1Y = p1.Y + Math.round(dX / arcRadius);\n            p2.cp2X = p2.X - Math.round(dX / arcRadius);\n            p2.cp2Y = p2.Y + Math.round(dX / arcRadius);\n            return true;\n        }\n\n        function liftCoords(data) {\n            data.nX = 0;\n            data.nY = 0;\n            if (data.lift) {\n                for (var i = 1; i < data.coords.length; i++) {\n                    var dX = data.coords[i].X - data.coords[i - 1].X;\n                    var dY = data.coords[i].Y - data.coords[i - 1].Y;\n                    var angleA = Math.atan2(dY, dX);\n                    data.nX = Math.sin(angleA) * arrowLift;\n                    data.nY = -Math.cos(angleA) * arrowLift;\n                }\n            }\n            return true;\n        }\n\n        function getMidPoints(data) {\n            var dX = data.coords[1].X - data.coords[0].X;\n            var dY = data.coords[1].Y - data.coords[0].Y;\n            data.mid = {X: Math.round(dX / 2) + data.coords[0].X, Y: Math.round(dY / 2) + data.coords[0].Y};\n            if (data.style === \"arc\") {\n                data.mid.Y += Math.round(dX / arcRadius * 0.7);\n            }\n        }\n\n        function plotItem(c, data, isArrow, scale, offsetX, offsetY, highlighted) {\n            function pX(coord) {\n                return (coord * scale) + offsetX;\n            }\n\n            function pY(coord) {\n                return (coord * scale) + offsetY;\n            }\n\n            var i, j, lcp;\n\n            c.beginPath();\n\n            if (isArrow) {\t// ARROW\n                c.lineWidth = arrowLineWidth;\n                if (highlighted) {\n                    c.lineWidth = arrowLineWidth + 2;\n                }\n                liftCoords(data);\n                c.moveTo(pX(data.coords[0].X + data.nX), pY(data.coords[0].Y + data.nY));\n                for (i = 1; i < data.coords.length; i++) {\n                    switch (data.style) {\n                        case \"circle\":\n                            getArced(data.coords[i - 1], data.coords[i]);\n                            c.bezierCurveTo(pX(data.coords[i].cp1X + data.nX), pY(data.coords[i].cp1Y + data.nY),\n                                pX(data.coords[i].cp2X + data.nX), pY(data.coords[i].cp2Y + data.nY),\n                                pX(data.coords[i].X + data.nX), pY(data.coords[i].Y + data.nY));\n                            c.bezierCurveTo(pX(-data.coords[i].cp1X + data.nX), pY(-data.coords[i].cp1Y + data.nY),\n                                pX(-data.coords[i].cp2X + data.nX), pY(-data.coords[i].cp2Y + data.nY),\n                                pX(data.coords[0].X + data.nX), pY(data.coords[0].Y + data.nY));\n                            break;\n                        case \"arc\":\n                            getArced(data.coords[i - 1], data.coords[i]);\n                        /* falls through */\n                        case \"line\":\n                            if (typeof data.coords[i].cp1X !== 'undefined') {\n                                c.bezierCurveTo(pX(data.coords[i].cp1X + data.nX), pY(data.coords[i].cp1Y + data.nY), pX(data.coords[i].cp2X + data.nX), pY(data.coords[i].cp2Y + data.nY), pX(data.coords[i].X + data.nX), pY(data.coords[i].Y + data.nY));\n                            } else {\n                                c.lineTo(pX(data.coords[i].X + data.nX), pY(data.coords[i].Y + data.nY));\n                            }\n                            break;\n                    }\n                }\n                c.stroke();\n\n                if (data.style === \"line\") {\n                    // start and end circles\n                    c.beginPath();\n                    c.arc(pX(data.coords[0].X + data.nX), pY(data.coords[0].Y + data.nY), arrowEndRadius, 0, Math.PI * 2, true);\n                    c.fill();\n                    c.beginPath();\n                    c.arc(pX(data.coords[data.coords.length - 1].X + data.nX), pY(data.coords[data.coords.length - 1].Y + data.nY), arrowEndRadius, 0, Math.PI * 2, true);\n                    c.fill();\n                }\n\n                // mid circle\n                getMidPoints(data);\n                if (typeof data.midCircle !== 'undefined') {\n                    data.mid.X = data.midCircle.X;\n                    data.mid.Y = data.midCircle.Y;\n                }\n                var rad = arrowNumberRadius;\n                if (highlighted) {\n                    rad += 5;\n                }\n                c.beginPath();\n                c.arc(pX(data.mid.X + data.nX), pY(data.mid.Y + data.nY), rad, 0, Math.PI * 2, true);\n                c.fill();\n                c.beginPath();\n                c.fillStyle = \"#FFFFFF\";\n                c.font = arrowNumberFont;\n                c.textAlign = \"center\";\n                c.textBaseline = \"middle\";\n                if (highlighted) {\n                    c.font = arrowNumberHighlightFont;\n                }\n                c.fillText(data.num, pX(data.mid.X + data.nX), pY(data.mid.Y + data.nY));\n\n            } else {\t// ITEM\n                c.fillStyle = fillColor;\n                c.strokeStyle = fillColor;\n                c.lineWidth = 0.1;\n\n                c.moveTo(pX(data.coords[0].X), pY(data.coords[0].Y));\n\n                for (i = 1; i < data.coords.length; i++) {\n                    if (typeof data.coords[i].cp1X !== 'undefined') {\n                        c.bezierCurveTo(pX(data.coords[i].cp1X), pY(data.coords[i].cp1Y), pX(data.coords[i].cp2X), pY(data.coords[i].cp2Y), pX(data.coords[i].X), pY(data.coords[i].Y));\n                    } else {\n                        c.lineTo(pX(data.coords[i].X), pY(data.coords[i].Y));\n                    }\n                }\n\n                if (data.mirror) {\n                    lcp = [{X: null, Y: null}, {X: null, Y: null}];\n\n                    for (i = data.coords.length - 1; i >= 0; i--) {\n                        if (lcp[0].X) {\n                            c.bezierCurveTo(pX(lcp[0].X), pY(lcp[0].Y), pX(lcp[1].X), pY(lcp[1].Y), pX(-data.coords[i].X), pY(data.coords[i].Y));\n                        } else {\n                            c.lineTo(pX(-data.coords[i].X), pY(data.coords[i].Y));\n                        }\n\n                        if (typeof data.coords[i].cp1X !== 'undefined') {\n                            lcp[0].X = -data.coords[i].cp2X;\n                            lcp[0].Y = data.coords[i].cp2Y;\n                            lcp[1].X = -data.coords[i].cp1X;\n                            lcp[1].Y = data.coords[i].cp1Y;\n                        } else {\n                            lcp = [{X: null, Y: null}, {X: null, Y: null}];\n                        }\n                    }\n                }\n\n                c.fill();\n                c.stroke();\n\n                // accents\n                c.fillStyle = drawColor;\n                c.strokeStyle = drawColor;\n                c.lineWidth = itemLineWidth;\n                c.lineCap = \"butt\";\n                c.lineJoin = \"miter\";\n                c.miterLimit = 1;\n\n                for (i = 0; i < data.accents.length; i++) {\n                    c.beginPath();\n                    if (data.accents[i].type === \"circle\") {\n                        c.arc(pX(data.accents[i].coords[0].X), pY(data.accents[i].coords[0].Y), data.accents[i].coords[0].R * realCanvasWidth / 1000, 0, Math.PI * 2, true);\n                    } else {\n                        c.moveTo(pX(data.accents[i].coords[0].X), pY(data.accents[i].coords[0].Y));\n                        for (j = 1; j < data.accents[i].coords.length; j++) {\n                            if (typeof data.accents[i].coords[j].cp1X !== 'undefined') {\n                                c.bezierCurveTo(pX(data.accents[i].coords[j].cp1X), pY(data.accents[i].coords[j].cp1Y), pX(data.accents[i].coords[j].cp2X), pY(data.accents[i].coords[j].cp2Y), pX(data.accents[i].coords[j].X), pY(data.accents[i].coords[j].Y));\n                            } else {\n                                c.lineTo(pX(data.accents[i].coords[j].X), pY(data.accents[i].coords[j].Y));\n                            }\n                        }\n                    }\n                    if (data.accents[i].type === \"area\") {\n                        c.fill();\n                    }\n                    c.stroke();\n\n                    if (data.mirror) {\n                        if (typeof data.accents[i].noMirror === 'undefined') {\n                            lcp = [{X: null, Y: null}, {X: null, Y: null}];\n                            c.beginPath();\n                            c.moveTo(pX(-data.accents[i].coords[data.accents[i].coords.length - 1].X), pY(data.accents[i].coords[data.accents[i].coords.length - 1].Y));\n                            for (j = data.accents[i].coords.length - 1; j >= 0; j--) {\n                                if (lcp[0].X) {\n                                    c.bezierCurveTo(pX(lcp[0].X), pY(lcp[0].Y), pX(lcp[1].X), pY(lcp[1].Y), pX(-data.accents[i].coords[j].X), pY(data.accents[i].coords[j].Y));\n                                } else {\n                                    c.lineTo(pX(-data.accents[i].coords[j].X), pY(data.accents[i].coords[j].Y));\n                                }\n\n                                if (typeof data.accents[i].coords[j].cp1X !== 'undefined') {\n                                    lcp[0].X = -data.accents[i].coords[j].cp2X;\n                                    lcp[0].Y = data.accents[i].coords[j].cp2Y;\n                                    lcp[1].X = -data.accents[i].coords[j].cp1X;\n                                    lcp[1].Y = data.accents[i].coords[j].cp1Y;\n                                } else {\n                                    lcp = [{X: null, Y: null}, {X: null, Y: null}];\n                                }\n                            }\n                            if (data.accents[i].type === \"area\") {\n                                c.fill();\n                            }\n                            c.stroke();\n                        }\n                    }\n                } // end for accents\n            }\n        }\n\n        function writeItemCanvas(canvas_id, matchMap, highlight) {\n\n            if (document.getElementById(canvas_id).getContext) {\n                var c = document.getElementById(canvas_id).getContext('2d');\n                $(\"#\" + canvas_id).attr(\"width\", realCanvasWidth).attr(\"height\", realCanvasHeight);\n\n                // get scale and offsets\n                var canvasWidth = realCanvasWidth * (1 - (2 * padding));\n                var canvasHeight = realCanvasHeight * (1 - (2 * padding));\n\n                var maxX = getMaxX(item_drawing) - getMinX(item_drawing);\n                if (item_drawing.mirror) {\n                    maxX = getMaxX(item_drawing) * 2;\n                }\n                var maxY = getMaxY(item_drawing) - getMinY(item_drawing);\n                var scale = 1;\n                if (maxX !== 0) {\n                    scale = canvasWidth / maxX;\n                }\n                if (maxY !== 0 && (canvasWidth / canvasHeight) > (maxX / maxY)) {\n                    scale = canvasHeight / maxY;\n                }\n\n                var offsetX = (realCanvasWidth - ((getMaxX(item_drawing) + getMinX(item_drawing)) * scale)) / 2;\n                if (item_drawing.mirror) {\n                    offsetX = realCanvasWidth / 2;\n                }\n                var offsetY = (realCanvasHeight - ((getMaxY(item_drawing) + getMinY(item_drawing)) * scale)) / 2;\n\n                // item\n                plotItem(c, item_drawing, false, scale, offsetX, offsetY, false);\n                var inputKey = $(uiOptions.sizeSelectionElement + ':not(\".cloned\")').val();\n\n                // arrows\n                if (matchMap) {\n                    // Detailed\n                    if (inputKey) {\n                        $.each(sizemeProduct.item.measurements[inputKey], function (measurement, value) {\n                            if (value > 0 && measurement_arrows[measurement]) {\n                                // var draw = (matchMap[measurement].componentFit > 0);\n                                var draw = true;\n                                if (draw) {\n                                    c.strokeStyle = measurement_arrows[measurement].color;\n                                    c.fillStyle = measurement_arrows[measurement].color;\n                                    plotItem(c, measurement_arrows[measurement], true, scale, offsetX, offsetY, (measurement === highlight && highlight !== null));\n                                }\n                            }\n                        });\n                    } else {\n                        plotItem(c, item_drawing, false, scale, offsetX, offsetY, false);\n                    }\n                } else {\n                    // Size Guider\n                    if (!inputKey) {\n                        inputKey = Object.keys(sizemeProduct.item.measurements)[0];\n                    }\n                    if (inputKey) {\n                        if (typeof sizemeProduct.item.measurements[inputKey] !== \"undefined\") {\n                            $.each(sizemeProduct.item.measurements[inputKey], function (measurement, value) {\n                                if (value > 0 && measurement_arrows[measurement]) {\n                                    c.strokeStyle = measurement_arrows[measurement].color;\n                                    c.fillStyle = measurement_arrows[measurement].color;\n                                    plotItem(c, measurement_arrows[measurement], true, scale, offsetX, offsetY, (measurement === highlight && highlight !== null));\n                                }\n                            });\n                        }\n                    }\n                }\n            }\n        }\n\n        function initOpentip() {\n            Opentip.lastZIndex = 999999999;\n            Opentip.styles.myDefaultStyle = {\n                //target: true,\n                //tipJoint: \"center top\",\n                group: \"myTips\"\n            };\n            Opentip.defaultStyle = \"myDefaultStyle\";\n        }\n\n        function hasNeckOpening() {\n            var inputKey = $(uiOptions.sizeSelectionElement + ':not(\".cloned\")').val();\n            if (!inputKey) {\n                inputKey = Object.keys(sizemeProduct.item.measurements)[0];\n            }\n            var retval = false;\n            if (typeof sizemeProduct.item.measurements[inputKey] !== \"undefined\") {\n                if (typeof sizemeProduct.item.measurements[inputKey].neck_opening_width !== \"undefined\") {\n                    retval = (sizemeProduct.item.measurements[inputKey].neck_opening_width > 0);\n                }\n            }\n            return retval;\n        }\n\n        function noThanks() {\n            return readCookie(\"sizeme_no_thanks\") === \"true\";\n        }\n\n        function noProductSplash() {\n            return readCookie(\"sizeme_no_product_splash\") === \"true\";\n        }\n\n        function writeDetailedWindow(isSizeGuide) {\n            // create detailed dialog window\n            itemName = sizemeProduct.name;\n            var txts = i18n.DETAILED;\n            var linkTarget = \".sizeme_slider .slider_text_below\";\n\n            initOpentip();\n\n            if (isSizeGuide) {\n                txts = i18n.SIZE_GUIDE;\n                linkTarget = uiOptions.appendContentTo;\n            }\n\n            var $dialog = $('<div id=\"sizeme_detailed_view_content\"></div>')\n                .dialog({\n                    position: {my: \"center\", at: \"center\", of: window},\n                    autoOpen: false,\n                    dialogClass: \"sizeme_detailed_view_window\",\n                    minHeight: 620,\n                    minWidth: 940,\n                    scaleH: 1,\n                    scaleW: 1,\n                    closeText: i18n.COMMON.close_text,\n                    title: txts.window_title + ' <span class=\"name\">' + itemName + '</span>'\n                });\n\n            // add toggle link to main page\n            $(\"<a class='a_button sm_detailed_view\" + (isSizeGuide ? \" size_guide\" : \"\") + \"' id='popup_opener' href='#'>\" + txts.button_text + \"</a>\")\n                .click(function () {\n                    if (isSizeGuide) {\n                        SizeMe.trackEvent(\"sizeGuideOpened\", \"Store: Size guide opened\");\n                    } else {\n                        SizeMe.trackEvent(\"detailedViewOpened\", \"Store: Detailed view opened\");\n                    }\n                    $dialog.dialog('open');\n                    return false;\n                })\n                .appendTo(linkTarget);\n\n            // write two columns\n            $(\"<div class='dialog_col' id='col1'></div><div class='dialog_col' id='col2'></div>\").appendTo(\"#sizeme_detailed_view_content\");\n\n            // add bottom title bar\n            $(\"<div class='sm-bottombar ui-dialog-bottombar'></div>\").appendTo(\"#sizeme_detailed_view_content\");\n\n            // write item image canvas to first column\n            $(\"<div class='sizeme_detailed_section'></div>\")\n                .append(\"<canvas id='sizeme_item_view'></canvas>\")\n                .appendTo(\"#col1\");\n\n            // add shopping for selection to second (no cloning)\n            if (!isSizeGuide) {\n                $(\"<div class='sizeme_detailed_section'></div>\")\n                    .append(\"<h2>\" + i18n.COMMON.shopping_for + \"</h2>\")\n                    .append(\"<div class='shopping_for'></div>\")\n                    .appendTo(\"#col2\");\n\n                // clone size select (and possible buttons) to detailed window\n                var $clone = $(uiOptions.sizeSelectionElement + ', .sm-buttonset').clone(true, true);\n                $clone.addClass(\"cloned\");\n                $clone.find(\"*\").addBack().each(function () {\n                    $(this).addClass(\"cloned\");\n                    if (this.id) this.id = \"clone_\" + this.id;\n                    if (this.name) this.name = \"clone_\" + this.name;\n                });\n\n                $(\"<div class='sizeme_detailed_section sizeme_detailed_size_selection_section'></div>\")\n                    .append(\"<h2>\" + i18n.COMMON.selected_size + \"</h2>\")\n                    .append($clone)\n                    .appendTo(\"#col2\");\n\n                // add change event to cloned select too (not possible buttonset)\n                $(\"#sizeme_detailed_view_content .sizeme-size-selector.cloned\").change(function () {\n                    var thisVal = $(this).val();\n                    // send value to original select and trigger change there\n                    $(uiOptions.sizeSelectionElement + ':not(\".cloned\")').val(thisVal);\n                    $(uiOptions.sizeSelectionElement + ':not(\".cloned\")').trigger(\"change\");\n                });\n\n                // clone slider (without detailed view toggler and in content stuff)\n                var $slider_clone = $(\".sizeme_slider\")\n                    .clone(true, true)\n                    .find(\".slider_text_below\").remove()\n                    .end();\n\n                $(\"<div class='sizeme_detailed_section'></div>\")\n                    .append(\"<h2>\" + i18n.FIT_INFO.overall_fit + \"</h2>\")\n                    .append($slider_clone)\n                    .appendTo(\"#col2\");\n            }\n\n            // write detailed table to col 2\n            $(\"<div class='sizeme_detailed_section'></div>\")\n                .append(\"<h2>\" + txts.table_title + \"</h2>\")\n                .append(\"<table id='detailed_table'><tbody></tbody></table>\")\n                .appendTo(\"#col2\");\n\n            // bind hover event to run_highlights\n            $(\"#detailed_table\").on(\"mouseenter\", \".run_highlight\", function () {\n                var highlight = $(this).data(\"measurement\");\n                $(this).find(\"td.cell_\" + highlight).addClass(\"highlighted\");\n                var $matchMap = $(\"#detailed_table\").find(\"tbody\").data(\"matchMap\");\n                writeItemCanvas('sizeme_item_view', $matchMap, highlight);\n                if (sizeme_local_options.fitAreaSlider && $matchMap) {\n                    if ($matchMap[highlight]) {\n                        if (($matchMap[highlight].componentFit > 0) && (isImportant($matchMap[highlight].importance, $matchMap[highlight].componentFit))) {\n                            drawExtraSlider($matchMap[highlight].componentFit);\n                        }\n                    }\n                }\n            }).on(\"mouseleave\", \".run_highlight\", function () {\n                var highlight = $(this).data(\"measurement\");\n                $(this).find(\"td.cell_\" + highlight).removeClass(\"highlighted\");\n                writeItemCanvas('sizeme_item_view', $(\"#detailed_table\").find(\"tbody\").data(\"matchMap\"), \"\");\n                if (sizeme_local_options.fitAreaSlider) {\n                    killExtraSlider();\n                }\n            });\n\n            // disclaimers\n            if (isSizeGuide) {\n                var $txt = i18n.SIZE_GUIDE.measurement_disclaimer;\n                if (hasNeckOpening()) {\n                    $txt += \"<br />\" + i18n.SIZE_GUIDE.measurement_disclaimer_collar;\n                }\n                if (isInside()) {\n                    $txt = i18n.SIZE_GUIDE.measurement_disclaimer_inside;\n                }\n                $(\"<div class='sizeme_explanation'></div>\")\n                    .append(\"<p>\" + $txt + \"</p>\")\n                    .appendTo(\"#col2\");\n\n                if (sizeme_options.service_status === \"on\") {\n                    $(\"<div class='sizeme_advertisement'></div>\")\n                        .append(\"<p>\" + i18n.SIZE_GUIDE.advertisement + \" \" +\n                            \"<a id='sizeme_ad_link' href='\" + SizeMe.contextAddress + \"' class='logo' target='_blank'></a></p>\")\n                        .appendTo(\"#sizeme_detailed_view_content\");\n                    $(\"#sizeme_ad_link\").on(\"click\", function () {\n                        clearAuthToken();\n                        if (noThanks()) {\n                            eraseCookie(\"sizeme_no_thanks\");\n                            $(\".splash\").fadeIn();\n                            return false;\n                        }\n                    });\n                }\n            }\n        }\n\n        function isImportant(importance, componentFit) {\n            return (importance === 1 || ((importance === -1) && (componentFit < 1000)));\n        }\n\n        function colorCell($cell, value, arrow) {\n            if (arrow) {\n                arrow.color = arrowColorInfo;\n            }\n            if (value) {\n                var selectedFit = getFit(value.componentFit, value.importance);\n                $cell.addClass(selectedFit.label);\n                if (arrow) {\n                    arrow.color = selectedFit.arrowColor;\n                }\n            }\n            return $cell;\n        }\n\n        function getMissingMeasurement(missingMeasurements, measurement) {\n            for (var $i = 0; $i < missingMeasurements.length; $i++) {\n                if (missingMeasurements[$i][0] === measurement) {\n                    return missingMeasurements[$i][1];\n                }\n            }\n            return null;\n        }\n\n        function isPinched(measurement) {\n            return (PINCHED_FITS.indexOf(measurement) >= 0);\n        }\n\n        function isLongFit(measurement) {\n            return (LONG_FITS.indexOf(measurement) >= 0);\n        }\n\n        function isPinchedTxt(measurement) {\n            if (isPinched(measurement)) {\n                return \" \" + i18n.FIT_INFO.when_pinched;\n            }\n            return \"\";\n        }\n\n        function getStretchedTxt(stretch_value) {\n            if (stretch_value > 0) {\n                if (stretch_value < 25) {\n                    return i18n.FIT_INFO.stretched_little + \"  \";\n                } else if (stretch_value < 75) {\n                    return i18n.FIT_INFO.stretched_somewhat + \"  \";\n                } else if (stretch_value < 95) {\n                    return i18n.FIT_INFO.stretched_much + \"  \";\n                } else {\n                    return i18n.FIT_INFO.stretched_max + \"  \";\n                }\n            }\n            return \"\";\n        }\n\n\n        function updateDetailedTable(matchMap, inputKey, missingMeasurements) {\n            var $table = $(\"#detailed_table\").find(\"tbody\"),\n                $row, $i, $tip, $txt;\n            $table.empty();\n            if (matchMap) {\n                // *** Detailed View ***\n                $table.data(\"matchMap\", matchMap);\n\n                $row = $(document.createElement(\"tr\")).addClass(\"header_row\");\n                $i = 0;\n                $.each(sizemeProduct.item.measurements[inputKey], function (measurement, value) {\n                    if (value > 0) {\n                        var $txt = '<span class=\"num\">' + (++$i) + '</span>' + i18n.MEASUREMENT[measurement];\n                        if (measurement_arrows[measurement]) {\n                            measurement_arrows[measurement].num = $i;\n                        }\n                        $row.append($(document.createElement(\"td\")).html($txt)\n                            .addClass(\"run_highlight cell_\" + measurement).data(\"measurement\", measurement));\n                    }\n                });\n                $table.append($row);\n\n                var $tip_txts = [];\n                var $tip_classes = [];\n\n                if (sizeme_local_options.writeOverlaps) {\n                    $row = $(document.createElement(\"tr\")).addClass(\"data_row\");\n                    $.each(sizemeProduct.item.measurements[inputKey], function (measurement, value) {\n                        var drawReason = 0;\n                        var matchItem = matchMap[measurement];\n                        if (matchItem && matchItem.componentFit > 0) {\n                            drawReason = 1;\n                        }\n                        if (value > 0) {\n                            drawReason = 2;\n                        }\n                        if (drawReason > 0) {\n                            var $txt = \"\";\n                            var $meas_top = 0;\n                            $tip_txts[measurement] = i18n.FIT_INFO.the_item + \" \" +\n                                i18n.MEASUREMENT[measurement].toLowerCase() + \" \" +\n                                i18n.FIT_INFO.the_measurement + \" \";\n\n                            if (matchItem) {\n                                $txt = (matchItem.overlap / 10).toFixed(1) + \" cm\";\n                                if (isPinched(measurement)) {\n                                    $txt = (matchItem.overlap / 20).toFixed(1) + \" cm\";\n                                }\n                                if ((matchItem.overlap <= 0) && (matchItem.componentFit >= 1000)) {\n                                    $txt = \"0.0 cm\";\n                                }\n\n                                switch (measurement) {\n                                    case \"sleeve\":\n                                        var $sleeve_txt = \"<div class='sleeve\" + (matchItem.overlap < 0 ? \" negative_overlap\" : \"\") + \"'>\";\n                                        var $sleeve_height = Math.round(29 + (75 * (matchItem.percentage / 0.3)));\t// zero-point + (wrist_to_finger * (overlap_percentage / normal_finger_ratio))\n                                        $sleeve_height = Math.max(11, $sleeve_height);\t// never under 11 (34 px)\n                                        $sleeve_height = Math.min(105, $sleeve_height);\t// never over overlap image height\n\n                                        $meas_top = Math.round((($sleeve_height - 29) / 2) + 29 - 9);\n                                        if (($sleeve_height - 29) < 14) { // no fit in middle if no room\n                                            $meas_top = $sleeve_height + 23;\n                                        }\n                                        if (matchItem.overlap < 0) {\n                                            $sleeve_txt += \"<div class='meas' style='top:14px;left:-7px;'>\" + $txt + \"</div>\";\t// negative overlap in different place\n                                            if (matchItem.componentFit >= 1000) {\n                                                $sleeve_height = 29;\n                                            }\n                                        } else {\n                                            $sleeve_txt += \"<div class='meas' style='top:\" + $meas_top + \"px;\";\n                                            if (matchItem.overlap >= 100) {\n                                                $sleeve_txt += \"left:-7px;\";\n                                            }\n                                            $sleeve_txt += \"'>\" + $txt + \"</div>\";\t// mid point?\n                                        }\n\n                                        $sleeve_txt += \"<div class='sleeve_overlap' style='height:\" + ($sleeve_height + 23) + \"px;'></div>\";\t// sleeve + image bottom clearance\n                                        $sleeve_txt += \"</div>\";\n                                        $tip_txts[measurement] = $sleeve_txt + $tip_txts[measurement];\n                                        break;\n                                    case \"front_height\":\n                                        var $front_height_txt = \"<div class='front_height\" + (matchItem.overlap < 0 ? \" negative_overlap\" : \"\") + \"'>\";\n                                        var $front_height_height = Math.round(25 + (matchItem.percentage * (9 / 0.05)));\t// zero-point + (overlap_percentage * (pant waistband height in px / pant waistband in %))\n                                        $front_height_height = Math.max(0, $front_height_height);\t// never under 0 (+23 = 34 px)\n                                        $front_height_height = Math.min(105, $front_height_height);\t// never over overlap image height (+23 px)\n\n                                        $meas_top = Math.round((($front_height_height - 25) / 2) + 25 - 9);\n                                        if (($front_height_height - 25) < 12) { // no fit in middle if no room\n                                            $meas_top = $front_height_height + 23;\n                                        }\n                                        if (matchItem.overlap < 0) {\n                                            $front_height_txt += \"<div class='meas' style='top:14px;left:-7px;'>\" + $txt + \"</div>\";\t// negative overlap in different place\n                                            if (matchItem.componentFit >= 1000) {\n                                                $front_height_height = 28;\n                                            }\n                                        } else {\n                                            $front_height_txt += \"<div class='meas' style='top:\" + $meas_top + \"px;\";\n                                            if (matchItem.overlap >= 100) {\n                                                $front_height_txt += \"left:-12px;\";\n                                            }\n                                            $front_height_txt += \"'>\" + $txt + \"</div>\";\t// mid point?\n                                        }\n\n                                        $front_height_txt += \"<div class='front_height_overlap' style='height:\" + ($front_height_height + 23) + \"px;'></div>\";\t// front_height + image (arrow) bottom clearance\n                                        $front_height_txt += \"</div>\";\n                                        $tip_txts[measurement] = $front_height_txt + $tip_txts[measurement];\n                                        break;\n                                }\t// end switch measurement\n\n                                if (matchItem.overlap <= 0) {\n                                    if (matchItem.componentFit >= 1000) {\n                                        $txt = \"0.0 cm\";\n                                        $tip_txts[measurement] += i18n.FIT_INFO.no_overlap + \"  \";\n                                        $tip_txts[measurement] += getStretchedTxt(matchItem.componentStretch);\n                                    } else {\n                                        $tip_txts[measurement] += i18n.FIT_INFO.is_smaller + \" \";\n                                        $tip_txts[measurement] += $txt.replace(\"-\", \"\");\n                                        $tip_txts[measurement] += isPinchedTxt(measurement) + \".  \";\n                                    }\n                                } else {\n                                    if (isPinched(measurement)) {\n                                        $tip_txts[measurement] = \"<div class='pinched'><div class='meas'>\" + $txt + \"</div></div>\" + $tip_txts[measurement];\n                                    }\n\n                                    $txt = \"+\" + $txt;\n                                    $tip_txts[measurement] += i18n.FIT_INFO.overlaps_you + \" <b>\" + $txt + \"</b>\" + isPinchedTxt(measurement);\n                                    if (measurement === \"sleeve\") {\n                                        $tip_txts[measurement] += \" \" + i18n.FIT_INFO.arm_sleeve_straight;\n                                    }\n                                    $tip_txts[measurement] += \".  \";\n                                }\n\n                                if (matchItem.componentFit > 0) {\n                                    var $fitVerdict = i18n.FIT_VERDICT[getFit(matchItem.componentFit, matchItem.importance).label];\n                                    if (isLongFit(measurement)) {\n                                        $fitVerdict = i18n.FIT_VERDICT_LONG[getFit(matchItem.componentFit, matchItem.importance).label];\n                                    }\n                                    $tip_txts[measurement] += i18n.FIT_INFO.sm_considers_fit + \" <b>\" + $fitVerdict.toLowerCase() + \"</b>.\";\n                                }\n\n                            } else if (value > 0) {\n                                $txt = (value / 10).toFixed(1) + \" cm\";\n                                $tip_txts[measurement] += i18n.COMMON.is + \" \" + $txt + \".  \";\n                                if (missingMeasurements) {\n                                    if (getMissingMeasurement(missingMeasurements, measurement) !== null) {\n                                        $tip_txts[measurement] += i18n.MESSAGE.add_this_measurement;\n                                    }\n                                }\n                            }\n\n                            var $cell = $(document.createElement(\"td\"))\n                                .text($txt)\n                                .attr(\"id\", \"overlap_\" + measurement)\n                                .addClass(\"run_highlight cell_\" + measurement)\n                                .data(\"measurement\", measurement);\n                            $row.append(colorCell($cell, matchItem, measurement_arrows[measurement]));\n                            $tip_classes[measurement] = \"\";\n                            if (isPinched(measurement)) {\n                                $tip_classes[measurement] = \"isPinched\";\n                            }\n                            if (measurement === \"sleeve\") {\n                                $tip_classes[measurement] = \"sleeve\";\n                            }\n                            $tip = new Opentip($cell, $tip_txts[measurement], {className: $tip_classes[measurement]});\n                        }\n                    });\n                    $table.append($row);\n                }\n\n                $row = $(document.createElement(\"tr\")).addClass(\"data_row fit_label_row\");\n                $.each(sizemeProduct.item.measurements[inputKey], function (measurement, value) {\n                    var $cell;\n                    var matchItem = matchMap[measurement];\n                    if (matchItem) {\n                        if (matchItem.componentFit > 0) {\n                            $txt = i18n.FIT_VERDICT[getFit(matchItem.componentFit, matchItem.importance).label];\n\n                            if (isLongFit(measurement)) {\n                                $txt = i18n.FIT_VERDICT_LONG[getFit(matchItem.componentFit, matchItem.importance).label];\n                            }\n\n                            $cell = $(document.createElement(\"td\"))\n                                .html('<div>' + $txt + '</div>')\n                                .addClass(\"run_highlight\")\n                                .data(\"measurement\", measurement);\n\n                            $row.append(colorCell($cell, matchItem, measurement_arrows[measurement]));\n                        } else if (value > 0) {\n                            $txt = \"\";\n                            $cell = $(document.createElement(\"td\"))\n                                .html($txt)\n                                .addClass(\"info run_highlight cell_\" + measurement)\n                                .data(\"measurement\", measurement);\n                            $row.append($cell);\n                        }\n                    } else if (value > 0) {\n                        $txt = \"\";\n                        var $class = \"\",\n                            missing;\n                        if (missingMeasurements) {\n                            if ((missing = getMissingMeasurement(missingMeasurements, measurement)) !== null) {\n                                $txt = \"<a target='_blank' href='\" + linkToSelectedProfile + \"#\" + missing + \"'>\" + i18n.COMMON.add_to_profile + \"</a>\";\n                                $class = \" add\";\n                            }\n                        }\n                        $cell = $(document.createElement(\"td\"))\n                            .html($txt)\n                            .addClass(\"info run_highlight cell_\" + measurement + $class)\n                            .data(\"measurement\", measurement);\n                        $row.append($cell);\n                    }\n                    if ($cell) {\n                        $tip = new Opentip($cell, $tip_txts[measurement], {className: $tip_classes[measurement]});\n                    }\n                });\n                $table.append($row);\n\n            } else {\n                // *** Size Guide ***\n                $row = $(document.createElement(\"tr\")).addClass(\"header_row\");\n                $i = 0;\n                var $first = Object.keys(sizemeProduct.item.measurements)[0],\n                    $j, measurement;\n                $row.append($(document.createElement(\"td\")).html(i18n.COMMON.size).addClass(\"size_column\"));\n                for ($j = 0; $j < FIT_ORDER.length; $j++) {\n                    measurement = FIT_ORDER[$j];\n                    if (sizemeProduct.item.measurements[$first][measurement] > 0) {\n                        $txt = '<span class=\"num\">' + (++$i) + '</span>' + i18n.MEASUREMENT[measurement];\n                        if (measurement_arrows[measurement]) {\n                            measurement_arrows[measurement].num = $i;\n                        }\n                        $row.append($(document.createElement(\"td\")).html($txt).addClass(\"run_highlight cell_\" + measurement).data(\"measurement\", measurement));\n                    }\n                }\n                $table.append($row);\n\n                for ($i = 0; $i < sizeKeys.length; $i++) {\n                    var key = sizeKeys[$i].key, $cell;\n\n                    var $class = \"data_row\";\n                    if (key === inputKey) {\n                        $class += \" active\";\n                    }\n\n                    $row = $(document.createElement(\"tr\")).addClass($class);\n\n                    $row.append($(document.createElement(\"td\")).html(sizeText(sizeKeys[$i].sizeLabel)).addClass(\"size_column\"));\n                    for ($j = 0; $j < FIT_ORDER.length; $j++) {\n                        measurement = FIT_ORDER[$j];\n                        if (sizemeProduct.item.measurements[key][measurement] > 0) {\n                            $txt = (sizemeProduct.item.measurements[key][measurement] / 10).toFixed(1);\n                            $cell = $(document.createElement(\"td\")).text($txt + \" cm\").addClass(\"run_highlight cell_\" + measurement).data(\"measurement\", measurement);\n                            $row.append(colorCell($cell, \"\", measurement_arrows[measurement]));\n                        }\n                    }\n                    $table.append($row);\n                }\n            }\n\n            writeItemCanvas('sizeme_item_view', matchMap, \"\");\n\n        }\n\n        function updateDetailedSliderTip(thisSize, thisFit) {\n            // tip for overall slider in detailed\n            var $trigger = $(\"#sizeme_detailed_view_content\").find(\".slider_container\");\n            var $tip_txt = i18n.FIT_INFO.overall_fit_for_size + \" \" + sizeText(thisSize) + \"</b>\";\n            $tip_txt += \" \" + i18n.COMMON.is + \" <b>\" + i18n.FIT_VERDICT[getFit(thisFit, 1).label].toLowerCase() + \"</b>\";\n            var $tip = new Opentip($trigger, $tip_txt);\n        }\n\n        function updateSlider(thisSize, thisData, isRecommended, detailedContainer, animateSlider) {\n            if (typeof thisData !== \"undefined\") {\n                var thisFit = thisData.totalFit;\n                var thisLabel = thisData.fitRangeLabel;\n                var matchMap = thisData.matchMap;\n                moveSlider(thisFit, animateSlider);\n                if (sizeme_local_options.fitAreaSlider) {\n                    moveAreaSlider(thisFit, matchMap, animateSlider);\n                }\n                if (sizeme_local_options.writeMessages) {\n                    goWriteMessages(matchMap, thisData.missingMeasurements, thisData.accuracy, thisFit);\n                }\n                updateDetailedSliderTip(thisSize, thisFit);\n                updateDetailedTable(matchMap, thisData.inputKey, thisData.missingMeasurements);\n            }\n        }\n\n        function getStandardHeader() {\n            // *** SizeMe Header injection\n            var headerHtml = \"<div id='sizeme_header' class='in_content'>\";\n            headerHtml += \"<div id='logo'></div>\";\n            headerHtml += \"<div class='sizeme_header_content'>\";\n            headerHtml += \"<div class='shopping_for'>\" + i18n.COMMON.fetching_profiles + \"</div>\";\n            headerHtml += \"<div class='top_right'>\";\n            headerHtml += \"<div id='log_info'><span id='logged_in'></span></div>\";\n            headerHtml += \"</div>\";\n            headerHtml += \"</div>\";\n            return headerHtml;\n        }\n\n        function getHeaderToggler() {\n            // *** SizeMe Header toggler\n            var headerHtml = \"<div id='sizeme_header_toggler' class='in_content'>\";\n            headerHtml += \"</div>\";\n            return headerHtml;\n        }\n\n        function getSplashDetailed() {\n            // *** SizeMe Splash #2 injection (detailed)\n            var headerHtml = \"<div id='sizeme_detailed_splash' class='splash'>\";\n            headerHtml += \"<p class='splash_text'>\";\n            headerHtml += i18n.SPLASH.detailed_text;\n            headerHtml += \"</p>\";\n            headerHtml += \"<ul class='splash_choices'>\";\n            headerHtml += \"<li class='sign_in'>\";\n            headerHtml += \"<a href='\" + SizeMe.contextAddress + \"/?mode=signup' target='_blank' class='a_button' id='sizeme_btn_sign_up' title='\" + i18n.SPLASH.btn_sign_up_label.replace(/'/g, \"&#39;\") + \"'>\";\n            headerHtml += i18n.SPLASH.btn_sign_up_title + \"</a>\";\n            headerHtml += \"</li>\";\n            headerHtml += \"<li class='log_in'><a href='#' class='a_button' id='sizeme_btn_login' title='\" + i18n.SPLASH.btn_log_in_label.replace(/'/g, \"&#39;\") + \"'>\" + i18n.SPLASH.btn_log_in_title + \"</a></li>\";\n            headerHtml += \"<li class='no_thanks'><td><a href='#' class='a_button' id='sizeme_btn_no_thanks' title='\" + i18n.SPLASH.btn_no_thanks_label.replace(/'/g, \"&#39;\") + \"'>\" + i18n.SPLASH.btn_no_thanks_title + \"</a></li>\";\n            headerHtml += \"</ul></div>\";\n            return headerHtml;\n        }\n\n        function getProductSplash() {\n            // *** SizeMe Splash in Product page\n            var splashHtml = \"<div id='sizeme_product_splash'>\";\n            splashHtml += \"<p>\" + i18n.SPLASH.product_page_splashes[0] + \" \";\n            splashHtml += \"<a href='\" + SizeMe.contextAddress + \"' target='_blank' id='sizeme_product_page_link' title='\" + i18n.SPLASH.product_page_splash_title + \"'></a>\";\n            splashHtml += \"<a href='#' id='sizeme_btn_no_thanks_product_splash' title='\" + i18n.COMMON.close_text + \"'></a>\";\n            splashHtml += \"</p></div>\";\n            return splashHtml;\n        }\n\n        function findMaxMeasurement(product) {\n            var maxVal = 0;\n            $.each(product.item.measurements, function (_, measurements) {\n                $.each(measurements, function (_, value) {\n                    maxVal = Math.max(value, maxVal);\n                });\n            });\n            return maxVal;\n        }\n\n        function buttonize() {\n            selectToButtons(uiOptions.sizeSelectionElement);\n            $(\"#button_choose\").remove();\n        }\n\n        function setProfileLink() {\n            if (selectedProfile === null) {\n                linkToSelectedProfile = SizeMe.contextAddress + \"/account/profiles.html\";\n            } else {\n                linkToSelectedProfile = SizeMe.contextAddress + \"/account/profiles/\" + selectedProfile + \"/profile.html\";\n            }\n        }\n\n        function doProfileChange(newValue, matchFn) {\n            selectedProfile = newValue;\n            setProfileLink();\n\n            if (selectedProfile === null) {\n                eraseCookie(\"sizeme_profileId\");\n                goWriteMessages();\n            } else {\n                $(\".profileSelect\").val(selectedProfile);\n                createCookie(\"sizeme_profileId\", selectedProfile, cookieLifetime);\n\n                matchFn(selectedProfile);\n                SizeMe.trackEvent(\"activeProfileChanged\", \"Store: Active profile changed\");\n            }\n            $('#logged_in_link').attr(\"href\", linkToSelectedProfile);\n            // end of function  doProfileChange\n        }\n\n        var checkSystems = function (product) {\n            // fallback for legacy size selection pointer\n            if (typeof uiOptions.sizeSelectionContainer !== 'undefined') {\n                uiOptions.sizeSelectionElement = uiOptions.sizeSelectionContainer + \" select\";\n            }\n\n            return $(uiOptions.sizeSelectionElement).length !== 0 && // check existence of size selection element\n                findMaxMeasurement(product) !== 0;\n        };\n\n        var init = function (product, logoutFn, isLoggedIn) {\n            sizemeProduct = product;\n\n            // language sniffer\n            var sizemeLang;\n            if (typeof uiOptions.lang === 'undefined') {\n                sizemeLang = $('html').attr('lang');\n            } else {\n                sizemeLang = uiOptions.lang;\n            }\n            i18n = SizeMe.I18N.get(sizemeLang);\n\n            addIds(SizeMe.UI.options.sizeSelectionElement);\n            loadArrows(false); // everyone needs arrows\n\n            // buttonize\n            if (typeof sizeme_options !== 'undefined' && sizeme_options.buttonize === \"yes\") {\n                buttonize();\n            }\n\n            if (uiOptions.addToCartEvent) {\n                $(uiOptions.addToCartElement).on(uiOptions.addToCartEvent, function () {\n                    if (isLoggedIn()) {\n                        SizeMe.trackEvent(\"addToCartSM\", \"Store: Product added to cart by SizeMe user\");\n                    } else {\n                        SizeMe.trackEvent(\"addToCart\", \"Store: Product added to cart\");\n                    }\n\n                });\n            }\n\n            // delegate logout to #logout-element from now on\n            $(document).on(\"click\", \"#logout\", function () {\n                logoutFn();\n            });\n        };\n\n        var matchResponseHandler = function (responseMap) {\n            var smallestOffset = 9999,  // for recommendation\n                thisVal, thisId, thisData, thisSize;\n\n            $.each(responseMap, function (key, result) {\n                var classKey = \".element_for_\" + key;\n                $(classKey)\n                    .removeClass('sm-too_small sm-slim sm-regular sm-loose sm-very_loose sm-huge sm-too_big')\n                    .addClass('sm-' + result.fitRangeLabel);\n\n                // Analyze fit for recommendations\n                var fitOffset = Math.abs(result.totalFit - OPTIMAL_FIT);\n                if (fitOffset < smallestOffset) {\n                    // check if recommended option exists (is for sale)\n                    if ($(\"#input_\" + key).length > 0) {\n                        smallestOffset = fitOffset;\n                        recommendedId = key;\n                        recommendedLabel = result.fitRangeLabel;\n                    }\n                }\n\n                // check if there are results in the first place\n                if (result.accuracy < accuracyThreshold) {\n                    $('.slider_bar, .slider_area').hide();\n                } else {\n                    $('.slider_bar, .slider_area').show();\n                }\n\n                // write data to inputs\n                $(\"#input_\" + key).data(\"fitData\", {\n                    totalFit: result.totalFit,\n                    fitRangeLabel: result.fitRangeLabel,\n                    matchMap: result.matchMap,\n                    missingMeasurements: result.missingMeasurements,\n                    accuracy: result.accuracy,\n                    inputKey: key\n                });\n            });\n\n            // bind change to size selector (only original, clone handled separately)\n            $(uiOptions.sizeSelectionElement + ':not(\".cloned\")').change(function () {\n                thisVal = $(this).val();\n                thisId = '#input_' + thisVal;\n                thisData = $(thisId).data(\"fitData\");\n                thisSize = $(thisId).text();\n                if (thisVal) {\n                    $('.slider_bar, .slider_area, #detailed_table').show();\n                    updateSlider(thisSize, thisData, (thisVal === recommendedId), uiOptions.detailedViewContainer, true);\n                } else {\n                    $('.slider_bar, .slider_area, #detailed_table').hide();\n                }\n                // relay change to cloned (if exists), but do not trigger change there\n                $(\"#sizeme_detailed_view_content .sizeme-size-selector.cloned\").val(thisVal);\n                SizeMe.trackEvent(\"sizeChanged\", \"Store: Product size changed\");\n            });\n\n            // remove existing recommendation\n            $(\".sm-buttonset\").find(\".sm-selectable\").removeClass('sm-recommended');\n\n            // set selection to recommendation on first match\n            if (uiOptions.firstRecommendation) {\n                // select recommended (at original)\n                $(uiOptions.sizeSelectionElement + ':not(\".cloned\")').val(recommendedId);\n                // select recommended (at possible clone)\n                $(\"#sizeme_detailed_view_content .sizeme-size-selector.cloned\").val(recommendedId);\n                // remove existing active\n                $(\".sm-buttonset\").find(\".sm-selectable\").removeClass('sm-state-active');\n                // add class\n                $(\".element_for_\" + recommendedId).addClass('sm-recommended sm-state-active');\n                var recommendedInput = $(\"#input_\" + recommendedId);\n                if (recommendedInput.data(\"fitData\")) {\n                    thisData = recommendedInput.data(\"fitData\");\n                    thisSize = recommendedInput.text();\n                    updateSlider(thisSize, thisData, true, uiOptions.detailedViewContainer, true);\n                }\n                uiOptions.firstRecommendation = false;\n            } else {\n                thisId = '#input_' + $(uiOptions.sizeSelectionElement + ':not(\".cloned\")').val();\n                if ($(thisId).data(\"fitData\")) {\n                    thisData = $(thisId).data(\"fitData\");\n                    thisSize = $(thisId).text();\n                    updateSlider(thisSize, thisData, true, uiOptions.detailedViewContainer, true);\n                }\n            }\n            // end of function \tmatchResponseHandler\n        };\n\n        var profileListHandler = function (profileList, matchFn) {\n            var cookieProfile = readCookie(\"sizeme_profileId\");\n            var $i = 0;\n            var $new = \"<div id='sizeme_header_container'>\" + getStandardHeader() + \"</div>\";\n\n            // Prepend header to body\n            $(uiOptions.appendContentTo).append(getSliderHtml());\n            $(\".sizeme_slider .slider_text_below\").append($new);\n            $(\"#sizeme_header.in_content\").find(\"#logo\").on(\"click\", function () {\n                $(\"#sizeme_header.in_content\").toggleClass(\"opened\");\n            });\n\n            if (profileList.length > 0) {\n                selectedProfile = profileList[0].id;\n                $.each(profileList, function () {\n                    if (this.id === cookieProfile) {\n                        selectedProfile = this.id;\n                        return false;\n                    }\n                });\n\n                writeDetailedWindow(false);\n                moveSlider(OPTIMAL_FIT, false);\n\n                $(\".shopping_for\").empty().html(\"<span class='shopping_for_text'>\" + i18n.COMMON.shopping_for + \": </span>\")\n                    .append(function () {\n                        var select = document.createElement(\"select\");\n                        select.className = \"profileSelect\";\n                        select.id = \"id_profileSelect_\" + (++$i);\n                        return select;\n                    });\n                $.each(profileList, function () {\n                    $(\"<option>\").appendTo(\".profileSelect\")\n                        .attr(\"value\", this.id)\n                        .text(this.profileName);\n                });\n                $('.profileSelect')\n                    .val(selectedProfile)\n                    .change(function () {\n                        doProfileChange(this.value, matchFn);\n                    });\n            } else {\n                selectedProfile = null;\n                setProfileLink();\n                writeDetailedWindow(false);\n                updateDetailedTable();\n                $('.slider_bar, .slider_area').hide();\n                $(\".shopping_for\").empty();\n                $(\".sizeme_header_content .shopping_for\")\n                    .html(\"<span class='shopping_for_text no-profile'>\" + i18n.MESSAGE.no_profiles + \"</span>\");\n                $(\".sizeme_detailed_section .shopping_for\")\n                    .append(\n                        $(\"<span>\").addClass(\"shopping_for_text no-profile\")\n                            .html(i18n.MESSAGE.no_profiles + \" \" + i18n.COMMON.go_to +\n                                \"<a id='logged_in_link' href='\" + linkToSelectedProfile + \"' target='_blank'>\" + i18n.COMMON.my_profiles + \"</a> \" + i18n + COMMON.and_create_one)\n                    );\n            }\n\n            $('#logged_in').html(\"<a id='logged_in_link' href='#' target='_blank'>\" + i18n.COMMON.my_profiles + \"</a>\");\n\n            // Yell change\n            doProfileChange(selectedProfile, matchFn);\n        };\n\n        var login = function () {\n            eraseCookie(\"sizeme_no_thanks\");\n            eraseCookie(\"sizeme_no_product_splash\");\n\n            // remove existing (if exists)\n            $(\"#sizeme_header\").remove();\n            $(\"#popup_opener\").remove();\n            $(\"#sizeme_product_splash\").remove();\n            $(\"#sizeme_detailed_view_content\").dialog(\"destroy\").remove();\n\n            //$(\"#logout\").click(logoutFn);\n        };\n\n        var logout = function (loginFn, clearAuthToken) {\n            loadArrows(true);\n\n            // Size Guide for non-loving users\n            writeDetailedWindow(true);\n            updateDetailedTable();\n\n            // Makia live temporary exception\n            // Show size guide text only if there actually is a size guide (otherwise hidden with css)\n            $(\".sizeme p\").show();\n\n            // bind change to original select\n            $(uiOptions.sizeSelectionElement + ':not(\".cloned\")').change(function () {\n                var thisVal = $(this).val();\n                // relay change to cloned and vice versa\n                $(\"#sizeme_detailed_view_content .sizeme-size-selector.cloned\").val(thisVal);\n                updateDetailedTable(\"\", thisVal);\n            });\n\n            if (sizeme_options.service_status === \"on\") {\n                var splashContent;\n                // Add splash content in detailed\n                splashContent = getSplashDetailed();\n                if (noThanks()) {\n                    splashContent = $(splashContent).hide();\n                }\n                $(\"#sizeme_detailed_view_content\").append(splashContent);\n\n                // login button\n                $(\"#sizeme_btn_login\").click(function () {\n                    SizeMe.trackEvent(\"clickLogin\", \"Store: Login clicked\");\n                    clearAuthToken();\n                    SizeMe.loginFrame(function () {\n                        loginFn();\n                    });\n                    return false;\n                });\n\n                $(\"#sizeme_btn_sign_up\").click(function () {\n                    SizeMe.trackEvent(\"clickSignUp\", \"Store: Sign up clicked\");\n                    clearAuthToken();\n                    return true;\n                });\n\n                // no thanks button\n                $(\"#sizeme_btn_no_thanks\").on(\"click\", function () {\n                    SizeMe.trackEvent(\"noThanks\", \"Store: SizeMe, no thanks\");\n                    createCookie(\"sizeme_no_thanks\", \"true\", cookieLifetime);\n                    $(\".splash\").hide();\n                    $(\"#sizeme_btn_no_thanks_product_splash\").trigger(\"click\");\t\t// also close possible product splasher\n                    return false;\n                });\n\n                // Product page splash\n                if (!noProductSplash()) {\n                    $(uiOptions.appendSplashTo).append(getProductSplash());\n                    $(\"#sizeme_btn_no_thanks_product_splash\").on(\"click\", function () {\n                        SizeMe.trackEvent(\"noProductSplash\", \"Store: Product splash closed\");\n                        createCookie(\"sizeme_no_product_splash\", \"true\", cookieLifetime);\n                        $(\"#sizeme_product_splash\").slideUp();\n                        return false;\n                    });\n\n                    $(\"#sizeme_product_page_link\").on(\"click\", function () {\n                        SizeMe.trackEvent(\"clickProductSplash\", \"Store: Product splash clicked\");\n                    });\n\n                }\n            }\n\n            // end of function \tloggedOutCb\n\n        };\n\n        return {\n            checkSystems: checkSystems,\n            noThanks: noThanks,\n            matchResponseHandler: matchResponseHandler,\n            matchErrorHandler: function () {\n                // this is called when the match function returns an error.  This is most likely due to a wrong or unadded itemType and only visible when the user is logged in.\n                // if the itemType is\n                $(\".sizeme_slider\").hide();\n                console.error(\"SizeMe: error in match function.  Please contact your local SizeMe dealer.\");\n                // end of function \tmatchErrorHandler\n            },\n            profileListHandler: profileListHandler,\n            init: init,\n            login: login,\n            logout: logout\n        };\n\n    };\n\n    SizeMe.UI.options = {};\n\n})(window);\n// SizeMe UI JS v1.0\n// based on SizeMe Item Types 2015-10-01\n// (c) SizeMe Inc.\n// www.sizeme.com\n// License undecided\n/* jshint browser:true, jquery:true */\n/* globals SizeMe: false, sizeme_options: false, sizeme_product: false */\n(function (window, undefined) {\n    SizeMe.sizemeInit = function ($) {\n\n        var sizeme;\n\n        var dataStorage = (function () {\n            var type = \"sessionStorage\";\n\n            function DataStorage() {\n                try {\n                    var _tstorage = window[type];\n                    var x = '__storage_test__';\n                    _tstorage.setItem(x, x);\n                    _tstorage.removeItem(x);\n                    this.storage = window[type];\n                } catch (e) {\n                    this.storage = null;\n                }\n            }\n\n            DataStorage.prototype.storage = null;\n            DataStorage.prototype.withStorage = function (callback) {\n                if (this.storage === null) {\n                    return;\n                }\n\n                return callback(this.storage);\n            };\n\n            return new DataStorage();\n        })();\n\n        var getAuthToken = function () {\n            var deferred = $.Deferred();\n\n            dataStorage.withStorage(function (storage) {\n                var storedTokenObj = storage.getItem('authToken'),\n                    storedToken;\n                if (storedTokenObj !== null) {\n                    storedToken = JSON.parse(storedTokenObj);\n                    if (storedToken.expires !== undefined) {\n                        storedToken.expires = Date.parse(storedToken.expires);\n                        // Has token expired?\n                        if (storedToken.expires > new Date().getTime()) {\n                            if (storedToken.token !== undefined) {\n                                deferred.resolve(storedToken.token);\n                            } else {\n                                deferred.reject(null);\n                            }\n                        }\n                    }\n                }\n            });\n\n            if (deferred.state() === \"pending\") {\n                SizeMe.getAuthToken(function (authTokenObj) {\n                    if (authTokenObj === null || authTokenObj.token === null) {\n                        deferred.reject(null);\n                    } else {\n                        dataStorage.withStorage(function (storage) {\n                            storage.setItem('authToken', JSON.stringify(authTokenObj));\n                        });\n                        deferred.resolve(authTokenObj.token);\n                    }\n                });\n            }\n\n            return deferred.promise();\n        };\n\n        var clearAuthToken = function () {\n            dataStorage.withStorage(function (storage) {\n                storage.removeItem('authToken');\n            });\n        };\n\n        var initSizeme = function () {\n            return getAuthToken().then(function (token) {\n                sizeme = new SizeMe(token);\n            });\n        };\n\n        var initProduct = function () {\n            var productPromise = $.Deferred();\n            if (typeof sizeme_product === \"string\") {\n                SizeMe.getProductInfo(sizeme_product, function (product) {\n                    var smProduct = new SizeMe.Item(\n                        product.itemType, product.itemLayer, product.itemThickness, product.itemStretch\n                    );\n                    $.each(product.measurements, function (label, value) {\n                        smProduct.addOption(label, SizeMe.Map.fromObject(value));\n                    });\n                    productPromise.resolve({\n                        item: smProduct,\n                        name: \"T-SHIRT\"\n                    });\n                }, function () {\n                    productPromise.reject();\n                });\n            } else {\n                productPromise.resolve(sizeme_product);\n            }\n            return productPromise;\n        };\n\n        var isLoggedIn = function () {\n            return !!sizeme;\n        };\n\n        var setup = function (product) {\n            var sizemeUI = SizeMe.UI($);\n\n            var systemsGo = !!sizeme_options &&\n                sizeme_options.service_status !== \"off\" &&\n                product.item.itemType !== 0 &&\n                sizemeUI.checkSystems(product);\n\n            var doMatch = function (selectedProfile) {\n                var item;\n                if (typeof sizeme_product === \"string\") {\n                    item = sizeme_product;\n                } else {\n                    item = $.extend({}, product.item);\n                    var itemType = item.itemType;\n                    if (itemType.indexOf('.') < 0) {\n                        item.itemType = itemType.split('').join('.');\n                    }\n                }\n                sizeme.match(new SizeMe.FitRequest(selectedProfile, item),\n                    sizemeUI.matchResponseHandler,\n                    sizemeUI.matchErrorHandler\n                );\n            };\n\n            var loggedInCb = function () {\n                sizemeUI.login();\n\n                // *** SizeMe Magic\n                if (isLoggedIn()) {\n                    sizeme.fetchProfilesForAccount(function (profileList) {\n                        sizemeUI.profileListHandler(profileList, doMatch);\n                    });\n                }\n                // end of function \tloggedInCb\n            };\n\n            var loggedOutCb = function () {\n                sizeme = null;\n                sizemeUI.logout(function () {\n                    initSizeme().then(loggedInCb);\n                }, clearAuthToken);\n            };\n\n            if (systemsGo) {\n                sizemeUI.init(product, loggedOutCb, isLoggedIn);\n                if (sizemeUI.noThanks()) {\n                    SizeMe.trackEvent(\"productPageNoSM\", \"Store: Product page load, SizeMe refused\");\n                    loggedOutCb();\n                } else if (isLoggedIn()) {\n                    SizeMe.trackEvent(\"productPageLoggedIn\", \"Store: Product page load, logged in\");\n                    loggedInCb();\n                } else {\n                    SizeMe.trackEvent(\"productPageLoggedOut\", \"Store: Product page load, logged out\");\n                    loggedOutCb();\n                }\n\n            }\n            // *** End\n        };\n\n        $(function () {\n            /**** TEST SETTINGS ****/\n            SizeMe.contextAddress = \"https://sizeme.greitco.com\";\n            console.log(sizeme_product);\n            //window.sizeme_product = \"M6969A | SIZEME T-SHIRT | BLACK | 161\";\n            /**** ****/\n            var sizemeDef = $.Deferred();\n            initSizeme().always(function () {\n                sizemeDef.resolve();\n            });\n\n            $.when(initProduct(), sizemeDef).then(function (product) {\n                console.log(product);\n                setup(product);\n            });\n        });\n\n    };\n\n})(window);"],"sourceRoot":"/source/"}