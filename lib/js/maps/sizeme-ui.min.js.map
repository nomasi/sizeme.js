{"version":3,"sources":["sizeme-ui.js"],"names":["window","SizeMeI18N","defaultLang","defLang","languages","this","add","lang","langObj","get","LOCALIZED_STR","not_fitted","too_small","slim","regular","loose","very_loose","huge","too_big","chest","waist","sleeve","sleeve_top_width","sleeve_top_opening","wrist_width","underbust","neck_opening_width","shoulder_width","front_height","pant_waist","hips","inseam","outseam","thigh_width","knee_width","calf_width","pant_sleeve_width","shoe_inside_length","shoe_inside_width","hat_width","hood_height","LOCALIZED_STR_longs","$","sizeText","txt","retStr","split","getFit","fitValue","returnFit","singleFit","FIT_RANGES","hasOwnProperty","addIds","parentElement","each","myVal","val","myText","text","addClass","id","sizeme_product","item","measurements","sizeKeys","push","key","sizeLabel","loadArrows","isSizeGuide","$i","$x","itemTypeStr","itemType","toString","arrowColor","arrowColorGreen","arcStyle","arrowColorBlack","measurement_arrows","mirror","coords","X","Y","style","lift","color","cp1X","cp1Y","cp2X","cp2Y","midCircle","item_drawing","accents","type","noMirror","R","FIT_ORDER","splice","Math","round","$base_y","getSliderHtml","systemsGo","sliderHtml","basePosX","cellTitle","sizeme_local_options","fitAreaSlider","perc_width","sliderScale","sliderPos","offset","returnPos","min","sliderPosXMax","sliderPosXMin","max","killExtraSlider","remove","drawExtraSlider","hide","appendTo","fadeIn","fadeLength","newWidth","width","moveSlider","shouldAnimate","stop","animate","moveAreaSlider","matchMap","endX","startX","newMarginLeft","smallestFit","biggestFit","measurement","isImportant","importance","componentFit","marginLeft","css","goWriteMessages","missingMeasurements","accuracy","$message","$message_type","empty","selectedProfile","largestFit","length","accuracyThreshold","attr","linkToSelectedProfile","selectToButtons","element","numClass","$content","document","createElement","thisId","thisLabel","thisClass","thisVal","$div","on","find","removeClass","sizeme_UI_options","sizeSelectionContainer","change","SizeMe","trackEvent","append","getMaxY","data","i","getMaxX","getMinX","getMinY","getArced","p1","p2","dX","arcRadius","liftCoords","nX","nY","dY","angleA","atan2","sin","arrowLift","cos","getMidPoints","mid","plotItem","c","isArrow","scale","offsetX","offsetY","highlighted","pX","coord","pY","j","lcp","beginPath","lineWidth","arrowLineWidth","moveTo","bezierCurveTo","lineTo","stroke","arc","arrowEndRadius","PI","fill","rad","arrowNumberRadius","fillStyle","font","arrowNumberFont","textAlign","textBaseline","arrowNumberHighlightFont","fillText","num","fillColor","strokeStyle","drawColor","itemLineWidth","lineCap","lineJoin","miterLimit","realCanvasWidth","writeItemCanvas","canvas_id","highlight","getElementById","getContext","realCanvasHeight","canvasWidth","padding","canvasHeight","maxX","maxY","inputKey","draw","Object","keys","initOpentip","Opentip","lastZIndex","styles","myDefaultStyle","group","defaultStyle","hasNeckOpening","isInside","noThanks","readCookie","noProductSplash","writeDetailedWindow","itemName","name","txts","linkTarget","appendContentTo","$dialog","dialog","position","my","at","of","autoOpen","dialogClass","minHeight","minWidth","title","click","$clone","clone","$slider_clone","end","$matchMap","$txt","sizeme_options","service_status","contextAddress","clearAuthToken","eraseCookie","colorCell","$cell","value","arrow","arrowColorInfo","selectedFit","getMissingMeasurement","isPinched","PINCHED_FITS","indexOf","isLongFit","LONG_FITS","isPinchedTxt","getStretchedTxt","stretch_value","updateDetailedTable","$row","$tip","$table","html","$tip_txts","$tip_classes","writeOverlaps","drawReason","toLowerCase","overlap","toFixed","$sleeve_txt","$sleeve_height","percentage","$meas_top","componentStretch","replace","$fitVerdict","className","missing","$class","$j","$first","updateDetailedSliderTip","thisSize","thisFit","$trigger","$tip_txt","updateSlider","thisData","isRecommended","detailedContainer","animateSlider","totalFit","fitRangeLabel","writeMessages","getStandardHeader","headerHtml","getSplashDetailed","getProductSplash","splashHtml","findMaxMeasurement","maxVal","measurement_set","key_2","Storage","withStorage","storage","removeItem","getAuthToken","deferred","Deferred","storedToken","storedTokenObj","getItem","JSON","parse","undefined","expires","Date","getTime","token","resolve","reject","state","authTokenObj","setItem","stringify","promise","sizeMeInit","authorizedCb","unauthorizedCb","then","authToken","sizeMe","smObj","isLoggedIn","createCookie","days","date","setTime","toGMTString","cookie","ca","trim","recommendedId",1,940,1000,1055,1110,1165,1225,"OPTIMAL_FIT","recommendedLabel","cookieLifetime","firstRecommendation","DataStorage","storageAvailable","_tstorage","x","e","prototype","callback","i18n","buttonize","addToCartEvent","addToCartElement","getMatchResponseHandler","prodId","responseMap","smallestOffset","result","classKey","fitOffset","abs","show","detailedViewContainer","recommendedInput","matchErrorHandler","console","error","loggedInCb","sizeMeObj","setProfileLink","doProfileChange","newValue","match","FitRequest","fetchProfilesForAccount","profileList","cookieProfile","$new","toggleClass","select","profileName","loggedOutCb","splashContent","loginFrame","trigger","appendSplashTo","slideUp","jQuery"],"mappings":"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","file":"sizeme-ui.min.js","sourcesContent":["(function(window) {\n    \"use strict\";\n\n    var SizeMeI18N = function (defaultLang) {\n        var defLang = defaultLang || \"en\";\n\n        var languages = {};\n        languages[defLang] = {};\n\n        this.add = function (lang, langObj) {\n            languages[lang] = langObj;\n        };\n\n        this.get = function (lang) {\n            return languages[lang] || languages[defLang];\n        };\n    };\n\n    window.SizeMeI18N = new SizeMeI18N(\"en\");\n\n})(window);\n(function (window) {\n    \"use strict\";\n\n    window.SizeMeI18N.add(\"en\",\n        {\n            LOCALIZED_STR: {\n                not_fitted: \"Too small\",\n                too_small: \"Too small\",\n                slim: \"Slim\",\n                regular: \"Regular\",\n                loose: \"Loose\",\n                very_loose: \"Very loose\",\n                huge: \"Huge\",\n                too_big: \"Too big\",\n\n                chest: \"Chest\",\n                waist: \"Waist\",\n                sleeve: \"Sleeve\",\n                sleeve_top_width: \"Sleeve top\",\n                sleeve_top_opening: \"Sleeve opening\",\n                wrist_width: \"Wrist\",\n                underbust: \"Underbust\",\n                neck_opening_width: \"Collar\",\n                shoulder_width: \"Shoulder\",\n                front_height: \"Front height\",\n                pant_waist: \"Pant waist\",\n                hips: \"Hips\",\n                inseam: \"Inseam\",\n                outseam: \"Outseam\",\n                thigh_width: \"Thigh\",\n                knee_width: \"Knee\",\n                calf_width: \"Calf\",\n                pant_sleeve_width: \"Leg opening\",\n                shoe_inside_length: \"Shoe length\",\n                shoe_inside_width: \"Shoe width\",\n                hat_width: \"Hat circumference\",\n                hood_height: \"Hood height\"\n            },\n\n            LOCALIZED_STR_longs: {\n                not_fitted: \"Too short\",\n                too_small: \"Too short\",\n                slim: \"Short\",\n                regular: \"Regular\",\n                loose: \"Long\",\n                very_loose: \"Very long\",\n                huge: \"Huge\",\n                too_big: \"Too long\"\n            }\n        }\n    );\n\n})(window);\n(function (window) {\n    \"use strict\";\n\n    window.SizeMeI18N.add(\"fi\",\n        {\n            LOCALIZED_STR: {\n                not_fitted: \"Too small\",\n                too_small: \"Too small\",\n                slim: \"Slim\",\n                regular: \"Regular\",\n                loose: \"Loose\",\n                very_loose: \"Very loose\",\n                huge: \"Huge\",\n                too_big: \"Too big\",\n\n                chest: \"Chest\",\n                waist: \"Waist\",\n                sleeve: \"Sleeve\",\n                sleeve_top_width: \"Sleeve top\",\n                sleeve_top_opening: \"Sleeve opening\",\n                wrist_width: \"Wrist\",\n                underbust: \"Underbust\",\n                neck_opening_width: \"Collar\",\n                shoulder_width: \"Shoulder\",\n                front_height: \"Front height\",\n                pant_waist: \"Pant waist\",\n                hips: \"Hips\",\n                inseam: \"Inseam\",\n                outseam: \"Outseam\",\n                thigh_width: \"Thigh\",\n                knee_width: \"Knee\",\n                calf_width: \"Calf\",\n                pant_sleeve_width: \"Leg opening\",\n                shoe_inside_length: \"Shoe length\",\n                shoe_inside_width: \"Shoe width\",\n                hat_width: \"Hat circumference\",\n                hood_height: \"Hood height\"\n            },\n\n            LOCALIZED_STR_longs: {\n                not_fitted: \"Too short\",\n                too_small: \"Too short\",\n                slim: \"Short\",\n                regular: \"Regular\",\n                loose: \"Long\",\n                very_loose: \"Very long\",\n                huge: \"Huge\",\n                too_big: \"Too long\"\n            }\n        }\n    );\n\n})(window);\n// SizeMe UI JS v1.0\n// based on SizeMe Item Types 2015-10-01\n// (c) SizeMe Inc.\n// www.sizeme.com\n// License undecided\n/* jshint browser:true, jquery:true */\n/* globals sizeme_product: false, sizeme_options: false, sizeme_UI_options: false, Opentip: false, SizeMe: false */\n\n(function($) {\n    \"use strict\";\n\n    var LOCALIZED_STR = {};\n    var LOCALIZED_STR_longs = {};\n\n    var FIT_RANGES = {\n        1: {text: \"too_small\", arrowColor: \"#999999\"},\n        940: {text: \"too_small\", arrowColor: \"#BB5555\"},\n        1000: {text: \"slim\", arrowColor: \"#457A4C\"},\n        1055: {text: \"regular\", arrowColor: \"#42AE49\"},\n        1110: {text: \"loose\", arrowColor: \"#87B98E\"},\n        1165: {text: \"too_big\", arrowColor: \"#BB5555\"},\n        1225: {text: \"too_big\", arrowColor: \"#BB5555\"}\n    };\n\n    var sliderPosXMin = 940;\n    var sliderPosXMax = 1225;\n\tvar sliderScale = 100 / (sliderPosXMax - sliderPosXMin);\n\n    var FIT_ORDER = [\n        \"chest\",\n        \"waist\",\n        \"underbust\",\n        \"pant_waist\",\n        \"hips\",\n        \"inseam\",\n        \"outseam\",\n        \"thigh_width\",\n        \"knee_width\",\n        \"calf_width\",\n        \"pant_sleeve_width\",\n        \"neck_opening_width\",\n        \"shoulder_width\",\n        \"sleeve_top_width\",\n        \"sleeve_top_opening\",\n        \"sleeve\",\n        \"wrist_width\",\n        \"front_height\",\n        \"shoe_inside_length\",\n        \"shoe_inside_width\",\n        \"hat_width\",\n        \"hood_height\"\n    ];\n\n    var PINCHED_FITS = [\n        \"chest\",\n        \"waist\",\n        \"underbust\",\n        \"pant_waist\",\n        \"hips\",\n        \"thigh_width\",\n        \"knee_width\",\n        \"calf_width\",\n        \"pant_sleeve_width\",\n        \"neck_opening_width\",\n        \"sleeve_top_width\",\n        \"sleeve_top_opening\",\n        \"wrist_width\",\n        \"hat_width\"\n    ];\n\n    var LONG_FITS = [\n        \"inseam\",\n        \"outseam\",\n        \"sleeve\",\n        \"front_height\",\n\t\t\"shoe_inside_length\"\n    ];\n\n    var OPTIMAL_FIT = 1070;\n\n    var realCanvasWidth = 350;\n    var realCanvasHeight = 480;\n    var padding = 0.07;\n\n    var drawColor = '#777777';\n    var fillColor = '#BBBBBB';\n    var arrowColor;\n    var arrowColorGreen = '#42AE49';\n    var arrowColorBlack = '#000000';\n    var arrowColorInfo = '#666666';\n\n    var itemLineWidth = 1;\n    var arrowLineWidth = 2;\n    var arrowEndRadius = 4;\n    var arrowNumberRadius = 10;\n    var arrowNumberFont = \"10px sans-serif\";\n    var arrowNumberHighlightFont = \"bold 14px sans-serif\";\n    var arrowLift = 30;\n    var arcRadius = 10;\n\n    var fadeLength = 400;\n\n    var item_drawing = {};\n    var measurement_arrows = {};\n\n    var sizeKeys = [];\n\n    var recommendedId;\n    var recommendedLabel = \"None\";\n\n    var selectedProfile;\n    var linkToSelectedProfile;\n\n    var accuracyThreshold = 0.01;\n\n    var cookieLifetime = 90;\n\n    var itemName = \"\";\n\n    var sizeme_local_options = {\n        fitAreaSlider: true,\n        writeMessages: true,\n        writeOverlaps: true,\n\t\tfirstRecommendation: true\n    };\n\n    function sizeText(txt) {\n        var retStr = txt;\n        retStr = retStr.split(\" -\")[0];\n        retStr = retStr.split(\" +\")[0];\n        return retStr;\n    }\n\n    function getFit(fitValue) {\n        var returnFit, singleFit;\n        for (singleFit in FIT_RANGES) {\n            if (FIT_RANGES.hasOwnProperty(singleFit)) {\n                if (fitValue < singleFit) {\n                    if (returnFit) {\n                        return returnFit;\n                    }\n                    return FIT_RANGES[singleFit];\n                }\n                returnFit = FIT_RANGES[singleFit];\n            }\n        }\n        return returnFit;\n    }\n\n    function addIds(parentElement) {\n        // add ids to select for easy handling\n        $(parentElement + \" option\").each(function () {\n            var myVal = $(this).val();\n            var myText = $(this).text();\n            $(this).addClass(\"sm-selectable element_for_\" + myVal);\n            this.id = (myVal ? \"input_\" + myVal : \"choose\");\n            if (myVal) {\n                if (sizeme_product.item.measurements[myVal]) {\n                    sizeKeys.push({key: myVal, sizeLabel: myText});\n                }\n            }\n        });\n    }\n\n    function loadArrows(isSizeGuide) {\n        var itemTypeStr = sizeme_product.item.itemType.toString(),\n            $i, $x;\n\n        // arrows first\n        arrowColor = arrowColorGreen;\n        var arcStyle = \"arc\";\n\n        if (isSizeGuide) {\n            arrowColor = arrowColorBlack;\n            arcStyle = \"line\"; // size guide shows flat measurements (except neck opening)\n        }\n\n        measurement_arrows.chest = { mirror: false, coords: [{X: -250,Y: 399},{X: 250,Y: 399}], style: arcStyle, lift: false, color: arrowColor };\n        measurement_arrows.waist = { mirror: false, coords: [{X: -250,Y: 635},{X: 250,Y: 635}], style: arcStyle, lift: false, color: arrowColor };\n        measurement_arrows.front_height = { mirror: false, coords: [{X: -174,Y: 0},{X: -174,Y: 978}], style: \"line\", lift: false, color: arrowColor };\n        measurement_arrows.neck_opening_width = {\n            mirror: false,\n            coords: [{X: 0,Y: 47}, {X: 174,Y: 0, cp1X: 65, cp1Y: 45, cp2X: 140, cp2Y: 23}, {X: 0,Y: 100, cp1X: 150, cp1Y: 46, cp2X: 50, cp2Y: 92},\n                {X: -174,Y: 0, cp1X: -50, cp1Y: 92, cp2X: -150, cp2Y: 46}, {X: 0,Y: 47, cp1X: -140, cp1Y: 23, cp2X: -65, cp2Y: 45}],\n            style: \"line\",\n            lift: true,\n            color: arrowColor};\n\n        measurement_arrows.hood_height = { mirror: false, coords: [{X: 195,Y: -5},{X: 195,Y: -390}], style: \"line\", lift: false, color: arrowColor };\n        measurement_arrows.shoulder_width = { mirror: false, coords: [{X: -329,Y: 42},{X: -164,Y: -7}], style: \"line\", lift: true, color: arrowColor };\n\n        measurement_arrows.pant_waist = { mirror: false, coords: [{X: -232,Y: 0},{X: 222,Y: 0}], style: arcStyle, lift: true, color: arrowColor };\n        measurement_arrows.hips = { mirror: false, coords: [{X: -261,Y: 171}, {X: 263,Y: 171}], style: arcStyle, lift: false, color: arrowColor };\n        measurement_arrows.outseam = { mirror: false, coords: [{X: 222,Y: 0},{X: 263,Y: 171},{X: 302,Y: 1071}], style: \"line\", lift: true, color: arrowColor };\n        measurement_arrows.inseam = { mirror: false, coords: [{X: 5,Y: 297},{X: 151, Y: 1084}], style: \"line\", lift: false, color: arrowColor };\n        measurement_arrows.thigh_width = { mirror: false, coords: [{X: -266,Y: 274},{X: -17,Y: 297}], style: arcStyle, lift: false, color: arrowColor };\n        measurement_arrows.knee_width = { mirror: false, coords: [{X: -286,Y: 727},{X: -93,Y: 744}], style: arcStyle, lift: false, color: arrowColor };\n        measurement_arrows.pant_sleeve_width = { mirror: false, coords: [{X: -301,Y: 1071},{X: -152,Y: 1084}], style: arcStyle, lift: false, color: arrowColor };\n\n        measurement_arrows.shoe_inside_length = { mirror: false, coords: [{X: 169,Y: 984},{X: 132,Y: 18}], style: \"line\", lift: false, color: arrowColor };\n\n        measurement_arrows.hat_width = {\n            mirror: false,\n            coords: [{X: 534,Y: 238},\n                {X: 539,Y: 265, cp1X: 559, cp1Y: 236, cp2X: 567, cp2Y: 252},\n                {X: 70,Y: 262, cp1X: 352, cp1Y: 353, cp2X: 223, cp2Y: 351},\n                {X: 77,Y: 242, cp1X: 38, cp1Y: 241, cp2X: 60, cp2Y: 234}],\n            midCircle: {X: 300, Y: 325},\n            style: \"line\",\n            lift: false,\n            color: arrowColor };\n\n        item_drawing.mirror = true;\n        item_drawing.coords = [];\n        item_drawing.accents = [];\n        // load item drawing\n        switch (itemTypeStr[0]) {\n\n            case '1':\t// shirts/coats\n                LOCALIZED_STR.hips = \"Hem\";\n                LOCALIZED_STR.pant_waist = \"Hem\";\n\n                switch (itemTypeStr[1]) { // collar\n                    case '2':\t// tight (turnover)\n                        item_drawing.coords.push({X: 0,Y: -60},{X: 119,Y: -48, cp1X: 68, cp1Y: -60, cp2X: 106, cp2Y: -57}, {X: 128,Y: 0});\n                        item_drawing.accents.push({type: \"area\", coords: [\t{X: 0,Y: -47},\n                            {X: 100,Y: -35, cp1X: 64, cp1Y: -48, cp2X: 105, cp2Y: -47},\n                            {X: -5,Y: 59, cp1X: 66, cp1Y: 8, cp2X: 6, cp2Y: 40},\n                            {X: -104,Y: -34, cp1X: -25, cp1Y: 32, cp2X: -93, cp2Y: -12},\n                            {X: 0,Y: -46, cp1X: -117, cp1Y: -48, cp2X: -52, cp2Y: -48}\n                        ], noMirror: true});\n                        item_drawing.accents.push({type: \"line\", coords:[\t{X: 129,Y: 0},\n                            {X: 136,Y: 26, cp1X: 132, cp1Y: 14, cp2X: 133, cp2Y: 18},\n                            {X: 78,Y: 125, cp1X: 123, cp1Y: 63, cp2X: 100, cp2Y: 95},\n                            {X: 37,Y: 78, cp1X: 60, cp1Y: 106, cp2X: 51, cp2Y: 101},\n                            {X: -12,Y: 111, cp1X: 24, cp1Y: 8, cp2X: -32, cp2Y: 66}\n                        ], noMirror: true});\t// non mirrored turnover collar right\n                        item_drawing.accents.push({type: \"line\", coords:[\t{X: -129,Y: 0},\n                            {X: -136,Y: 26, cp1X: -132, cp1Y: 14, cp2X: -133, cp2Y: 18},\n                            {X: -90,Y: 127, cp1X: -127, cp1Y: 68, cp2X: -106, cp2Y: 110},\n                            {X: -9,Y: 59, cp1X: -33, cp1Y: 88, cp2X: -61, cp2Y: 25}\n                        ], noMirror: true});\t// non mirrored turnover collar left\n                        item_drawing.accents.push({type: \"circle\", coords: [{X: 0,Y: 100, R: 5}]});\n                        measurement_arrows.neck_opening_width = {\n                            mirror: false,\n                            coords: [{X: 0,Y: -47}, {X: 100,Y: -35, cp1X: 64, cp1Y: -48, cp2X: 105, cp2Y: -47},\n                                {X: -5,Y: 59, cp1X: 66, cp1Y: 8, cp2X: 6, cp2Y: 40}, {X: -104,Y: -34, cp1X: -25, cp1Y: 32, cp2X: -93, cp2Y: -12},\n                                {X: 0,Y: -46, cp1X: -117, cp1Y: -48, cp2X: -52, cp2Y: -48}],\n                            style: \"line\",\n                            lift: false,\n                            midCircle: {X: 0, Y: -47},\n                            color: arrowColor};\n                        measurement_arrows.shoulder_width = { mirror: false, coords: [{X: -329,Y: 49},{X: -129,Y: -5}], style: \"line\", lift: true, color: arrowColor };\n                        measurement_arrows.front_height = { mirror: false, coords: [{X: -167,Y: -4},{X: -167,Y: 978}], style: \"line\", lift: false, color: arrowColor };\n\n                        break;\n                    case '3':\t// hood\n                        item_drawing.coords.push({X: 0,Y: -390},{X: 185,Y: 6, cp1X: 180, cp1Y: -400, cp2X: 160, cp2Y: -20});\n                        item_drawing.accents.push({type: \"line\", coords: [{X: 185,Y: 6}, {X: 0,Y: 123, cp1X: 140, cp1Y: 70, cp2X: 70, cp2Y: 100}]});\t// basic round collar line\n                        item_drawing.accents.push({type: \"area\", coords: [{X: 0,Y: -320}, {X: 144,Y: 0, cp1X: 150, cp1Y: -320, cp2X: 140, cp2Y: -20}, {X: 0,Y: 100, cp1X: 140, cp1Y: 46, cp2X: 40, cp2Y: 92}]}); // hood area\n                        measurement_arrows.shoulder_width = { mirror: false, coords: [{X: -329,Y: 42},{X: -174,Y: -7}], style: \"line\", lift: true, color: arrowColor };\n                        break;\n                    case '5':\t// open high round\n                        item_drawing.coords.push({X: 0,Y: 90},{X: 189,Y: 0});\n                        item_drawing.accents.push({type: \"line\", coords: [{X: 210,Y: 6}, {X: 0,Y: 123, cp1X: 165, cp1Y: 70, cp2X: 100, cp2Y: 123}]});\t// open round collar line\n                        item_drawing.accents.push({type: \"area\", coords: [{X: 0,Y: 49}, {X: 189,Y: 0, cp1X: 100, cp1Y: 47, cp2X: 155, cp2Y: 23}, {X: 0,Y: 102, cp1X: 165, cp1Y: 46, cp2X: 95, cp2Y: 102}]}); // open collar area\n                        break;\n                    case '6':\t// open low round\n                        item_drawing.coords.push({X: 0,Y: 180},{X: 164,Y: 0});\n                        item_drawing.accents.push({type: \"line\", coords: [{X: 181,Y: 5}, {X: 0,Y: 196, cp1X: 146, cp1Y: 196, cp2X: 50, cp2Y: 196}]});\t// collar line\n                        item_drawing.accents.push({type: \"area\", coords: [{X: 0,Y: 47}, {X: 164,Y: 0, cp1X: 55, cp1Y: 45, cp2X: 130, cp2Y: 23}, {X: 0,Y: 180, cp1X: 130, cp1Y: 180, cp2X: 45, cp2Y: 180}]}); // basic area\n                        break;\n                    case '7':\t// v-style high\n                        item_drawing.coords.push({X: 0,Y: 90},{X: 189,Y: 0});\n                        item_drawing.accents.push({type: \"line\", coords: [{X: 210,Y: 6}, {X: 0,Y: 123, cp1X: 165, cp1Y: 70, cp2X: 80, cp2Y: 100}]});\t// open round collar line\n                        item_drawing.accents.push({type: \"area\", coords: [{X: 0,Y: 47}, {X: 189,Y: 0, cp1X: 80, cp1Y: 45, cp2X: 155, cp2Y: 23}, {X: 0,Y: 100, cp1X: 165, cp1Y: 46, cp2X: 65, cp2Y: 92}]}); // open collar area\n                        break;\n                    case '8':\t// v-style low\n                        item_drawing.coords.push({X: 0,Y: 90},{X: 189,Y: 0});\n                        item_drawing.accents.push({type: \"line\", coords: [{X: 210,Y: 6}, {X: 0,Y: 123, cp1X: 165, cp1Y: 70, cp2X: 80, cp2Y: 100}]});\t// open round collar line\n                        item_drawing.accents.push({type: \"area\", coords: [{X: 0,Y: 47}, {X: 189,Y: 0, cp1X: 80, cp1Y: 45, cp2X: 155, cp2Y: 23}, {X: 0,Y: 100, cp1X: 165, cp1Y: 46, cp2X: 65, cp2Y: 92}]}); // open collar area\n                        break;\n                    default:\t// elastic round\n                        item_drawing.coords.push({X: 0,Y: 90},{X: 164,Y: 0});\n                        item_drawing.accents.push({type: \"line\", coords: [{X: 185,Y: 6}, {X: 0,Y: 110, cp1X: 140, cp1Y: 70, cp2X: 70, cp2Y: 108}]});\t// basic round collar line\n                        item_drawing.accents.push({type: \"area\", coords: [{X: 0,Y: 47}, {X: 164,Y: 0, cp1X: 55, cp1Y: 45, cp2X: 130, cp2Y: 23}, {X: 0,Y: 90, cp1X: 140, cp1Y: 46, cp2X: 55, cp2Y: 90}]}); // basic area\n                        break;\n                }\n\n                switch (itemTypeStr[3]) { // sleeve length\n                    case '0':\t// tank top, string top or poncho\n                    case '1':\t// very short (vest)\n                        item_drawing.coords.push({X: 289,Y: 34});\n                        item_drawing.coords.push({X: 250,Y: 399, cp1X: 285, cp1Y: 44, cp2X: 220, cp2Y: 389});\n                        measurement_arrows.shoulder_width = { mirror: false, coords: [{X: -299,Y: 32},{X: -164,Y: -7}], style: \"line\", lift: true, color: arrowColor };\n\t\t\t\t\t\tmeasurement_arrows.sleeve_top_width = { mirror: false, coords: [{X: 250,Y: 399},{X: 289,Y: 34}], style: arcStyle, lift: false, color: arrowColor };\n\n                        if (itemTypeStr[4] !== '0') {\n\t\t\t\t\t\t\t// is it you, poncho?\n                            item_drawing.coords.push({X: 250,Y: 399, cp1X: 328, cp1Y: 44, cp2X: 250, cp2Y: 260});\n                            FIT_ORDER.splice(13, 1);  // remove sleeve top\n                            measurement_arrows.sleeve_top_width = false;\n                        }\n                        break;\n                    case '2':  // short\n                    case '3':  // short-medium (normal t-shirt)\n                        item_drawing.coords.push({X: 329,Y: 44});\n                        item_drawing.coords.push({X: 482,Y: 460},{X: 324,Y: 529});\n                        item_drawing.coords.push({X: 250,Y: 399});\n\n                        measurement_arrows.sleeve_top_width = { mirror: false, coords: [{X: 250,Y: 399},{X: 430,Y: 322}], style: arcStyle, lift: false, color: arrowColor };\n                        measurement_arrows.wrist_width = { mirror: false, coords: [{X: 324,Y: 529},{X: 482,Y: 460}], style: arcStyle, lift: false, color: arrowColor };\n                        LOCALIZED_STR.wrist_width = \"Sleeve opening\";\n\n\t\t\t\t\t\tswitch (itemTypeStr[2]) { // shoulder types\n\t\t\t\t\t\t\tcase '3':\t// dropped\n\t\t\t\t\t\t\t\titem_drawing.accents.push({type: \"line\", coords: [{X: 250,Y: 399}, {X: 381,Y: 184}]});\n\t\t\t\t\t\t\t\tmeasurement_arrows.sleeve = { mirror: false, coords: [{X: 174,Y: -16}, {X: 329,Y: 27},{X: 482,Y: 460}], style: \"line\", lift: true, midCircle: {X: 406, Y: 243}, color: arrowColor };\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '2':\t// raglan line\n\t\t\t\t\t\t\t\titem_drawing.accents.push({type: \"line\", coords: [{X: 250,Y: 399}, {X: 185,Y: 6, cp1X: 220, cp1Y: 320, cp2X: 185, cp2Y: 6}]});\n\t\t\t\t\t\t\t\tmeasurement_arrows.sleeve = { mirror: false, coords: [{X: 174,Y: -16}, {X: 329,Y: 27},{X: 482,Y: 460}], style: \"line\", lift: true, midCircle: {X: 406, Y: 243}, color: arrowColor };\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '1':\t// normal shoulder line\n\t\t\t\t\t\t\t\tmeasurement_arrows.sleeve = { mirror: false, coords: [{X: 329,Y: 44},{X: 482,Y: 460}], style: \"line\", lift: true, color: arrowColor };\n\t\t\t\t\t\t\t\titem_drawing.accents.push({type: \"line\", coords: [{X: 250,Y: 399}, {X: 329,Y: 44, cp1X: 250, cp1Y: 250, cp2X: 300, cp2Y: 70}]});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n                        break;\n                    case '4':  // medium\n                    case '5':  // semi-long\n                        item_drawing.coords.push({X: 329,Y: 44});\n                        item_drawing.coords.push({X: 527,Y: 719},{X: 389,Y: 769});\n                        item_drawing.coords.push({X: 250,Y: 399});\n\n                        measurement_arrows.sleeve_top_width = { mirror: false, coords: [{X: 250,Y: 399},{X: 419,Y: 340}], style: arcStyle, lift: false, color: arrowColor };\n                        measurement_arrows.wrist_width = { mirror: false, coords: [{X: 389,Y: 769},{X: 527,Y: 719}], style: arcStyle, lift: false, color: arrowColor };\n                        LOCALIZED_STR.wrist_width = \"Sleeve opening\";\n\n\t\t\t\t\t\tswitch (itemTypeStr[2]) { // shoulder types\n\t\t\t\t\t\t\tcase '3':\t// dropped\n\t\t\t\t\t\t\t\titem_drawing.accents.push({type: \"line\", coords: [{X: 250,Y: 399}, {X: 369,Y: 196}]});\n\t\t\t\t\t\t\t\tmeasurement_arrows.sleeve = { mirror: false, coords: [{X: 174,Y: -16}, {X: 329,Y: 27},{X: 527,Y: 719}], style: \"line\", lift: true, midCircle: {X: 450, Y: 444}, color: arrowColor };\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '2':\t// raglan line\n\t\t\t\t\t\t\t\titem_drawing.accents.push({type: \"line\", coords: [{X: 250,Y: 399}, {X: 185,Y: 6, cp1X: 220, cp1Y: 320, cp2X: 185, cp2Y: 6}]});\n\t\t\t\t\t\t\t\tmeasurement_arrows.sleeve = { mirror: false, coords: [{X: 174,Y: -16}, {X: 329,Y: 27},{X: 527,Y: 719}], style: \"line\", lift: true, midCircle: {X: 450, Y: 444}, color: arrowColor };\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '1':\t// normal shoulder line\n\t\t\t\t\t\t\t\tmeasurement_arrows.sleeve = { mirror: false, coords: [{X: 329,Y: 44},{X: 527,Y: 719}], style: \"line\", lift: true, color: arrowColor };\n\t\t\t\t\t\t\t\titem_drawing.accents.push({type: \"line\", coords: [{X: 250,Y: 399}, {X: 329,Y: 44, cp1X: 250, cp1Y: 250, cp2X: 300, cp2Y: 70}]});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n                    case '6':  // long\n                    case '7':  // very long\n                    case '8':  // extra long\n                        item_drawing.coords.push({X: 329,Y: 44});\n\t\t\t\t\t\tmeasurement_arrows.sleeve_top_width = { mirror: false, coords: [{X: 250,Y: 399},{X: 410,Y: 348}], style: arcStyle, lift: false, color: arrowColor };\n\n                        if (itemTypeStr[4] === '1') {\t// elastic\n                            item_drawing.coords.push({X: 556,Y: 902},{X: 547,Y: 930}, {X: 557,Y: 978},{X: 463,Y: 998},{X: 449,Y: 951},{X: 430,Y: 934});\n                            item_drawing.accents.push({type: \"line\", coords: [{X: 465,Y: 944}, {X: 476,Y: 996}]},\n                                {type: \"line\", coords: [{X: 476,Y: 941}, {X: 487,Y: 993}]},\n                                {type: \"line\", coords: [{X: 487,Y: 938}, {X: 498,Y: 990}]},\n                                {type: \"line\", coords: [{X: 498,Y: 935}, {X: 509,Y: 987}]},\n                                {type: \"line\", coords: [{X: 509,Y: 932}, {X: 520,Y: 984}]},\n                                {type: \"line\", coords: [{X: 520,Y: 929}, {X: 531,Y: 981}]},\n                                {type: \"line\", coords: [{X: 531,Y: 926}, {X: 542,Y: 978}]});\n                            item_drawing.coords.push({X: 250,Y: 399});\n                            measurement_arrows.wrist_width = { mirror: false, coords: [{X: 430,Y: 934}, {X: 556,Y: 902}], style: arcStyle, lift: false, color: arrowColor };\n                        } else {\n                            item_drawing.coords.push({X: 571,Y: 978},{X: 454,Y: 1009});\n                            item_drawing.coords.push({X: 250,Y: 399});\n\t\t\t\t\t\t\tmeasurement_arrows.wrist_width = { mirror: false, coords: [{X: 571,Y: 978},{X: 454,Y: 1009}], style: arcStyle, lift: false, color: arrowColor };\n                        }\n\n\t\t\t\t\t\tswitch (itemTypeStr[2]) { // shoulder types\n\t\t\t\t\t\t\tcase '3':\t// dropped\n\t\t\t\t\t\t\t\titem_drawing.accents.push({type: \"line\", coords: [{X: 250,Y: 399}, {X: 369,Y: 196}]});\n\t\t\t\t\t\t\t\tmeasurement_arrows.sleeve = { mirror: false, coords: [{X: 174,Y: -16}, {X: 329,Y: 27},{X: 571,Y: 978}], style: \"line\", lift: true, midCircle: {X: 437, Y: 444}, color: arrowColor };\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '2':\t// raglan line\n\t\t\t\t\t\t\t\titem_drawing.accents.push({type: \"line\", coords: [{X: 250,Y: 399}, {X: 185,Y: 6, cp1X: 220, cp1Y: 320, cp2X: 185, cp2Y: 6}]});\n\t\t\t\t\t\t\t\tmeasurement_arrows.sleeve = { mirror: false, coords: [{X: 174,Y: -16}, {X: 329,Y: 27},{X: 571,Y: 978}], style: \"line\", lift: true, midCircle: {X: 437, Y: 444}, color: arrowColor };\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '1':\t// normal shoulder line\n\t\t\t\t\t\t\t\tmeasurement_arrows.sleeve = { mirror: false, coords: [{X: 329,Y: 44},{X: 569,Y: 975}], style: \"line\", lift: true, color: arrowColor };\n\t\t\t\t\t\t\t\titem_drawing.accents.push({type: \"line\", coords: [{X: 250,Y: 399}, {X: 329,Y: 44, cp1X: 250, cp1Y: 250, cp2X: 300, cp2Y: 70}]});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n                        break;\n                }\n\n                switch (itemTypeStr[5]) { // waistband\n                    case '0':\t// poncho dude\n                        item_drawing.coords.push({X: 550,Y: 750, cp1X: 450, cp1Y: 70, cp2X: 450, cp2Y: 550});\n                        item_drawing.coords.push({X: 0,Y: 1038, cp1X: 450, cp1Y: 800, cp2X: 400, cp2Y: 1038});\n                        measurement_arrows.front_height = { mirror: false, coords: [{X: -174,Y: 5},{X: -174,Y: 1018}], style: \"line\", lift: false, color: arrowColor };\n                        measurement_arrows.sleeve = { mirror: false, coords: [{X: 174,Y: 0}, {X: 394,Y: 59},{X: 550,Y: 750}], style: \"line\", lift: true, midCircle: {X: 480, Y: 444}, color: arrowColor };\n                        break;\n                    case '3':\t// pant waist\n                        if (itemTypeStr[6] === '1') {\t// elastic\n                            item_drawing.coords.push({X: 250,Y: 908, cp1X: 247, cp1Y: 402, cp2X: 247, cp2Y: 858},{X: 230,Y: 978},{X: 0,Y: 978});\n                            for ($i = 0; $i<15; $i++) {\n                                $x = Math.round(($i+0.5)*(230/15));\n                                item_drawing.accents.push({type: \"line\", coords: [{X: $x,Y: 918}, {X: $x,Y: 978}]});\n                            }\n                            measurement_arrows.pant_waist = { mirror: false, coords: [{X: -250,Y: 908}, {X: 250,Y: 908}], style: arcStyle, lift: false, color: arrowColor };\n                        } else {\n                            item_drawing.coords.push({X: 250,Y: 978, cp1X: 245, cp1Y: 402, cp2X: 245, cp2Y: 928},{X: 0,Y: 978});\n                            measurement_arrows.pant_waist = { mirror: false, coords: [{X: -250,Y: 978}, {X: 250,Y: 978}], style: arcStyle, lift: false, color: arrowColor };\n                        }\n                        break;\n                    case '4':\t// hips\n                    /* falls through */\n                    case '5':\t// half-way-thigh\n                    /* falls through */\n                    default:\n                        var $base_y = 978;\n                        if (itemTypeStr[5] === '5') {\n                            $base_y = 1038;\n                        }\n                        if (itemTypeStr[6] === '1') {\t// elastic\n                            item_drawing.coords.push({X: 250,Y: $base_y, cp1X: 247, cp1Y: 402, cp2X: 247, cp2Y: 908},{X: 230,Y: ($base_y+60)},{X: 0,Y: ($base_y+60)});\n                            for ($i = 0; $i<15; $i++) {\n                                $x = Math.round(($i+0.5)*(230/15));\n                                item_drawing.accents.push({type: \"line\", coords: [{X: $x,Y: ($base_y+10)}, {X: $x,Y: ($base_y+60)}]});\n                            }\n                            measurement_arrows.front_height.coords[1].Y = ($base_y+60);\n                            measurement_arrows.hips = { mirror: false, coords: [{X: -250,Y: $base_y}, {X: 250,Y: $base_y}], style: arcStyle, lift: false, color: arrowColor };\n                        } else {\n                            item_drawing.coords.push({X: 250,Y: ($base_y+60), cp1X: 245, cp1Y: 402, cp2X: 245, cp2Y: $base_y},{X: 0,Y: ($base_y+60)});\n                            measurement_arrows.front_height.coords[1].Y = ($base_y+60);\n                            measurement_arrows.hips = { mirror: false, coords: [{X: -250,Y: ($base_y+60)}, {X: 250,Y: ($base_y+60)}], style: arcStyle, lift: false, color: arrowColor };\n                        }\n                        break;\n                }\n\n                break;\t// case 1 shirts/coats\n\n            case '2':\t// trousers/shorts\n                item_drawing.mirror = false; // for accents mainly\n                item_drawing.coords.push({X: -232,Y: 0},{X: 222,Y: 0, cp1X: -100, cp1Y: 10, cp2X: 90, cp2Y: 10},{X: 263,Y: 171});\n\n                switch (itemTypeStr[3]) { // sleeve\n                    case '1':\t// very short\n                    case '2':\t// short\n                    case '3':\t// short-medium\n                        item_drawing.coords.push({X: 278,Y: 449},{X: 38, Y: 474});\n                        break;\n                    case '4':\t// medium\n                        item_drawing.coords.push({X: 291,Y: 626},{X: 71, Y: 651});\n                        break;\n                    case '5':  // semi-long\n                    case '6':  // long\n                        item_drawing.coords.push({X: 302,Y: 1071},{X: 151, Y: 1084});\n                        break;\n                }\n\n                item_drawing.coords.push({X: 5,Y: 297},{X: -17,Y: 297});\n\n                switch (itemTypeStr[3]) { // sleeve again as not mirror\n                    case '1':\t// very short\n                    case '2':\t// short\n                    case '3':\t// short-medium\n                        item_drawing.coords.push({X: -38, Y: 474}, {X: -278,Y: 449});\n                        measurement_arrows.outseam = { mirror: false, coords: [{X: 222,Y: 0},{X: 263,Y: 171},{X: 278,Y: 449}], style: \"line\", lift: true, color: arrowColor };\n                        measurement_arrows.knee_width = { mirror: false, coords: [{X: -278,Y: 449},{X: -38,Y: 474}], style: arcStyle, lift: false, color: arrowColor };\n                        break;\n                    case '4':\t// medium\n                        item_drawing.coords.push({X: -71,Y: 651},{X: -291,Y: 626});\n                        measurement_arrows.outseam = { mirror: false, coords: [{X: 222,Y: 0},{X: 263,Y: 171},{X: 291,Y: 626}], style: \"line\", lift: true, color: arrowColor };\n                        measurement_arrows.knee_width = { mirror: false, coords: [{X: -291,Y: 626},{X: -71,Y: 651}], style: arcStyle, lift: false, color: arrowColor };\n                        break;\n                    case '5':  // semi-long\n                    case '6':  // long\n                        item_drawing.coords.push({X: -152,Y: 1084},{X: -301,Y: 1071});\n                        break;\n                }\n\n                item_drawing.coords.push({X: -261,Y: 171});\n                item_drawing.accents.push(\t{type: \"area\", coords: [{X: -232,Y: 0}, {X: 222,Y: 0, cp1X: -100, cp1Y: 10, cp2X: 90, cp2Y: 10}, {X: -232,Y: 0, cp1X: 122, cp1Y: 40, cp2X: -132, cp2Y: 40}]},\n                    {type: \"line\", coords: [{X: -237,Y: 37}, {X: 229,Y: 37, cp1X: -137, cp1Y: 76, cp2X: 129, cp2Y: 76}]},\n                    {type: \"line\", coords: [{X: -14,Y: 19}, {X: -8,Y: 297, cp1X: 3, cp1Y: 114, cp2X: 0, cp2Y: 215}]},\n                    {type: \"line\", coords: [{X: -4,Y: 254}, {X: 29,Y: 64, cp1X: 34, cp1Y: 242, cp2X: 35, cp2Y: 188}]},\n                    {type: \"line\", coords: [{X: -233,Y: 160}, {X: -147,Y: 81, cp1X: -182, cp1Y: 157, cp2X: -152, cp2Y: 123}]},\n                    {type: \"line\", coords: [{X: 150,Y: 85}, {X: 236,Y: 164, cp1X: 158, cp1Y: 128, cp2X: 195, cp2Y: 160}]});\n                if (itemTypeStr[6] === '4') {\t// rope waistband\n                    item_drawing.accents.push(\t{type: \"line\", coords: [{X: 9,Y: 49}, {X: 8,Y: 47, cp1X: -24, cp1Y: 168, cp2X: -69, cp2Y: 84}]},\n                        {type: \"line\", coords: [{X: 9,Y: 50}, {X: 8,Y: 49, cp1X: 47, cp1Y: 149, cp2X: 70, cp2Y: 99}]},\n                        {type: \"line\", coords: [{X: 9,Y: 49}, {X: 49,Y: 49, cp1X: 27, cp1Y: 59, cp2X: 36, cp2Y: 54}]},\n                        {type: \"line\", coords: [{X: 9,Y: 49}, {X: 9,Y: 64, cp1X: 11, cp1Y: 54, cp2X: 11, cp2Y: 54}]});\n                } else {\n                    item_drawing.accents.push({type: \"circle\", coords: [{X: 9,Y: 48, R: 10}]});\n                }\n\n                break; \t// case 2 trousers\n\n            case '3':\t// shoes for my friends\n                item_drawing.mirror = false;\n                item_drawing.coords = [\t{X: 130,Y: 0},{X: 363,Y: 456, cp1X: 240, cp1Y: 8, cp2X: 345, cp2Y: 214},\n                    {X: 328,Y: 633, cp1X: 358, cp1Y: 532, cp2X: 328, cp2Y: 564},{X: 182,Y: 999, cp1X: 330, cp1Y: 732, cp2X: 327, cp2Y: 994},\n                    {X: 48,Y: 628, cp1X: 3, cp1Y: 994, cp2X: 48, cp2Y: 789},\n                    {X: 0,Y: 340, cp1X: 42, cp1Y: 447, cp2X: 0, cp2Y: 444},{X: 130,Y: 0, cp1X: 0, cp1Y: 114, cp2X: 72, cp2Y: 0} ];\n                item_drawing.accents = [{type: \"area\", coords: [{X: 164,Y: 625}, {X: 266,Y: 716, cp1X: 270, cp1Y: 632, cp2X: 276, cp2Y: 638}, {X: 168,Y: 990, cp1X: 236, cp1Y: 982, cp2X: 208, cp2Y: 987},\n                    {X: 69,Y: 716, cp1X: 92, cp1Y: 978, cp2X: 83, cp2Y: 852}, {X: 164,Y: 625, cp1X: 64, cp1Y: 641, cp2X: 57, cp2Y: 628}]},\n                    {type: \"line\", coords: [{X: 103,Y: 431}, {X: 212,Y: 430, cp1X: 112, cp1Y: 404, cp2X: 203, cp2Y: 405}]},\n                    {type: \"line\", coords: [{X: 115,Y: 469}, {X: 200,Y: 469, cp1X: 121, cp1Y: 447, cp2X: 188, cp2Y: 450}]},\n                    {type: \"line\", coords: [{X: 115,Y: 506}, {X: 200,Y: 506, cp1X: 121, cp1Y: 484, cp2X: 188, cp2Y: 484}]},\n                    {type: \"line\", coords: [{X: 115,Y: 555}, {X: 200,Y: 555, cp1X: 121, cp1Y: 533, cp2X: 188, cp2Y: 533}]},\n                    {type: \"line\", coords: [{X: 164,Y: 539}, {X: 283,Y: 541, cp1X: 242, cp1Y: 523, cp2X: 279, cp2Y: 609}, {X: 164,Y: 539, cp1X: 277, cp1Y: 492, cp2X: 209, cp2Y: 515}]},\n                    {type: \"line\", coords: [{X: 164,Y: 539}, {X: 45,Y: 492, cp1X: 123, cp1Y: 517, cp2X: 34, cp2Y: 532}, {X: 164,Y: 539, cp1X: 65, cp1Y: 457, cp2X: 129, cp2Y: 509}]}\n                ];\n                break;\t// case 3 shoes\n\n            case '4':\t// hats off\n                switch (itemTypeStr[1]) {\n                    case '1':\t// bucket\n                        item_drawing.mirror = false;\n                        item_drawing.coords = [\t{X: 300,Y: 0},\n                            {X: 522,Y: 214, cp1X: 452, cp1Y: 17, cp2X: 458, cp2Y: 61},\n                            {X: 599,Y: 311, cp1X: 594, cp1Y: 245, cp2X: 601, cp2Y: 283},\n                            {X: 293,Y: 437, cp1X: 597, cp1Y: 361, cp2X: 494, cp2Y: 433},\n                            {X: 0,Y: 306, cp1X: 87, cp1Y: 433, cp2X: 2, cp2Y: 355},\n                            {X: 92,Y: 209, cp1X: 1, cp1Y: 258, cp2X: 44, cp2Y: 227},\n                            {X: 300,Y: 0, cp1X: 156, cp1Y: 28, cp2X: 186, cp2Y: 16} ];\n                        item_drawing.accents = [\n                            {type: \"line\", coords: [{X: 222,Y: 48}, {X: 367,Y: 43, cp1X: 269, cp1Y: 29, cp2X: 288, cp2Y: 64}]},\n                            {type: \"line\", coords: [{X: 523,Y: 214}, {X: 544,Y: 280},\n                                {X: 63,Y: 278, cp1X: 376, cp1Y: 368, cp2X: 209, cp2Y: 373}, {X: 92,Y: 209}]} ];\n                        break;\n                }\n                break;\t// case 4 hats\n\n        }\n    }\n\n\n    function getSliderHtml(systemsGo) {\n        var sliderHtml = \"\";\n        var basePosX = 0;\n        var cellTitle = \"\";\n        sliderHtml += \"<div class='sizeme_slider'>\";\n        if (systemsGo) {\n            sliderHtml += \"<div class='slider_text slider_text_above'></div>\";\n            sliderHtml += \"<div class='slider_container'>\";\n            sliderHtml += \"<div class='slider_bar'>\";\n            sliderHtml += \"</div>\";\n            if (sizeme_local_options.fitAreaSlider) {\n                sliderHtml += \"<div class='slider_area'></div>\";\n            }\n            sliderHtml += \"<table class='slider_table'><tr>\";\n            for (var singleFit in FIT_RANGES) {\n                if (FIT_RANGES.hasOwnProperty(singleFit)) {\n                    if (singleFit > 1) {\n                        if (basePosX !== 0) {\n\t\t\t\t\t\t\tvar perc_width = Math.round((singleFit - basePosX) * sliderScale);\n                            sliderHtml += \"<td class='\" + cellTitle + \"'\";\n                            sliderHtml += \" style='width: \" + perc_width + \"%; min-width: \" + perc_width + \"%;'>\";\n                            sliderHtml += LOCALIZED_STR[cellTitle];\n                            sliderHtml += \"</td>\";\n                        }\n                        basePosX = (+singleFit);\n                        cellTitle = FIT_RANGES[singleFit].text;\n                    }\n                }\n            }\n            sliderHtml += \"</tr></table>\";\n            sliderHtml += \"</div>\";\n        }\n        sliderHtml += \"<div class='slider_text slider_text_below'></div>\";\n        sliderHtml += \"<div class='slider_text slider_text_more_below'></div>\";\n        sliderHtml += \"</div>\";\n\n        return sliderHtml;\n    }\n\n    function sliderPos(fitValue, offset) {\n        var returnPos = (Math.min(fitValue, sliderPosXMax) - sliderPosXMin) * sliderScale;\n        returnPos = Math.max(0, returnPos);\n        returnPos += offset;   // with +offset for graphics\n\n        return returnPos;\n    }\n\n    function killExtraSlider() {\n        $(\"#slider_secondary\").remove();\n        return true;\n    }\n\n    function drawExtraSlider(fitValue) {\n        killExtraSlider(); // in case of hang arounds\n        var sliderHtml = \"<div class='slider_bar' id='slider_secondary'></div>\";\n        $(sliderHtml).hide().appendTo(\".sizeme_detailed_view_window .slider_container\").fadeIn(fadeLength);\n        var newWidth = sliderPos(fitValue, 0);\n        $(\"#slider_secondary\").width(newWidth+'%');\n        return true;\n    }\n\n\n    function writeSliderFlag(fitValue, fitLabel, thisSize, thisId) {\n        // first, out with the old\n        var sliderFlagHtml = \"<div class='sliderFlag' id='sm_sf_\"+thisSize+\"'\";\n        sliderFlagHtml += \" style='width: \"+sliderPos(fitValue, 0)+\"%'>\";\n        sliderFlagHtml += \"<a class='flagItself \"+fitLabel+\"' href='#'>\"+thisSize+\"</a>\";\n        sliderFlagHtml += \"</div>\";\n        $(\".slider_container\").append(sliderFlagHtml);\n        $(\".sm_sf_\"+thisSize).hover(function() {\n            $(this).toggleClass(\"activeFlag\");\n        }).click(function() {\n            $(thisId).prop(\"checked\", true);\n            moveSlider(fitValue, true);\n            return false;\n        });\n    }\n\n    function moveSlider(fitValue, shouldAnimate) {\n        var newWidth = sliderPos(fitValue, 0)+'%';\n        if (shouldAnimate) {\n            $('.slider_bar').stop().animate({width: newWidth});\n        } else {\n            $('.slider_bar').width(newWidth);\n        }\n    }\n\n    function moveAreaSlider(fitValue, matchMap, shouldAnimate) {\n        var smallestFit = 9999;\n        var biggestFit = 0;\n        var endX, startX, newWidth, newMarginLeft;\n        for(var measurement in matchMap) {\n            if (matchMap.hasOwnProperty(measurement)) {\n                if (isImportant(matchMap[measurement].importance, matchMap[measurement].componentFit)) {\n                    if (matchMap[measurement].componentFit > 0 && matchMap[measurement].componentFit < smallestFit) {\n                        smallestFit = matchMap[measurement].componentFit;\n                    }\n                    if (matchMap[measurement].componentFit > 0 && matchMap[measurement].componentFit > biggestFit) {\n                        biggestFit = matchMap[measurement].componentFit;\n                    }\n                }\n            }\n        }\n\n        if (fitValue > smallestFit) {\n            endX = sliderPos(fitValue, 0);\n            startX = sliderPos(smallestFit, 0);\n            newWidth = (endX - startX);\n            newMarginLeft = startX;\n        } else {\n            endX = sliderPos(biggestFit, 0);\n            startX = sliderPos(fitValue, 0);\n            newWidth = (endX - startX);\n            newMarginLeft = startX;\n        }\n\n        if (shouldAnimate) {\n            $('.slider_area').stop().animate({width: newWidth+'%', marginLeft: newMarginLeft+'%'});\n        } else {\n            $('.slider_area').width(newWidth+'%').css('marginLeft', newMarginLeft+'%');\n        }\n    }\n\n    function goWriteMessages(matchMap, missingMeasurements, accuracy) {\n        var $message = \"\";\n        var $message_type = \"\";\n\n        $(\".sizeme_slider .slider_text_more_below\").empty();\n\n\n        if (!selectedProfile) {\n            $message_type = \"noMeasurements\";\n            $message = \"Add profiles to your account for a size recommendation.\";\n        } else {\n            var smallestFit = 9999;\n            var largestFit = 0;\n\n            for (var measurement in matchMap) {\n                if (matchMap.hasOwnProperty(measurement)) {\n                    if (matchMap[measurement].componentFit > 0) {\n                        if (matchMap[measurement].componentFit < smallestFit) {\n                            smallestFit = matchMap[measurement].componentFit;\n                        }\n                        if (matchMap[measurement].componentFit > largestFit) {\n                            largestFit = matchMap[measurement].componentFit;\n                        }\n                    }\n                }\n            }\n\n            if (missingMeasurements[0]) {\n                if (missingMeasurements[0].length > 0) {\n                    $message_type = \"missingMeasurements\";\n                    $message = \"Add more measurements to your profile for increased accuracy\";\n                }\n            }\n\n            if (accuracy < accuracyThreshold) {\n                $message_type = \"noMeasurements\";\n                $message = \"Add measurements to your profile for a size recommendation.\";\n            }\n        }\n\n        if ($message_type) {\n            $('<a></a>')\n                .addClass(\"message_container \"+$message_type)\n                .text($message)\n                .attr(\"href\", linkToSelectedProfile)\n                .attr(\"target\", \"_blank\")\n                .appendTo(\".sizeme_slider .slider_text_more_below\");\n        }\n    }\n\n    function selectToButtons(element) {\n        $(element+\" select\").hide();\n        var numClass = \"num_\"+$(element+\" option\").length;\n        var $content = $(document.createElement(\"div\")).addClass(\"sm-buttonset \"+numClass);\n        $(element+\" option\").each(function() {\n            var thisId = this.id;\n            var thisLabel = sizeText($(this).text());\n            var thisClass = $(this).attr(\"class\");\n            var thisVal = $(this).val();\n            var $div = $('<div>')\n                .addClass('sm-button '+thisClass)\n                .attr(\"id\", \"button_\"+thisId)\n                .text(thisLabel)\n                .on(\"click\", function() {\n                    $(\".sm-buttonset\").find(\".sm-selectable\").removeClass(\"sm-state-active\");\n                    $(\".element_for_\"+thisVal).addClass(\"sm-state-active\");\n                    $(sizeme_UI_options.sizeSelectionContainer).find(\"select\").val(thisVal);\n                    $(sizeme_UI_options.sizeSelectionContainer).find(\"select\").change();\t// yell change\n                    SizeMe.trackEvent(\"sizeChanged\", \"Store: Product size changed\");\n                });\n            $content.append($div);\n        });\n        $(element).append($content);\n    }\n\n    function getMaxY(data) {\n        var max = 0;\n        for (var i = 0; i < data.coords.length; i++) { max = Math.max(max, data.coords[i].Y); }\n        return max;\n    }\n\n    function getMaxX(data) {\n        var max = 0;\n        for(var i = 0; i < data.coords.length; i++) { max = Math.max(max, data.coords[i].X); }\n        return max;\n    }\n\n    function getMinX(data) {\n        var min = 99999;\n        for(var i = 0; i < data.coords.length; i++) { min = Math.min(min, data.coords[i].X); }\n        return min;\n    }\n\n    function getMinY(data) {\n        var min = 99999;\n        for(var i = 0; i < data.coords.length; i++) { min = Math.min(min, data.coords[i].Y); }\n        return min;\n    }\n\n    function getArced(p1, p2) {\n        var dX = p2.X - p1.X;\n        p2.cp1X = p1.X + Math.round(dX / arcRadius); p2.cp1Y = p1.Y + Math.round(dX / arcRadius);\n        p2.cp2X = p2.X - Math.round(dX / arcRadius); p2.cp2Y = p2.Y + Math.round(dX / arcRadius);\n        return true;\n    }\n\n    function liftCoords(data) {\n        data.nX = 0; data.nY = 0;\n        if (data.lift) {\n            for(var i = 1; i < data.coords.length; i++) {\n                var dX = data.coords[i].X - data.coords[i-1].X;\n                var dY = data.coords[i].Y - data.coords[i-1].Y;\n                var angleA = Math.atan2(dY, dX);\n                data.nX = Math.sin(angleA) * arrowLift;\n                data.nY = -Math.cos(angleA) * arrowLift;\n            }\n        }\n        return true;\n    }\n\n    function getMidPoints(data) {\n        var dX = data.coords[1].X - data.coords[0].X;  var dY = data.coords[1].Y - data.coords[0].Y;\n        data.mid = {X: Math.round(dX / 2)+data.coords[0].X, Y: Math.round(dY / 2)+data.coords[0].Y };\n        if (data.style === \"arc\") { data.mid.Y += Math.round(dX / arcRadius * 0.7); }\n    }\n\n    function plotItem(c, data, isArrow, scale, offsetX, offsetY, highlighted) {\n        function pX(coord) {\n            return (coord*scale)+offsetX;\n        }\n        function pY(coord) {\n            return (coord*scale)+offsetY;\n        }\n\n        var i, j, lcp;\n\n        c.beginPath();\n\n        if (isArrow) {\t// ARROW\n            c.lineWidth = arrowLineWidth;\n            if (highlighted) {\n                c.lineWidth = arrowLineWidth + 2;\n            }\n            liftCoords(data);\n            c.moveTo(pX(data.coords[0].X+data.nX), pY(data.coords[0].Y+data.nY));\n            for(i = 1; i < data.coords.length; i++) {\n                switch (data.style) {\n                    case \"circle\":\n                        getArced(data.coords[i-1], data.coords[i]);\n                        c.bezierCurveTo(pX(data.coords[i].cp1X+data.nX), pY(data.coords[i].cp1Y+data.nY),\n                            pX(data.coords[i].cp2X+data.nX), pY(data.coords[i].cp2Y+data.nY),\n                            pX(data.coords[i].X+data.nX), pY(data.coords[i].Y+data.nY));\n                        c.bezierCurveTo(pX(-data.coords[i].cp1X+data.nX), pY(-data.coords[i].cp1Y+data.nY),\n                            pX(-data.coords[i].cp2X+data.nX), pY(-data.coords[i].cp2Y+data.nY),\n                            pX(data.coords[0].X+data.nX), pY(data.coords[0].Y+data.nY));\n                        break;\n                    case \"arc\":\n                        getArced(data.coords[i-1], data.coords[i]);\n                    /* falls through */\n                    case \"line\":\n                        if (typeof data.coords[i].cp1X !== 'undefined') {\n                            c.bezierCurveTo(pX(data.coords[i].cp1X+data.nX), pY(data.coords[i].cp1Y+data.nY), pX(data.coords[i].cp2X+data.nX), pY(data.coords[i].cp2Y+data.nY), pX(data.coords[i].X+data.nX), pY(data.coords[i].Y+data.nY));\n                        } else {\n                            c.lineTo(pX(data.coords[i].X+data.nX), pY(data.coords[i].Y+data.nY));\n                        }\n                        break;\n                }\n            }\n            c.stroke();\n\n            if (data.style === \"line\") {\n                // start and end circles\n                c.beginPath(); c.arc(pX(data.coords[0].X+data.nX), pY(data.coords[0].Y+data.nY), arrowEndRadius, 0, Math.PI*2, true); c.fill();\n                c.beginPath(); c.arc(pX(data.coords[data.coords.length-1].X+data.nX), pY(data.coords[data.coords.length-1].Y+data.nY), arrowEndRadius, 0, Math.PI*2, true);\tc.fill();\n            }\n\n            // mid circle\n            getMidPoints(data);\n            if (typeof data.midCircle !== 'undefined') { data.mid.X = data.midCircle.X; data.mid.Y = data.midCircle.Y; }\n            var rad = arrowNumberRadius;\n            if (highlighted) {\n                rad += 5;\n            }\n            c.beginPath(); c.arc(pX(data.mid.X+data.nX), pY(data.mid.Y+data.nY), rad, 0, Math.PI*2, true); c.fill();\n            c.beginPath(); c.fillStyle = \"#FFFFFF\"; c.font = arrowNumberFont; c.textAlign = \"center\"; c.textBaseline = \"middle\";\n            if (highlighted) {\n                c.font = arrowNumberHighlightFont;\n            }\n            c.fillText(data.num, pX(data.mid.X+data.nX), pY(data.mid.Y+data.nY));\n\n        } else {\t// ITEM\n            c.fillStyle = fillColor; c.strokeStyle = fillColor; c.lineWidth = 0.1;\n\n            c.moveTo(pX(data.coords[0].X), pY(data.coords[0].Y));\n\n            for(i = 1; i < data.coords.length; i++) {\n                if (typeof data.coords[i].cp1X !== 'undefined') {\n                    c.bezierCurveTo(pX(data.coords[i].cp1X), pY(data.coords[i].cp1Y), pX(data.coords[i].cp2X), pY(data.coords[i].cp2Y), pX(data.coords[i].X), pY(data.coords[i].Y));\n                } else {\n                    c.lineTo(pX(data.coords[i].X), pY(data.coords[i].Y));\n                }\n            }\n\n            if (data.mirror) {\n                lcp = [{X: null, Y: null}, {X: null, Y: null}];\n\n                for(i = data.coords.length-1; i >= 0; i--) {\n                    if (lcp[0].X) {\n                        c.bezierCurveTo(pX(lcp[0].X), pY(lcp[0].Y), pX(lcp[1].X), pY(lcp[1].Y), pX(-data.coords[i].X), pY(data.coords[i].Y));\n                    } else {\n                        c.lineTo(pX(-data.coords[i].X), pY(data.coords[i].Y));\n                    }\n\n                    if (typeof data.coords[i].cp1X !== 'undefined') {\n                        lcp[0].X = -data.coords[i].cp2X; lcp[0].Y = data.coords[i].cp2Y;\n                        lcp[1].X = -data.coords[i].cp1X; lcp[1].Y = data.coords[i].cp1Y;\n                    } else {\n                        lcp = [{X: null, Y: null}, {X: null, Y: null}];\n                    }\n                }\n            }\n\n            c.fill();\n            c.stroke();\n\n            // accents\n            c.fillStyle = drawColor; c.strokeStyle = drawColor; c.lineWidth = itemLineWidth;\n            c.lineCap = \"butt\"; c.lineJoin = \"miter\"; c.miterLimit = 1;\n\n            for(i = 0; i < data.accents.length; i++) {\n                c.beginPath();\n                if (data.accents[i].type === \"circle\") {\n                    c.arc(pX(data.accents[i].coords[0].X), pY(data.accents[i].coords[0].Y), data.accents[i].coords[0].R*realCanvasWidth/1000, 0, Math.PI*2, true);\n                } else {\n                    c.moveTo(pX(data.accents[i].coords[0].X), pY(data.accents[i].coords[0].Y));\n                    for(j = 1; j < data.accents[i].coords.length; j++) {\n                        if (typeof data.accents[i].coords[j].cp1X !== 'undefined') {\n                            c.bezierCurveTo(pX(data.accents[i].coords[j].cp1X), pY(data.accents[i].coords[j].cp1Y), pX(data.accents[i].coords[j].cp2X), pY(data.accents[i].coords[j].cp2Y), pX(data.accents[i].coords[j].X), pY(data.accents[i].coords[j].Y));\n                        } else {\n                            c.lineTo(pX(data.accents[i].coords[j].X), pY(data.accents[i].coords[j].Y));\n                        }\n                    }\n                }\n                if (data.accents[i].type === \"area\") {\n                    c.fill();\n                }\n                c.stroke();\n\n                if (data.mirror) {\n                    if (typeof data.accents[i].noMirror === 'undefined') {\n                        lcp = [{X: null, Y: null}, {X: null, Y: null}];\n                        c.beginPath();\n                        c.moveTo(pX(-data.accents[i].coords[data.accents[i].coords.length-1].X), pY(data.accents[i].coords[data.accents[i].coords.length-1].Y));\n                        for(j = data.accents[i].coords.length-1; j >= 0; j--) {\n                            if (lcp[0].X) {\n                                c.bezierCurveTo(pX(lcp[0].X), pY(lcp[0].Y), pX(lcp[1].X), pY(lcp[1].Y), pX(-data.accents[i].coords[j].X), pY(data.accents[i].coords[j].Y));\n                            } else {\n                                c.lineTo(pX(-data.accents[i].coords[j].X), pY(data.accents[i].coords[j].Y));\n                            }\n\n                            if (typeof data.accents[i].coords[j].cp1X !== 'undefined') {\n                                lcp[0].X = -data.accents[i].coords[j].cp2X; lcp[0].Y = data.accents[i].coords[j].cp2Y;\n                                lcp[1].X = -data.accents[i].coords[j].cp1X; lcp[1].Y = data.accents[i].coords[j].cp1Y;\n                            } else {\n                                lcp = [{X: null, Y: null}, {X: null, Y: null}];\n                            }\n                        }\n                        if (data.accents[i].type === \"area\") {\n                            c.fill();\n                        }\n                        c.stroke();\n                    }\n                }\n            } // end for accents\n        }\n    }\n\n    function writeItemCanvas(canvas_id, matchMap, highlight) {\n\n        if (document.getElementById(canvas_id).getContext) {\n            var c = document.getElementById(canvas_id).getContext('2d');\n            $(\"#\"+canvas_id).attr(\"width\", realCanvasWidth).attr(\"height\", realCanvasHeight);\n\n            // get scale and offsets\n            var canvasWidth = realCanvasWidth * (1-(2*padding));\n            var canvasHeight = realCanvasHeight * (1-(2*padding));\n\n            var maxX = getMaxX(item_drawing) - getMinX(item_drawing);\n            if (item_drawing.mirror) {\n                maxX = getMaxX(item_drawing) * 2;\n            }\n            var maxY = getMaxY(item_drawing) - getMinY(item_drawing);\n            var scale = 1;\n            if (maxX !== 0) {\n                scale = canvasWidth / maxX;\n            }\n            if (maxY !== 0 && (canvasWidth/canvasHeight) > (maxX/maxY)) {\n                scale = canvasHeight / maxY;\n            }\n\n            var offsetX = (realCanvasWidth - ((getMaxX(item_drawing) + getMinX(item_drawing)) * scale)) / 2;\n            if (item_drawing.mirror) {\n                offsetX = realCanvasWidth / 2;\n            }\n            var offsetY = (realCanvasHeight - ((getMaxY(item_drawing) + getMinY(item_drawing))*scale)) / 2;\n\n            // item\n            plotItem(c, item_drawing, false, scale, offsetX, offsetY, false);\n            var inputKey = $(sizeme_UI_options.sizeSelectionContainer).find(\"select\").val();\n\n            // arrows\n            if (matchMap) {\n                // Detailed\n                sizeme_product.item.measurements[inputKey].each(function(measurement) {\n                    if (sizeme_product.item.measurements[inputKey][measurement] > 0 && measurement_arrows[measurement]) {\n                        // var draw = (matchMap[measurement].componentFit > 0);\n                        var draw = true;\n                        if (draw) {\n                            c.strokeStyle = measurement_arrows[measurement].color;\n                            c.fillStyle = measurement_arrows[measurement].color;\n                            plotItem(c, measurement_arrows[measurement], true, scale, offsetX, offsetY, (measurement === highlight && highlight !== null));\n                        }\n                    }\n                });\n            } else {\n                // Size Guider\n                if (!inputKey) {\n                    inputKey = Object.keys(sizeme_product.item.measurements)[0];\n                }\n                if (inputKey) {\n                    sizeme_product.item.measurements[inputKey].each(function(measurement) {\n                        if (sizeme_product.item.measurements[inputKey][measurement] > 0 && measurement_arrows[measurement]) {\n                            c.strokeStyle = measurement_arrows[measurement].color;\n                            c.fillStyle = measurement_arrows[measurement].color;\n                            plotItem(c, measurement_arrows[measurement], true, scale, offsetX, offsetY, (measurement === highlight && highlight !== null));\n                        }\n                    });\n                }\n            }\n        }\n    }\n\n    function initOpentip() {\n        Opentip.lastZIndex = 10000;\n        Opentip.styles.myDefaultStyle = {\n            //target: true,\n            //tipJoint: \"center top\",\n            group: \"myTips\"\n        };\n        Opentip.defaultStyle = \"myDefaultStyle\";\n    }\n\n    function hasNeckOpening() {\n        var inputKey = $(sizeme_UI_options.sizeSelectionContainer).find(\"select\").val();\n        if (!inputKey) {\n            inputKey = Object.keys(sizeme_product.item.measurements)[0];\n        }\n        return sizeme_product.item.measurements[inputKey].neck_opening_width > 0;\n    }\n\n    function isInside() {\n        var itemTypeStr = sizeme_product.item.itemType.toString();\n        return ( (itemTypeStr[0] === '3') || (itemTypeStr[0] === '4') );\n    }\n\n    function noThanks() {\n        return readCookie(\"sizeme_no_thanks\") === \"true\";\n    }\n\n    function noProductSplash() {\n        return readCookie(\"sizeme_no_product_splash\") === \"true\";\n    }\n\n    function writeDetailedWindow(isSizeGuide) {\n        // create detailed dialog window\n        itemName = sizeme_product.name;\n        var txts = [\"Detailed View for\", \"Detailed view of fit\", \"Detailed fit - overlaps\"];\n        var linkTarget = \".sizeme_slider .slider_text_below\";\n\n        initOpentip();\n\n        if (isSizeGuide) {\n            txts = [\"Size Guide for\", \"Size guide\", \"Actual item measurements\"];\n            linkTarget = sizeme_UI_options.appendContentTo;\n        }\n\n        var $dialog = $('<div id=\"sizeme_detailed_view_content\"></div>')\n            .dialog({\n                position: { my: \"center\", at: \"center\", of: window },\n                autoOpen: false,\n                dialogClass: \"sizeme_detailed_view_window\",\n                minHeight: 620,\n                minWidth: 940,\n                title: txts[0]+' <span class=\"name\">'+itemName+'</span>'\n            });\n\n        // add toggle link to main page\n        $(\"<a class='a_button sm_detailed_view\"+(isSizeGuide ? \" size_guide\" : \"\")+\"' id='popup_opener' href='#'>\"+txts[1]+\"</a>\")\n            .click(function() {\n                if (isSizeGuide) {\n                    SizeMe.trackEvent(\"sizeGuideOpened\", \"Store: Size guide opened\");\n                } else {\n                    SizeMe.trackEvent(\"detailedViewOpened\", \"Store: Detailed view opened\");\n                }\n                $dialog.dialog('open');\n                return false;\n            })\n            .appendTo(linkTarget);\n\n        // write two columns\n        $(\"<div class='dialog_col' id='col1'></div><div class='dialog_col' id='col2'></div>\").appendTo(\"#sizeme_detailed_view_content\");\n\n        // add bottom title bar\n        $(\"<div class='sm-bottombar ui-dialog-bottombar'></div>\").appendTo(\"#sizeme_detailed_view_content\");\n\n        // write item image canvas to first column\n        $(\"<div class='sizeme_detailed_section'></div>\")\n            //.append(\"<h2>Fit overview</h2>\")\n            .append(\"<canvas id='sizeme_item_view'></canvas>\")\n            .appendTo(\"#col1\");\n\n        // add shopping for selection to second (no cloning)\n        if (!isSizeGuide) {\n            $(\"<div class='sizeme_detailed_section'></div>\")\n                .append(\"<h2>Shopping for</h2>\")\n                .append(\"<div class='shopping_for'></div>\")\n                .appendTo(\"#col2\");\n\n            // clone buttons to second\n            var $clone = $(sizeme_UI_options.sizeSelectionContainer).clone(true, true);\n            $clone.find(\"[id]\").each(function() {\n                this.id = \"clone_\"+this.id;\n                $(this).addClass(\"cloned\");\n                if (this.name) {\n                    this.name = \"clone_\"+this.name;\n                }\n            });\n            $(\"<div class='sizeme_detailed_section'></div>\")\n                .append(\"<h2>Selected size</h2>\")\n                .append($clone)\n                .appendTo(\"#col2\");\n\n            // clone slider (without detailed view toggler and in content stuff)\n            var $slider_clone = $(\".sizeme_slider\")\n                .clone(true, true)\n                .find(\".slider_text_below\").remove()\n                .end();\n\n            $(\"<div class='sizeme_detailed_section'></div>\")\n                .append(\"<h2>Overall fit</h2>\")\n                .append($slider_clone)\n                .appendTo(\"#col2\");\n        }\n\n        // write detailed table to col 2\n        $(\"<div class='sizeme_detailed_section'></div>\")\n            .append(\"<h2>\"+txts[2]+\"</h2>\")\n            .append(\"<table id='detailed_table'><tbody></tbody></table>\")\n            .appendTo(\"#col2\");\n\n        // bind hover event to run_highlights\n        $(\"#detailed_table\").on(\"mouseenter\", \".run_highlight\", function () {\n            var highlight = $(this).data(\"measurement\");\n            $(this).find(\"td.cell_\"+highlight).addClass(\"highlighted\");\n            var $matchMap = $(\"#detailed_table\").find(\"tbody\").data(\"matchMap\");\n            writeItemCanvas('sizeme_item_view', $matchMap, highlight);\n            if (sizeme_local_options.fitAreaSlider && $matchMap) {\n                if ($matchMap[highlight]) {\n                    if (($matchMap[highlight].componentFit > 0) && (isImportant($matchMap[highlight].importance, $matchMap[highlight].componentFit))) {\n                        drawExtraSlider($matchMap[highlight].componentFit);\n                    }\n                }\n            }\n        }).on(\"mouseleave\", \".run_highlight\", function () {\n            var highlight = $(this).data(\"measurement\");\n            $(this).find(\"td.cell_\"+highlight).removeClass(\"highlighted\");\n            writeItemCanvas('sizeme_item_view', $(\"#detailed_table\").find(\"tbody\").data(\"matchMap\"), \"\");\n            if (sizeme_local_options.fitAreaSlider) {\n                killExtraSlider();\n            }\n        });\n\n        // disclaimers\n        if (isSizeGuide) {\n            var $txt = \"These measurements are measured <u>flat across the outside of the item</u>.\";\n            if (hasNeckOpening()) {\n                $txt += \"<br />Except for the collar measurement, which is measured around the inside of the collar.\";\n            }\n            if (isInside()) {\n                $txt = \"These measurements are measured <u>inside the item</u>.\";\n            }\n            $(\"<div class='sizeme_explanation'></div>\")\n                .append(\"<p>\"+$txt+\"</p>\")\n                .appendTo(\"#col2\");\n\n            if (sizeme_options.service_status === \"on\") {\n                $(\"<div class='sizeme_advertisement'></div>\")\n                    .append(\"<p>This size guide is brought to you by \" +\n                        \"<a id='sizeme_ad_link' href='\" + SizeMe.contextAddress + \"' class='logo' target='_blank'></a></p>\")\n                    .appendTo(\"#sizeme_detailed_view_content\");\n                $(\"#sizeme_ad_link\").on(\"click\", function() {\n                    clearAuthToken();\n                    if (noThanks()) {\n                        eraseCookie(\"sizeme_no_thanks\");\n                        $(\".splash\").fadeIn();\n                        return false;\n                    }\n                });\n            }\n        }\n    }\n\n    function isImportant(importance, componentFit) {\n        return (importance === 1 || ((importance === -1) && (componentFit < 1000)));\n    }\n\n    function colorCell($cell, value, arrow) {\n        if (arrow) {\n            arrow.color = arrowColorInfo;\n        }\n        if (value) {\n            var selectedFit = getFit(value.componentFit);\n            if (isImportant(value.importance, value.componentFit)) {\n                $cell.addClass(selectedFit.text);\n                if (arrow) {\n                    arrow.color = selectedFit.arrowColor;\n                }\n            }\n        }\n        return $cell;\n    }\n\n    function getMissingMeasurement(missingMeasurements, measurement) {\n        for(var $i = 0; $i < missingMeasurements.length; $i++) {\n            if (missingMeasurements[$i][0] === measurement) {\n                return missingMeasurements[$i][1];\n            }\n        }\n        return null;\n    }\n\n    function isPinched(measurement) { return (PINCHED_FITS.indexOf(measurement) >= 0); }\n    function isLongFit(measurement) { return (LONG_FITS.indexOf(measurement) >= 0); }\n\n    function isPinchedTxt(measurement) {\n        if (isPinched(measurement)) {\n            return \" when pinched\";\n        }\n        return \"\";\n    }\n\n    function getStretchedTxt(stretch_value) {\n        if (stretch_value > 0) {\n            if (stretch_value < 25) {\n                return \"The item is stretched a little.  \";\n            } else if (stretch_value < 75) {\n                return \"The item is stretched.  \";\n            } else if (stretch_value < 95) {\n                return \"The item is stretched a lot.  \";\n            } else {\n                return \"The item is stretched to the max.  \";\n            }\n        }\n        return \"\";\n    }\n\n\n    function updateDetailedTable(matchMap, inputKey, missingMeasurements) {\n        var $table = $(\"#detailed_table\").find(\"tbody\"),\n            $row, $i, $tip, $txt;\n        $table.empty();\n        if (matchMap) {\n            // *** Detailed View ***\n            $table.data(\"matchMap\", matchMap);\n\n            $row = $(document.createElement(\"tr\")).addClass(\"header_row\");\n            $i = 0;\n            sizeme_product.item.measurements[inputKey].each(function(measurement) {\n                if (sizeme_product.item.measurements[inputKey][measurement] > 0) {\n                    var $txt = '<span class=\"num\">'+(++$i)+'</span>'+LOCALIZED_STR[measurement];\n                    if (measurement_arrows[measurement]) {\n                        measurement_arrows[measurement].num = $i;\n                    }\n                    $row.append($(document.createElement(\"td\")).html($txt).addClass(\"run_highlight cell_\"+measurement).data(\"measurement\", measurement));\n                }\n            });\n            $table.append($row);\n\n            var $tip_txts = [];\n            var $tip_classes = [];\n\n            if (sizeme_local_options.writeOverlaps) {\n                $row = $(document.createElement(\"tr\")).addClass(\"data_row\");\n                sizeme_product.item.measurements[inputKey].each(function(measurement) {\n                    var drawReason = 0;\n                    if (matchMap[measurement] && matchMap[measurement].componentFit > 0) {\n                        drawReason = 1;\n                    }\n                    if (sizeme_product.item.measurements[inputKey][measurement] > 0) {\n                        drawReason = 2;\n                    }\n                    if (drawReason > 0) {\n                        var $txt = \"\";\n                        $tip_txts[measurement] = \"The item's \"+LOCALIZED_STR[measurement].toLowerCase()+\" measurement \";\n\n                        if (matchMap[measurement]) {\n                            $txt = (matchMap[measurement].overlap/10).toFixed(1)+\" cm\";\n                            if (isPinched(measurement)) {\n                                $txt = (matchMap[measurement].overlap/20).toFixed(1)+\" cm\";\n                            }\n                            if ((matchMap[measurement].overlap <= 0) && (matchMap[measurement].componentFit >= 1000)) {\n                                $txt = \"0.0 cm\";\n                            }\n\n                            if (measurement === \"sleeve\") {\n                                var $sleeve_txt = \"<div class='sleeve\" + (matchMap[measurement].overlap < 0 ? \" negative_overlap\" : \"\") + \"'>\";\n                                var $sleeve_height = Math.round(29 + (75*(matchMap[measurement].percentage / 0.3)));\t// zero-point + (wrist_to_finger * (overlap_percentage / normal_finger_ratio))\n                                $sleeve_height = Math.max(11, $sleeve_height);\t// never under 11 (34 px)\n                                $sleeve_height = Math.min(105, $sleeve_height);\t// never over overlap image height\n\n                                var $meas_top = Math.round((($sleeve_height - 29) / 2)+29-9);\n                                if (($sleeve_height - 29) < 14) { // no fit in middle if no room\n                                    $meas_top = $sleeve_height+23;\n                                }\n                                if (matchMap[measurement].overlap < 0) {\n                                    $sleeve_txt += \"<div class='meas' style='top:14px;left:-7px;'>\"+$txt+\"</div>\";\t// negative overlap in different place\n                                    if (matchMap[measurement].componentFit >= 1000) {\n                                        $sleeve_height = 29;\n                                    }\n                                } else {\n                                    $sleeve_txt += \"<div class='meas' style='top:\"+$meas_top+\"px;\";\n                                    if (matchMap[measurement].overlap >= 100) {\n                                        $sleeve_txt += \"left:-4px;\";\n                                    }\n                                    $sleeve_txt += \"'>\"+$txt+\"</div>\";\t// mid point?\n                                }\n\n                                $sleeve_txt += \"<div class='sleeve_overlap' style='height:\"+($sleeve_height+23)+\"px;'></div>\";\t// sleeve + image bottom clearance\n                                $sleeve_txt += \"</div>\";\n                                $tip_txts[measurement] = $sleeve_txt + $tip_txts[measurement];\n                            }\n\n                            if (matchMap[measurement].overlap <= 0) {\n                                if (matchMap[measurement].componentFit >= 1000) {\n                                    $txt = \"0.0 cm\";\n                                    $tip_txts[measurement] += \"is directly on you with no overlap.  \";\n                                    $tip_txts[measurement] += getStretchedTxt(matchMap[measurement].componentStretch);\n                                } else {\n                                    $tip_txts[measurement] += \"is <u>smaller</u> than your matching measurement by \";\n                                    $tip_txts[measurement] += $txt.replace(\"-\",\"\");\n                                    $tip_txts[measurement] += isPinchedTxt(measurement)+\".  \";\n                                }\n                            } else {\n                                if (isPinched(measurement)) {\n                                    $tip_txts[measurement] = \"<div class='pinched'><div class='meas'>\"+$txt+\"</div></div>\" + $tip_txts[measurement];\n                                }\n\n                                $txt = \"+\"+$txt;\n                                $tip_txts[measurement] += \"overlaps you by <b>\"+$txt+\"</b>\"+isPinchedTxt(measurement);\n                                if (measurement === \"sleeve\") {\n                                    $tip_txts[measurement] += \" when your arm and the item's sleeve are <u>completely straight</u>\";\n                                }\n                                $tip_txts[measurement] += \".  \";\n                            }\n\n                            if ((matchMap[measurement].componentFit > 0) && (isImportant(matchMap[measurement].importance, matchMap[measurement].componentFit))) {\n                                var $fitVerdict = LOCALIZED_STR[getFit(matchMap[measurement].componentFit).text];\n                                if (isLongFit(measurement)) {\n                                    $fitVerdict = LOCALIZED_STR_longs[getFit(matchMap[measurement].componentFit).text];\n                                }\n                                $tip_txts[measurement] += \"SizeMe considers this particular fit <b>\"+$fitVerdict.toLowerCase()+\"</b>.\";\n                            }\n\n                        } else if (sizeme_product.item.measurements[inputKey][measurement] > 0) {\n                            $txt = (sizeme_product.item.measurements[inputKey][measurement]/10).toFixed(1)+\" cm\";\n                            $tip_txts[measurement] += \"is \"+$txt+\".  \";\n                            if (missingMeasurements) {\n                                if (getMissingMeasurement(missingMeasurements, measurement) !== null) {\n                                    $tip_txts[measurement] += \"Add this measurement to your profile to include it in the fit calculation.\";\n                                }\n                            }\n                        }\n\n                        var $cell = $(document.createElement(\"td\"))\n                            .text($txt)\n                            .attr(\"id\",\"overlap_\"+measurement)\n                            .addClass(\"run_highlight cell_\"+measurement)\n                            .data(\"measurement\", measurement);\n                        $row.append(colorCell($cell, matchMap[measurement], measurement_arrows[measurement]));\n                        $tip_classes[measurement] = \"\";\n                        if (isPinched(measurement)) {\n                            $tip_classes[measurement] = \"isPinched\";\n                        }\n                        if (measurement === \"sleeve\") {\n                            $tip_classes[measurement] = \"sleeve\";\n                        }\n                        $tip = new Opentip($cell, $tip_txts[measurement], { className: $tip_classes[measurement] } );\n                    }\n                });\n                $table.append($row);\n            }\n\n            $row = $(document.createElement(\"tr\")).addClass(\"data_row fit_label_row\");\n            sizeme_product.item.measurements[inputKey].each(function(measurement, value) {\n                var $cell;\n                if (matchMap[measurement]) {\n                    if (matchMap[measurement].componentFit > 0) {\n                        $txt = LOCALIZED_STR[getFit(matchMap[measurement].componentFit).text];\n                        if (isLongFit(measurement)) {\n                            $txt = LOCALIZED_STR_longs[getFit(matchMap[measurement].componentFit).text];\n                        }\n                        $cell = $(document.createElement(\"td\"))\n                            .html('<div>'+$txt+'</div>')\n                            .addClass(\"run_highlight\")\n                            .data(\"measurement\", measurement);\n                        if (!isImportant(matchMap[measurement].importance, matchMap[measurement].componentFit)) {\n                            $cell.html(\"\").addClass(\"info\");\n                        }\n                        $row.append(colorCell($cell, matchMap[measurement], measurement_arrows[measurement]));\n                    } else if (sizeme_product.item.measurements[inputKey][measurement] > 0) {\n                        $txt = \"\";\n                        $cell = $(document.createElement(\"td\"))\n                            .html($txt)\n                            .addClass(\"info run_highlight cell_\"+measurement)\n                            .data(\"measurement\", measurement);\n                        $row.append($cell);\n                    }\n                } else if (sizeme_product.item.measurements[inputKey][measurement] > 0) {\n                    $txt = \"\";\n                    var $class = \"\",\n                        missing;\n                    if (missingMeasurements) {\n                        if ((missing = getMissingMeasurement(missingMeasurements, measurement)) !== null) {\n                            $txt = \"<a target='_blank' href='\"+linkToSelectedProfile+\"#\"+missing+\"'>Add to profile</a>\";\n                            $class = \" add\";\n                        }\n                    }\n                    $cell = $(document.createElement(\"td\"))\n                        .html($txt)\n                        .addClass(\"info run_highlight cell_\"+measurement+$class)\n                        .data(\"measurement\", measurement);\n                    $row.append($cell);\n                }\n                if ($cell) {\n                    $tip = new Opentip($cell, $tip_txts[measurement], { className: $tip_classes[measurement] } );\n                }\n            });\n            $table.append($row);\n\n        } else {\n            // *** Size Guide ***\n            $row = $(document.createElement(\"tr\")).addClass(\"header_row\");\n            $i = 0;\n            var $first = Object.keys(sizeme_product.item.measurements)[0],\n                $j, measurement;\n            $row.append($(document.createElement(\"td\")).html(\"Size\").addClass(\"size_column\"));\n            for ($j = 0; $j < FIT_ORDER.length; $j++) {\n                measurement = FIT_ORDER[$j];\n                if (sizeme_product.item.measurements[$first][measurement] > 0) {\n                    $txt = '<span class=\"num\">'+(++$i)+'</span>'+LOCALIZED_STR[measurement];\n                    if (measurement_arrows[measurement]) {\n                        measurement_arrows[measurement].num = $i;\n                    }\n                    $row.append($(document.createElement(\"td\")).html($txt).addClass(\"run_highlight cell_\"+measurement).data(\"measurement\", measurement));\n                }\n            }\n            $table.append($row);\n\n            for ($i=0;$i<sizeKeys.length;$i++) {\n                var key = sizeKeys[$i].key, $cell;\n\n                var $class = \"data_row\";\n                if (key === inputKey) {\n                    $class += \" active\";\n                }\n\n                $row = $(document.createElement(\"tr\")).addClass($class);\n\n                $row.append($(document.createElement(\"td\")).html(sizeText(sizeKeys[$i].sizeLabel)).addClass(\"size_column\"));\n                for ($j = 0; $j < FIT_ORDER.length; $j++) {\n                    measurement = FIT_ORDER[$j];\n                    if (sizeme_product.item.measurements[key][measurement] > 0) {\n                        $txt = (sizeme_product.item.measurements[key][measurement]/10).toFixed(1);\n                        $cell = $(document.createElement(\"td\")).text($txt+\" cm\").addClass(\"run_highlight cell_\"+measurement).data(\"measurement\", measurement);\n                        $row.append(colorCell($cell, \"\", measurement_arrows[measurement]));\n                    }\n                }\n                $table.append($row);\n            }\n        }\n\n        writeItemCanvas('sizeme_item_view', matchMap, \"\");\n\n    }\n\n    function updateDetailedSliderTip(thisSize, thisFit) {\n        // tip for overall slider in detailed\n        var $trigger = $(\"#sizeme_detailed_view_content\").find(\".slider_container\");\n        var $tip_txt = \"The overall fit for <b>size \"+sizeText(thisSize)+\"</b>\";\n        $tip_txt += \" is <b>\"+LOCALIZED_STR[getFit(thisFit).text].toLowerCase()+\"</b>\";\n        var $tip = new Opentip($trigger, $tip_txt);\n    }\n\n    function updateSlider(thisSize, thisData, isRecommended, detailedContainer, animateSlider) {\n        var thisFit = thisData.totalFit;\n        var thisLabel = thisData.fitRangeLabel;\n        var matchMap = thisData.matchMap;\n        moveSlider(thisFit, animateSlider);\n        if (sizeme_local_options.fitAreaSlider) {\n            moveAreaSlider(thisFit, matchMap, animateSlider);\n        }\n        if (sizeme_local_options.writeMessages) {\n            goWriteMessages(matchMap, thisData.missingMeasurements, thisData.accuracy);\n        }\n        updateDetailedSliderTip(thisSize, thisFit);\n        updateDetailedTable(matchMap, thisData.inputKey, thisData.missingMeasurements);\n    }\n\n    function getStandardHeader() {\n        // *** SizeMe Header injection\n        var headerHtml = \"<div id='sizeme_header' class='in_content'>\";\n        headerHtml += \"<div id='logo'></div>\";\n        headerHtml += \"<div class='sizeme_header_content'>\";\n        headerHtml += \"<div class='shopping_for'>Fetching profiles...</div>\";\n        headerHtml += \"<div class='top_right'>\";\n        headerHtml += \"<div id='log_info'><span id='logged_in'></span></div>\";\n        headerHtml += \"</div>\";\n        headerHtml += \"</div>\";\n        return headerHtml;\n    }\n\n    function getHeaderToggler() {\n        // *** SizeMe Header toggler\n        var headerHtml = \"<div id='sizeme_header_toggler' class='in_content'>\";\n        headerHtml += \"</div>\";\n        return headerHtml;\n    }\n\n    function getSplashDetailed() {\n        // *** SizeMe Splash #2 injection (detailed)\n        var headerHtml = \"<div id='sizeme_detailed_splash' class='splash'>\";\n        headerHtml += \"<p class='splash_text'>\";\n        headerHtml += \"Take a few <b>measurements of yourself</b> and get personalized info on how this item would <b>fit you</b>.  \";\n        //headerHtml += \"It's called SizeMe and it's free and really easy to use.\";\n        headerHtml += \"Create your <b>SizeMe</b> profile and relax!\";\n        headerHtml += \"</p>\";\n        headerHtml += \"<ul class='splash_choices'>\";\n        headerHtml += \"<li class='sign_in'><a href='\" + SizeMe.contextAddress + \"/?mode=signup' target='_blank' class='a_button' id='sizeme_btn_sign_up'>Sign up</a><p>Yes, I'd like to create a free account</p></li>\";\n        headerHtml += \"<li class='log_in'><a href='#' class='a_button' id='sizeme_btn_login'>Log in</a><p>I already have an account</p></li>\";\n        headerHtml += \"<li class='no_thanks'><td><a href='#' class='a_button' id='sizeme_btn_no_thanks'>No thanks</a><p>Maybe later</p></li>\";\n        headerHtml += \"</ul></div>\";\n        return headerHtml;\n    }\n\n    function getProductSplash() {\n        // *** SizeMe Splash in Product page\n        var splashHtml = \"<div id='sizeme_product_splash'>\";\n\t\tsplashHtml += \"<p>Unsure about the right size? Try \";\n\t\tsplashHtml += \"<a href='\" + SizeMe.contextAddress + \"' target='_blank' id='sizeme_product_page_link' title='SizeMe is a free service to help you know how this item will fit _you_'></a>\";\n\t\tsplashHtml += \"<a href='#' id='sizeme_btn_no_thanks_product_splash' title='Close'></a>\";\n        splashHtml += \"</p></div>\";\n        return splashHtml;\n    }\n\n    function findMaxMeasurement() {\n        var maxVal = 0;\n        sizeme_product.item.measurements.each(function(key, measurement_set) {\n            sizeme_product.item.measurements[key].each(function(key_2, value) { maxVal = Math.max(value, maxVal); });\n        });\n        return maxVal;\n    }\n\n    var DataStorage = (function() {\n\n        function DataStorage(type) {\n            if (storageAvailable(type)) {\n                this.storage = window[type];\n            } else{\n                this.storage = null;\n            }\n        }\n\n        DataStorage.prototype.storage = null;\n\n        function storageAvailable(type) {\n            try {\n                var _tstorage = window[type];\n                var x = '__storage_test__';\n                _tstorage.setItem(x, x);\n                _tstorage.removeItem(x);\n                return true;\n            } catch (e) {\n                return false;\n            }\n        }\n\n        DataStorage.prototype.withStorage = function(callback) {\n            if (this.storage === null) {\n                return;\n            }\n\n            return callback(this.storage);\n        };\n\n        return DataStorage;\n    })();\n\n    var Storage = new DataStorage('sessionStorage');\n    var sizeMe;\n\n    function sizeMeLogout() {\n        sizeMe = null;\n        clearAuthToken();\n    }\n\n    function clearAuthToken() {\n        Storage.withStorage(function(storage) {\n            storage.removeItem('authToken');\n        });\n    }\n\n    function getAuthToken() {\n        var deferred = $.Deferred();\n\n        Storage.withStorage(function(storage) {\n            var storedTokenObj = storage.getItem('authToken'),\n                storedToken;\n            if (storedTokenObj !== null) {\n                storedToken = JSON.parse(storedTokenObj);\n                if (storedToken.expires !== undefined) {\n                    storedToken.expires = Date.parse(storedToken.expires);\n                    // Has token expired?\n                    if (storedToken.expires > new Date().getTime()) {\n                        if (storedToken.token !== undefined) {\n                            deferred.resolve(storedToken.token);\n                        } else {\n                            deferred.reject(null);\n                        }\n                    }\n                }\n            }\n        });\n\n        if (deferred.state() === \"pending\") {\n            SizeMe.getAuthToken(function (authTokenObj) {\n                if (authTokenObj === null || authTokenObj.token === null) {\n                    deferred.reject(null);\n                } else {\n                    Storage.withStorage(function(storage) {\n                        storage.setItem('authToken', JSON.stringify(authTokenObj));\n                    });\n                    deferred.resolve(authTokenObj.token);\n                }\n            });\n        }\n\n        return deferred.promise();\n    }\n\n    function sizeMeInit(authorizedCb, unauthorizedCb) {\n        var deferred = $.Deferred();\n        getAuthToken().then(\n            function(authToken) {\n                deferred.resolve(new SizeMe(authToken));\n            }, function() {\n                deferred.reject(null);\n            }\n        );\n\n        sizeMe = deferred.promise();\n        sizeMe.then(\n            function (smObj) {\n                if (authorizedCb !== null) {\n                    authorizedCb(smObj);\n                }\n            },\n            function () {\n                if (unauthorizedCb !== null) {\n                    unauthorizedCb();\n                }\n            }\n        );\n    }\n\n    // Load on ready for all pages\n    $(function() {\n\n        var systemsGo = true;\n\n        var i18n = SizeMeI18N.get(sizeme_UI_options.lang);\n        LOCALIZED_STR = i18n.LOCALIZED_STR;\n        LOCALIZED_STR_longs = i18n.LOCALIZED_STR_longs;\n\n        // check data\n        if (typeof sizeme_product === 'undefined') {\n            systemsGo = false;\n        } else if (sizeme_product.item.itemType === 0) {\n            systemsGo = false;\n        } else if (findMaxMeasurement() === 0) {\n            systemsGo = false;\n        }\n\n        if (systemsGo) {\n            loadArrows(false); // everyone needs arrows\n        }\n\n        //stuff we do anyway\n        addIds(sizeme_UI_options.sizeSelectionContainer);\n\n        // buttonize\n        if (sizeme_options.buttonize === \"yes\") {\n            selectToButtons(sizeme_UI_options.sizeSelectionContainer);\n\t\t\t$(\"#button_choose\").remove();\n        }\n\n\t\t// add add to cart event\n\t\tif (sizeme_UI_options.addToCartEvent) {\n\t\t\t$(sizeme_UI_options.addToCartElement).on(sizeme_UI_options.addToCartEvent, function() {\n\t\t\t\tif (isLoggedIn()) {\n\t\t\t\t\tSizeMe.trackEvent(\"addToCartSM\", \"Store: Product added to cart by SizeMe user\");\n\t\t\t\t} else {\n\t\t\t\t\tSizeMe.trackEvent(\"addToCart\", \"Store: Product added to cart\");\n\t\t\t\t}\n\n\t\t\t});\n\t\t}\n\n        var getMatchResponseHandler = function(prodId, sizeme_product) {\n            if (!systemsGo) {\n                return function() {};\n            }\n            return function(responseMap) {\n                var smallestOffset = 9999,  // for recommendation\n                    thisVal, thisId, thisData, thisSize;\n\n                responseMap.each(function(key, result) {\n                    var classKey = \".element_for_\" + key;\n                    $(classKey)\n                        .removeClass('sm-too_small sm-slim sm-regular sm-loose sm-very_loose sm-huge sm-too_big')\n                        .addClass('sm-'+result.fitRangeLabel);\n\n                    // Analyze fit for recommendations\n                    var fitOffset = Math.abs(result.totalFit - OPTIMAL_FIT);\n                    if (fitOffset < smallestOffset) {\n                        smallestOffset = fitOffset;\n                        recommendedId = key;\n                        recommendedLabel = result.fitRangeLabel;\n                    }\n\n                    // check if there are results in the first place\n                    if (result.accuracy < accuracyThreshold) {\n                        $('.slider_bar, .slider_area').hide();\n                    } else {\n                        $('.slider_bar, .slider_area').show();\n                    }\n\n                    // write data to inputs\n                    $(\"#input_\" + key).data(\"fitData\", { totalFit: result.totalFit,\n                        fitRangeLabel: result.fitRangeLabel,\n                        matchMap: result.matchMap,\n                        missingMeasurements: result.missingMeasurements,\n                        accuracy: result.accuracy,\n                        inputKey: key });\n                });\n\n                // bind change to inputs\n                $(sizeme_UI_options.sizeSelectionContainer).find(\"select\").change(function() {\n                    thisVal = $(this).val();\n                    thisId = '#input_'+thisVal;\n                    thisData = $(thisId).data(\"fitData\");\n                    thisSize = $(thisId).text();\n                    if (thisVal) {\n                        updateSlider(thisSize, thisData, (thisVal === recommendedId), sizeme_UI_options.detailedViewContainer, true);\n                    }\n                    // relay change to cloned and vice versa\n                    $(sizeme_UI_options.sizeSelectionContainer).find(\"select\").val(thisVal);\n                });\n\n                // remove existing recommendation\n                $(\".sm-buttonset\").find(\".sm-selectable\").removeClass('sm-recommended');\n\n                // set selection to recommendation on first match\n                if (sizeme_local_options.firstRecommendation) {\n                    // select recommended\n                    $(sizeme_UI_options.sizeSelectionContainer).find(\"select\").val(recommendedId);\n                    // remove existing active\n                    $(\".sm-buttonset\").find(\".sm-selectable\").removeClass('sm-state-active');\n                    // add class\n                    $(\".element_for_\" + recommendedId).addClass('sm-recommended sm-state-active');\n                    var recommendedInput = $(\"#input_\" + recommendedId);\n                    if (recommendedInput.data(\"fitData\")) {\n                        thisData = recommendedInput.data(\"fitData\");\n                        thisSize = recommendedInput.text();\n                        updateSlider(thisSize, thisData, true, sizeme_UI_options.detailedViewContainer, true);\n                    }\n                    sizeme_local_options.firstRecommendation = false;\n                } else {\n                    thisId = '#input_'+$(sizeme_UI_options.sizeSelectionContainer).find(\"select\").val();\n                    if ($(thisId).data(\"fitData\")) {\n                        thisData = $(thisId).data(\"fitData\");\n                        thisSize = $(thisId).text();\n                        updateSlider(thisSize, thisData, true, sizeme_UI_options.detailedViewContainer, true);\n                    }\n                }\n            };\n            // end of function \tgetMatchResponseHandler\n        };\n\n        var matchErrorHandler = function() {\n\t\t\t// this is called when the match function returns an error.  This is most likely due to a wrong or unadded itemType and only visible when the user is logged in.\n\t\t\t// if the itemType is\n\t\t\t$(\".sizeme_slider\").hide();\n\t\t\tconsole.error(\"SizeMe: error in match function.  Please contact your local SizeMe dealer.\");\n\n            // end of function \tmatchErrorHandler\n        };\n\n\n        var loggedInCb = function(sizeMeObj) {\n\n            function setProfileLink() {\n                if (selectedProfile === null) {\n                    linkToSelectedProfile = SizeMe.contextAddress + \"/account/profiles.html\";\n                } else {\n                    linkToSelectedProfile = SizeMe.contextAddress + \"/account/profiles/\" + selectedProfile + \"/profile.html\";\n                }\n            }\n\n            var doProfileChange = function(newValue) {\n                selectedProfile = newValue;\n                setProfileLink();\n\n                if (selectedProfile === null) {\n                    eraseCookie(\"sizeme_profileId\");\n                    goWriteMessages();\n                } else {\n                    $(\".profileSelect\").val(selectedProfile);\n                    createCookie(\"sizeme_profileId\", selectedProfile, cookieLifetime);\n\n                    if (typeof sizeme_product !== 'undefined') {\n                        var prodId = null;\n                        sizeMeObj.match(new SizeMe.FitRequest(selectedProfile, sizeme_product.item), getMatchResponseHandler(prodId, sizeme_product), matchErrorHandler);\n                    }\n                    SizeMe.trackEvent(\"activeProfileChanged\", \"Store: Active profile changed\");\n                }\n                $('#logged_in_link').attr(\"href\", linkToSelectedProfile);\n                // end of function  doProfileChange\n            };\n\n            eraseCookie(\"sizeme_no_thanks\");\n            eraseCookie(\"sizeme_no_product_splash\");\n\n            // remove existing (if exists)\n            $(\"#sizeme_header\").remove();\n            $(\"#popup_opener\").remove();\n            $(\"#sizeme_product_splash\").remove();\n            $(\"#sizeme_detailed_view_content\").dialog(\"destroy\").remove();\n\n            // *** SizeMe Magic\n            if (sizeMeObj !== null) {\n                sizeMeObj.fetchProfilesForAccount(function (profileList) {\n                    var cookieProfile = readCookie(\"sizeme_profileId\");\n                    var $i = 0;\n                    var $new = \"<div id='sizeme_header_container'>\"+getStandardHeader()+\"</div>\";\n\n                    // Prepend header to body\n                    $(sizeme_UI_options.appendContentTo).append(getSliderHtml(systemsGo));\n                    $(\".sizeme_slider .slider_text_below\").append($new);\n                    $(\"#sizeme_header.in_content\").find(\"#logo\").on(\"click\", function() {\n                        $(\"#sizeme_header.in_content\").toggleClass(\"opened\");\n                    });\n\n                    if (profileList.length > 0) {\n                        selectedProfile = profileList[0].id;\n                        $.each(profileList, function () {\n                            if (this.id === cookieProfile) {\n                                selectedProfile = this.id;\n                                return false;\n                            }\n                        });\n\n                        writeDetailedWindow(false);\n                        moveSlider(OPTIMAL_FIT, false);\n\n                        $(\".shopping_for\").empty().html(\"<span class='shopping_for_text'>Shopping for: </span>\")\n                            .append(function () {\n                                var select = document.createElement(\"select\");\n                                select.className = \"profileSelect\";\n                                select.id = \"id_profileSelect_\" + (++$i);\n                                return select;\n                            });\n                        $.each(profileList, function () {\n                            $(\"<option>\").appendTo(\".profileSelect\")\n                                .attr(\"value\", this.id)\n                                .text(this.profileName);\n                        });\n                        $('.profileSelect')\n                            .val(selectedProfile)\n                            .change(function () {\n                                doProfileChange(this.value);\n                            });\n                    } else {\n                        selectedProfile = null;\n                        setProfileLink();\n                        writeDetailedWindow(false);\n                        updateDetailedTable();\n                        $('.slider_bar, .slider_area').hide();\n                        $(\".shopping_for\").empty();\n                        $(\".sizeme_header_content .shopping_for\")\n                            .html(\"<span class='shopping_for_text no-profile'>You have no profiles on your account.</span>\");\n                        $(\".sizeme_detailed_section .shopping_for\")\n                            .append(\n                                $(\"<span>\").addClass(\"shopping_for_text no-profile\")\n                                    .html(\"You have no profiles on your account. Go to \" +\n                                        \"<a id='logged_in_link' href='\" + linkToSelectedProfile + \"' target='_blank'>\" +\n                                        \"My Profiles</a> and create one.\")\n                            );\n                    }\n\n                    $('#logged_in').html(\"<a id='logged_in_link' href='#' target='_blank'>My Profiles</a>\");\n\n                    // Yell change\n                    doProfileChange(selectedProfile);\n                });\n            }\n\n            $(\"#logout\").click(loggedOutCb);\n\n            // end of function \tloggedInCb\n        };\n\n        var loggedOutCb = function() {\n\n            loadArrows(true);\n\n            // Size Guide for non-loving users\n            writeDetailedWindow(true);\n            updateDetailedTable();\n\n\t\t\t// Makia live temporary exception\n\t\t\t// Show size guide text only if there actually is a size guide (otherwise hidden with css)\n\t\t\t$(\".sizeme p\").show();\n\n            // bind change to select\n            $(sizeme_UI_options.sizeSelectionContainer).find(\"select\").change(function() {\n                var thisVal = $(this).val();\n                // relay change to cloned and vice versa\n                $(sizeme_UI_options.sizeSelectionContainer).find(\"select\").val(thisVal);\n                updateDetailedTable(\"\", thisVal);\n            });\n\n            if (sizeme_options.service_status === \"on\") {\n                var splashContent;\n                // Add splash content in detailed\n\t\t\t\tsplashContent = getSplashDetailed();\n\t\t\t\tif (noThanks()) {\n\t\t\t\t\tsplashContent = $(splashContent).hide();\n\t\t\t\t}\n\t\t\t\t$(\"#sizeme_detailed_view_content\").append(splashContent);\n\n                // login button\n                $(\"#sizeme_btn_login\").click(function() {\n\t\t\t\t\tSizeMe.trackEvent(\"clickLogin\", \"Store: Login clicked\");\n                    clearAuthToken();\n                    SizeMe.loginFrame(function() {\n                        sizeMeInit(loggedInCb);\n                    });\n                    return false;\n                });\n\n                $(\"#sizeme_btn_sign_up\").click(function () {\n\t\t\t\t\tSizeMe.trackEvent(\"clickSignUp\", \"Store: Sign up clicked\");\n                    clearAuthToken();\n                    return true;\n                });\n\n                // no thanks button\n                $(\"#sizeme_btn_no_thanks\").on(\"click\", function() {\n                    SizeMe.trackEvent(\"noThanks\", \"Store: SizeMe, no thanks\");\n                    createCookie(\"sizeme_no_thanks\", \"true\", cookieLifetime);\n                    $(\".splash\").hide();\n\t\t\t\t\t$(\"#sizeme_btn_no_thanks_product_splash\").trigger(\"click\");\t\t// also close possible product splasher\n                    return false;\n                });\n\n\t\t\t\t// Product page splash\n\t\t\t\tif (!noProductSplash()) {\n\t\t\t\t\t$(sizeme_UI_options.appendSplashTo).append(getProductSplash());\n\t\t\t\t\t$(\"#sizeme_btn_no_thanks_product_splash\").on(\"click\", function() {\n\t\t\t\t\t\tSizeMe.trackEvent(\"noProductSplash\", \"Store: Product splash closed\");\n\t\t\t\t\t\tcreateCookie(\"sizeme_no_product_splash\", \"true\", cookieLifetime);\n\t\t\t\t\t\t$(\"#sizeme_product_splash\").slideUp();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\n\t\t\t\t\t$(\"#sizeme_product_page_link\").on(\"click\", function() {\n\t\t\t\t\t\tSizeMe.trackEvent(\"clickProductSplash\", \"Store: Product splash clicked\");\n\t\t\t\t\t});\n\n\t\t\t\t}\n            }\n\n            // end of function \tloggedOutCb\n        };\n\n        if (systemsGo) {\n            if (noThanks()) {\n                SizeMe.trackEvent(\"productPageNoSM\", \"Store: Product page load, SizeMe refused\");\n                loggedOutCb();\n            } else {\n                sizeMeInit(function (smObj) {\n                    SizeMe.trackEvent(\"productPageLoggedIn\", \"Store: Product page load, logged in\");\n                    loggedInCb(smObj);\n                }, function () {\n                    SizeMe.trackEvent(\"productPageLoggedOut\", \"Store: Product page load, logged out\");\n                    loggedOutCb();\n                });\n            }\n        }\n        // *** End\n    });\n\n    function isLoggedIn() {\n        return sizeMe !== null && sizeMe.state() === \"resolved\";\n    }\n\n    // Cookie functions\n    function createCookie(name,value,days) {\n        var expires;\n        if (days) {\n            var date = new Date();\n            date.setTime(date.getTime()+(days*24*60*60*1000));\n            expires = \"; expires=\"+date.toGMTString();\n        }\n        else {\n            expires = \"\";\n        }\n        document.cookie = name+\"=\"+value+expires+\"; path=/\";\n    }\n\n    function readCookie(name) {\n        var ca = document.cookie.split(';'), c;\n        for (var i=0;i<ca.length;i++) {\n            c = ca[i].trim().split('=');\n            if (c[0] === name) {\n                return c[1];\n            }\n        }\n        return null;\n    }\n\n    function eraseCookie(name) {\n        createCookie(name,\"\",-1);\n    }\n\n})(jQuery);\n"],"sourceRoot":"/source/"}